(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=s(l);fetch(l.href,r)}})();/**
* @vue/shared v3.5.28
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $o(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ee={},cs=[],_t=()=>{},Wl=()=>!1,hn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ko=e=>e.startsWith("onUpdate:"),Be=Object.assign,Co=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Aa=Object.prototype.hasOwnProperty,Ce=(e,t)=>Aa.call(e,t),de=Array.isArray,fs=e=>Ks(e)==="[object Map]",_s=e=>Ks(e)==="[object Set]",Ho=e=>Ks(e)==="[object Date]",he=e=>typeof e=="function",Ne=e=>typeof e=="string",ft=e=>typeof e=="symbol",Ae=e=>e!==null&&typeof e=="object",Gl=e=>(Ae(e)||he(e))&&he(e.then)&&he(e.catch),Jl=Object.prototype.toString,Ks=e=>Jl.call(e),Ea=e=>Ks(e).slice(8,-1),Zl=e=>Ks(e)==="[object Object]",vn=e=>Ne(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,As=$o(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Ra=/-\w/g,it=xn(e=>e.replace(Ra,t=>t.slice(1).toUpperCase())),Pa=/\B([A-Z])/g,Wt=xn(e=>e.replace(Pa,"-$1").toLowerCase()),yn=xn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Un=xn(e=>e?`on${yn(e)}`:""),qt=(e,t)=>!Object.is(e,t),nn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ql=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},_n=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ko;const wn=()=>Ko||(Ko=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $n(e){if(de(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],l=Ne(n)?Ma(n):$n(n);if(l)for(const r in l)t[r]=l[r]}return t}else if(Ne(e)||Ae(e))return e}const Ia=/;(?![^(]*\))/g,Ta=/:([^]+)/,Da=/\/\*[^]*?\*\//g;function Ma(e){const t={};return e.replace(Da,"").split(Ia).forEach(s=>{if(s){const n=s.split(Ta);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function tt(e){let t="";if(Ne(e))t=e;else if(de(e))for(let s=0;s<e.length;s++){const n=tt(e[s]);n&&(t+=n+" ")}else if(Ae(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Na="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oa=$o(Na);function Yl(e){return!!e||e===""}function Va(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Ht(e[n],t[n]);return s}function Ht(e,t){if(e===t)return!0;let s=Ho(e),n=Ho(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=ft(e),n=ft(t),s||n)return e===t;if(s=de(e),n=de(t),s||n)return s&&n?Va(e,t):!1;if(s=Ae(e),n=Ae(t),s||n){if(!s||!n)return!1;const l=Object.keys(e).length,r=Object.keys(t).length;if(l!==r)return!1;for(const a in e){const i=e.hasOwnProperty(a),u=t.hasOwnProperty(a);if(i&&!u||!i&&u||!Ht(e[a],t[a]))return!1}}return String(e)===String(t)}function So(e,t){return e.findIndex(s=>Ht(s,t))}const Xl=e=>!!(e&&e.__v_isRef===!0),x=e=>Ne(e)?e:e==null?"":de(e)||Ae(e)&&(e.toString===Jl||!he(e.toString))?Xl(e)?x(e.value):JSON.stringify(e,er,2):String(e),er=(e,t)=>Xl(t)?er(e,t.value):fs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,l],r)=>(s[Fn(n,r)+" =>"]=l,s),{})}:_s(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Fn(s))}:ft(t)?Fn(t):Ae(t)&&!de(t)&&!Zl(t)?String(t):t,Fn=(e,t="")=>{var s;return ft(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.28
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let He;class tr{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=He,!t&&He&&(this.index=(He.scopes||(He.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=He;try{return He=this,t()}finally{He=s}}}on(){++this._on===1&&(this.prevScope=He,He=this)}off(){this._on>0&&--this._on===0&&(He=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0}}}function sr(e){return new tr(e)}function nr(){return He}function Ua(e,t=!1){He&&He.cleanups.push(e)}let Pe;const Ln=new WeakSet;class or{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,He&&He.active&&He.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ln.has(this)&&(Ln.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||rr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wo(this),ar(this);const t=Pe,s=ct;Pe=this,ct=!0;try{return this.fn()}finally{ir(this),Pe=t,ct=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ro(t);this.deps=this.depsTail=void 0,Wo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ln.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){no(this)&&this.run()}get dirty(){return no(this)}}let lr=0,Es,Rs;function rr(e,t=!1){if(e.flags|=8,t){e.next=Rs,Rs=e;return}e.next=Es,Es=e}function Ao(){lr++}function Eo(){if(--lr>0)return;if(Rs){let t=Rs;for(Rs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Es;){let t=Es;for(Es=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function ar(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ir(e){let t,s=e.depsTail,n=s;for(;n;){const l=n.prevDep;n.version===-1?(n===s&&(s=l),Ro(n),Fa(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=l}e.deps=t,e.depsTail=s}function no(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ur(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ur(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Vs)||(e.globalVersion=Vs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!no(e))))return;e.flags|=2;const t=e.dep,s=Pe,n=ct;Pe=e,ct=!0;try{ar(e);const l=e.fn(e._value);(t.version===0||qt(l,e._value))&&(e.flags|=128,e._value=l,t.version++)}catch(l){throw t.version++,l}finally{Pe=s,ct=n,ir(e),e.flags&=-3}}function Ro(e,t=!1){const{dep:s,prevSub:n,nextSub:l}=e;if(n&&(n.nextSub=l,e.prevSub=void 0),l&&(l.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Ro(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Fa(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ct=!0;const dr=[];function Dt(){dr.push(ct),ct=!1}function Mt(){const e=dr.pop();ct=e===void 0?!0:e}function Wo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Pe;Pe=void 0;try{t()}finally{Pe=s}}}let Vs=0;class La{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Po{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Pe||!ct||Pe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Pe)s=this.activeLink=new La(Pe,this),Pe.deps?(s.prevDep=Pe.depsTail,Pe.depsTail.nextDep=s,Pe.depsTail=s):Pe.deps=Pe.depsTail=s,cr(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Pe.depsTail,s.nextDep=void 0,Pe.depsTail.nextDep=s,Pe.depsTail=s,Pe.deps===s&&(Pe.deps=n)}return s}trigger(t){this.version++,Vs++,this.notify(t)}notify(t){Ao();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Eo()}}}function cr(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)cr(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const un=new WeakMap,Yt=Symbol(""),oo=Symbol(""),Us=Symbol("");function Ke(e,t,s){if(ct&&Pe){let n=un.get(e);n||un.set(e,n=new Map);let l=n.get(s);l||(n.set(s,l=new Po),l.map=n,l.key=s),l.track()}}function Et(e,t,s,n,l,r){const a=un.get(e);if(!a){Vs++;return}const i=u=>{u&&u.trigger()};if(Ao(),t==="clear")a.forEach(i);else{const u=de(e),c=u&&vn(s);if(u&&s==="length"){const d=Number(n);a.forEach((m,y)=>{(y==="length"||y===Us||!ft(y)&&y>=d)&&i(m)})}else switch((s!==void 0||a.has(void 0))&&i(a.get(s)),c&&i(a.get(Us)),t){case"add":u?c&&i(a.get("length")):(i(a.get(Yt)),fs(e)&&i(a.get(oo)));break;case"delete":u||(i(a.get(Yt)),fs(e)&&i(a.get(oo)));break;case"set":fs(e)&&i(a.get(Yt));break}}Eo()}function za(e,t){const s=un.get(e);return s&&s.get(t)}function rs(e){const t=$e(e);return t===e?t:(Ke(t,"iterate",Us),lt(e)?t:t.map(pt))}function kn(e){return Ke(e=$e(e),"iterate",Us),e}function zt(e,t){return Nt(e)?gs(Tt(e)?pt(t):t):pt(t)}const ja={__proto__:null,[Symbol.iterator](){return zn(this,Symbol.iterator,e=>zt(this,e))},concat(...e){return rs(this).concat(...e.map(t=>de(t)?rs(t):t))},entries(){return zn(this,"entries",e=>(e[1]=zt(this,e[1]),e))},every(e,t){return kt(this,"every",e,t,void 0,arguments)},filter(e,t){return kt(this,"filter",e,t,s=>s.map(n=>zt(this,n)),arguments)},find(e,t){return kt(this,"find",e,t,s=>zt(this,s),arguments)},findIndex(e,t){return kt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return kt(this,"findLast",e,t,s=>zt(this,s),arguments)},findLastIndex(e,t){return kt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return kt(this,"forEach",e,t,void 0,arguments)},includes(...e){return jn(this,"includes",e)},indexOf(...e){return jn(this,"indexOf",e)},join(e){return rs(this).join(e)},lastIndexOf(...e){return jn(this,"lastIndexOf",e)},map(e,t){return kt(this,"map",e,t,void 0,arguments)},pop(){return $s(this,"pop")},push(...e){return $s(this,"push",e)},reduce(e,...t){return Go(this,"reduce",e,t)},reduceRight(e,...t){return Go(this,"reduceRight",e,t)},shift(){return $s(this,"shift")},some(e,t){return kt(this,"some",e,t,void 0,arguments)},splice(...e){return $s(this,"splice",e)},toReversed(){return rs(this).toReversed()},toSorted(e){return rs(this).toSorted(e)},toSpliced(...e){return rs(this).toSpliced(...e)},unshift(...e){return $s(this,"unshift",e)},values(){return zn(this,"values",e=>zt(this,e))}};function zn(e,t,s){const n=kn(e),l=n[t]();return n!==e&&!lt(e)&&(l._next=l.next,l.next=()=>{const r=l._next();return r.done||(r.value=s(r.value)),r}),l}const Ba=Array.prototype;function kt(e,t,s,n,l,r){const a=kn(e),i=a!==e&&!lt(e),u=a[t];if(u!==Ba[t]){const m=u.apply(e,r);return i?pt(m):m}let c=s;a!==e&&(i?c=function(m,y){return s.call(this,zt(e,m),y,e)}:s.length>2&&(c=function(m,y){return s.call(this,m,y,e)}));const d=u.call(a,c,n);return i&&l?l(d):d}function Go(e,t,s,n){const l=kn(e);let r=s;return l!==e&&(lt(e)?s.length>3&&(r=function(a,i,u){return s.call(this,a,i,u,e)}):r=function(a,i,u){return s.call(this,a,zt(e,i),u,e)}),l[t](r,...n)}function jn(e,t,s){const n=$e(e);Ke(n,"iterate",Us);const l=n[t](...s);return(l===-1||l===!1)&&Cn(s[0])?(s[0]=$e(s[0]),n[t](...s)):l}function $s(e,t,s=[]){Dt(),Ao();const n=$e(e)[t].apply(e,s);return Eo(),Mt(),n}const qa=$o("__proto__,__v_isRef,__isVue"),fr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ft));function Ha(e){ft(e)||(e=String(e));const t=$e(this);return Ke(t,"has",e),t.hasOwnProperty(e)}class pr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const l=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!l;if(s==="__v_isReadonly")return l;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(l?r?ti:hr:r?br:gr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=de(t);if(!l){let u;if(a&&(u=ja[s]))return u;if(s==="hasOwnProperty")return Ha}const i=Reflect.get(t,s,Me(t)?t:n);if((ft(s)?fr.has(s):qa(s))||(l||Ke(t,"get",s),r))return i;if(Me(i)){const u=a&&vn(s)?i:i.value;return l&&Ae(u)?ro(u):u}return Ae(i)?l?ro(i):ts(i):i}}class mr extends pr{constructor(t=!1){super(!1,t)}set(t,s,n,l){let r=t[s];const a=de(t)&&vn(s);if(!this._isShallow){const c=Nt(r);if(!lt(n)&&!Nt(n)&&(r=$e(r),n=$e(n)),!a&&Me(r)&&!Me(n))return c||(r.value=n),!0}const i=a?Number(s)<t.length:Ce(t,s),u=Reflect.set(t,s,n,Me(t)?t:l);return t===$e(l)&&(i?qt(n,r)&&Et(t,"set",s,n):Et(t,"add",s,n)),u}deleteProperty(t,s){const n=Ce(t,s);t[s];const l=Reflect.deleteProperty(t,s);return l&&n&&Et(t,"delete",s,void 0),l}has(t,s){const n=Reflect.has(t,s);return(!ft(s)||!fr.has(s))&&Ke(t,"has",s),n}ownKeys(t){return Ke(t,"iterate",de(t)?"length":Yt),Reflect.ownKeys(t)}}class Ka extends pr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Wa=new mr,Ga=new Ka,Ja=new mr(!0);const lo=e=>e,Qs=e=>Reflect.getPrototypeOf(e);function Za(e,t,s){return function(...n){const l=this.__v_raw,r=$e(l),a=fs(r),i=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,c=l[e](...n),d=s?lo:t?gs:pt;return!t&&Ke(r,"iterate",u?oo:Yt),Be(Object.create(c),{next(){const{value:m,done:y}=c.next();return y?{value:m,done:y}:{value:i?[d(m[0]),d(m[1])]:d(m),done:y}}})}}function Ys(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Qa(e,t){const s={get(l){const r=this.__v_raw,a=$e(r),i=$e(l);e||(qt(l,i)&&Ke(a,"get",l),Ke(a,"get",i));const{has:u}=Qs(a),c=t?lo:e?gs:pt;if(u.call(a,l))return c(r.get(l));if(u.call(a,i))return c(r.get(i));r!==a&&r.get(l)},get size(){const l=this.__v_raw;return!e&&Ke($e(l),"iterate",Yt),l.size},has(l){const r=this.__v_raw,a=$e(r),i=$e(l);return e||(qt(l,i)&&Ke(a,"has",l),Ke(a,"has",i)),l===i?r.has(l):r.has(l)||r.has(i)},forEach(l,r){const a=this,i=a.__v_raw,u=$e(i),c=t?lo:e?gs:pt;return!e&&Ke(u,"iterate",Yt),i.forEach((d,m)=>l.call(r,c(d),c(m),a))}};return Be(s,e?{add:Ys("add"),set:Ys("set"),delete:Ys("delete"),clear:Ys("clear")}:{add(l){!t&&!lt(l)&&!Nt(l)&&(l=$e(l));const r=$e(this);return Qs(r).has.call(r,l)||(r.add(l),Et(r,"add",l,l)),this},set(l,r){!t&&!lt(r)&&!Nt(r)&&(r=$e(r));const a=$e(this),{has:i,get:u}=Qs(a);let c=i.call(a,l);c||(l=$e(l),c=i.call(a,l));const d=u.call(a,l);return a.set(l,r),c?qt(r,d)&&Et(a,"set",l,r):Et(a,"add",l,r),this},delete(l){const r=$e(this),{has:a,get:i}=Qs(r);let u=a.call(r,l);u||(l=$e(l),u=a.call(r,l)),i&&i.call(r,l);const c=r.delete(l);return u&&Et(r,"delete",l,void 0),c},clear(){const l=$e(this),r=l.size!==0,a=l.clear();return r&&Et(l,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(l=>{s[l]=Za(l,e,t)}),s}function Io(e,t){const s=Qa(e,t);return(n,l,r)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?n:Reflect.get(Ce(s,l)&&l in n?s:n,l,r)}const Ya={get:Io(!1,!1)},Xa={get:Io(!1,!0)},ei={get:Io(!0,!1)};const gr=new WeakMap,br=new WeakMap,hr=new WeakMap,ti=new WeakMap;function si(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ni(e){return e.__v_skip||!Object.isExtensible(e)?0:si(Ea(e))}function ts(e){return Nt(e)?e:To(e,!1,Wa,Ya,gr)}function vr(e){return To(e,!1,Ja,Xa,br)}function ro(e){return To(e,!0,Ga,ei,hr)}function To(e,t,s,n,l){if(!Ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=ni(e);if(r===0)return e;const a=l.get(e);if(a)return a;const i=new Proxy(e,r===2?n:s);return l.set(e,i),i}function Tt(e){return Nt(e)?Tt(e.__v_raw):!!(e&&e.__v_isReactive)}function Nt(e){return!!(e&&e.__v_isReadonly)}function lt(e){return!!(e&&e.__v_isShallow)}function Cn(e){return e?!!e.__v_raw:!1}function $e(e){const t=e&&e.__v_raw;return t?$e(t):e}function Do(e){return!Ce(e,"__v_skip")&&Object.isExtensible(e)&&Ql(e,"__v_skip",!0),e}const pt=e=>Ae(e)?ts(e):e,gs=e=>Ae(e)?ro(e):e;function Me(e){return e?e.__v_isRef===!0:!1}function P(e){return xr(e,!1)}function oi(e){return xr(e,!0)}function xr(e,t){return Me(e)?e:new li(e,t)}class li{constructor(t,s){this.dep=new Po,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:$e(t),this._value=s?t:pt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||lt(t)||Nt(t);t=n?t:$e(t),qt(t,s)&&(this._rawValue=t,this._value=n?t:pt(t),this.dep.trigger())}}function me(e){return Me(e)?e.value:e}const ri={get:(e,t,s)=>t==="__v_raw"?e:me(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const l=e[t];return Me(l)&&!Me(s)?(l.value=s,!0):Reflect.set(e,t,s,n)}};function yr(e){return Tt(e)?e:new Proxy(e,ri)}function ai(e){const t=de(e)?new Array(e.length):{};for(const s in e)t[s]=ui(e,s);return t}class ii{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=$e(t);let l=!0,r=t;if(!de(t)||!vn(String(s)))do l=!Cn(r)||lt(r);while(l&&(r=r.__v_raw));this._shallow=l}get value(){let t=this._object[this._key];return this._shallow&&(t=me(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Me(this._raw[this._key])){const s=this._object[this._key];if(Me(s)){s.value=t;return}}this._object[this._key]=t}get dep(){return za(this._raw,this._key)}}function ui(e,t,s){return new ii(e,t,s)}class di{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Po(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Pe!==this)return rr(this,!0),!0}get value(){const t=this.dep.track();return ur(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ci(e,t,s=!1){let n,l;return he(e)?n=e:(n=e.get,l=e.set),new di(n,l,s)}const Xs={},dn=new WeakMap;let Zt;function fi(e,t=!1,s=Zt){if(s){let n=dn.get(s);n||dn.set(s,n=[]),n.push(e)}}function pi(e,t,s=Ee){const{immediate:n,deep:l,once:r,scheduler:a,augmentJob:i,call:u}=s,c=j=>l?j:lt(j)||l===!1||l===0?Rt(j,1):Rt(j);let d,m,y,_,R=!1,A=!1;if(Me(e)?(m=()=>e.value,R=lt(e)):Tt(e)?(m=()=>c(e),R=!0):de(e)?(A=!0,R=e.some(j=>Tt(j)||lt(j)),m=()=>e.map(j=>{if(Me(j))return j.value;if(Tt(j))return c(j);if(he(j))return u?u(j,2):j()})):he(e)?t?m=u?()=>u(e,2):e:m=()=>{if(y){Dt();try{y()}finally{Mt()}}const j=Zt;Zt=d;try{return u?u(e,3,[_]):e(_)}finally{Zt=j}}:m=_t,t&&l){const j=m,H=l===!0?1/0:l;m=()=>Rt(j(),H)}const v=nr(),T=()=>{d.stop(),v&&v.active&&Co(v.effects,d)};if(r&&t){const j=t;t=(...H)=>{j(...H),T()}}let I=A?new Array(e.length).fill(Xs):Xs;const U=j=>{if(!(!(d.flags&1)||!d.dirty&&!j))if(t){const H=d.run();if(l||R||(A?H.some((q,ne)=>qt(q,I[ne])):qt(H,I))){y&&y();const q=Zt;Zt=d;try{const ne=[H,I===Xs?void 0:A&&I[0]===Xs?[]:I,_];I=H,u?u(t,3,ne):t(...ne)}finally{Zt=q}}}else d.run()};return i&&i(U),d=new or(m),d.scheduler=a?()=>a(U,!1):U,_=j=>fi(j,!1,d),y=d.onStop=()=>{const j=dn.get(d);if(j){if(u)u(j,4);else for(const H of j)H();dn.delete(d)}},t?n?U(!0):I=d.run():a?a(U.bind(null,!0),!0):d.run(),T.pause=d.pause.bind(d),T.resume=d.resume.bind(d),T.stop=T,T}function Rt(e,t=1/0,s){if(t<=0||!Ae(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Me(e))Rt(e.value,t,s);else if(de(e))for(let n=0;n<e.length;n++)Rt(e[n],t,s);else if(_s(e)||fs(e))e.forEach(n=>{Rt(n,t,s)});else if(Zl(e)){for(const n in e)Rt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Rt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.28
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ws(e,t,s,n){try{return n?e(...n):e()}catch(l){Sn(l,t,s)}}function wt(e,t,s,n){if(he(e)){const l=Ws(e,t,s,n);return l&&Gl(l)&&l.catch(r=>{Sn(r,t,s)}),l}if(de(e)){const l=[];for(let r=0;r<e.length;r++)l.push(wt(e[r],t,s,n));return l}}function Sn(e,t,s,n=!0){const l=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Ee;if(t){let i=t.parent;const u=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const d=i.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](e,u,c)===!1)return}i=i.parent}if(r){Dt(),Ws(r,null,10,[e,u,c]),Mt();return}}mi(e,s,l,n,a)}function mi(e,t,s,n=!0,l=!1){if(l)throw e;console.error(e)}const Ze=[];let xt=-1;const ps=[];let jt=null,is=0;const _r=Promise.resolve();let cn=null;function An(e){const t=cn||_r;return e?t.then(this?e.bind(this):e):t}function gi(e){let t=xt+1,s=Ze.length;for(;t<s;){const n=t+s>>>1,l=Ze[n],r=Fs(l);r<e||r===e&&l.flags&2?t=n+1:s=n}return t}function Mo(e){if(!(e.flags&1)){const t=Fs(e),s=Ze[Ze.length-1];!s||!(e.flags&2)&&t>=Fs(s)?Ze.push(e):Ze.splice(gi(t),0,e),e.flags|=1,wr()}}function wr(){cn||(cn=_r.then(kr))}function bi(e){de(e)?ps.push(...e):jt&&e.id===-1?jt.splice(is+1,0,e):e.flags&1||(ps.push(e),e.flags|=1),wr()}function Jo(e,t,s=xt+1){for(;s<Ze.length;s++){const n=Ze[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Ze.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function $r(e){if(ps.length){const t=[...new Set(ps)].sort((s,n)=>Fs(s)-Fs(n));if(ps.length=0,jt){jt.push(...t);return}for(jt=t,is=0;is<jt.length;is++){const s=jt[is];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}jt=null,is=0}}const Fs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function kr(e){try{for(xt=0;xt<Ze.length;xt++){const t=Ze[xt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ws(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;xt<Ze.length;xt++){const t=Ze[xt];t&&(t.flags&=-2)}xt=-1,Ze.length=0,$r(),cn=null,(Ze.length||ps.length)&&kr()}}let je=null,Cr=null;function fn(e){const t=je;return je=e,Cr=e&&e.type.__scopeId||null,t}function Ve(e,t=je,s){if(!t||e._n)return e;const n=(...l)=>{n._d&&gn(-1);const r=fn(t);let a;try{a=e(...l)}finally{fn(r),n._d&&gn(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function Y(e,t){if(je===null)return e;const s=In(je),n=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[r,a,i,u=Ee]=t[l];r&&(he(r)&&(r={mounted:r,updated:r}),r.deep&&Rt(a),n.push({dir:r,instance:s,value:a,oldValue:void 0,arg:i,modifiers:u}))}return e}function Gt(e,t,s,n){const l=e.dirs,r=t&&t.dirs;for(let a=0;a<l.length;a++){const i=l[a];r&&(i.oldValue=r[a].value);let u=i.dir[n];u&&(Dt(),wt(u,s,8,[e.el,i,e,t]),Mt())}}function on(e,t){if(We){let s=We.provides;const n=We.parent&&We.parent.provides;n===s&&(s=We.provides=Object.create(n)),s[e]=t}}function rt(e,t,s=!1){const n=sa();if(n||Xt){let l=Xt?Xt._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(l&&e in l)return l[e];if(arguments.length>1)return s&&he(t)?t.call(n&&n.proxy):t}}function hi(){return!!(sa()||Xt)}const vi=Symbol.for("v-scx"),xi=()=>rt(vi);function Ps(e,t,s){return Sr(e,t,s)}function Sr(e,t,s=Ee){const{immediate:n,deep:l,flush:r,once:a}=s,i=Be({},s),u=t&&n||!t&&r!=="post";let c;if(js){if(r==="sync"){const _=xi();c=_.__watcherHandles||(_.__watcherHandles=[])}else if(!u){const _=()=>{};return _.stop=_t,_.resume=_t,_.pause=_t,_}}const d=We;i.call=(_,R,A)=>wt(_,d,R,A);let m=!1;r==="post"?i.scheduler=_=>{qe(_,d&&d.suspense)}:r!=="sync"&&(m=!0,i.scheduler=(_,R)=>{R?_():Mo(_)}),i.augmentJob=_=>{t&&(_.flags|=4),m&&(_.flags|=2,d&&(_.id=d.uid,_.i=d))};const y=pi(e,t,i);return js&&(c?c.push(y):u&&y()),y}function yi(e,t,s){const n=this.proxy,l=Ne(e)?e.includes(".")?Ar(n,e):()=>n[e]:e.bind(n,n);let r;he(t)?r=t:(r=t.handler,s=t);const a=Gs(this),i=Sr(l,r.bind(n),s);return a(),i}function Ar(e,t){const s=t.split(".");return()=>{let n=e;for(let l=0;l<s.length&&n;l++)n=n[s[l]];return n}}const Er=Symbol("_vte"),_i=e=>e.__isTeleport,Is=e=>e&&(e.disabled||e.disabled===""),Zo=e=>e&&(e.defer||e.defer===""),Qo=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Yo=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,ao=(e,t)=>{const s=e&&e.to;return Ne(s)?t?t(s):null:s},Rr={name:"Teleport",__isTeleport:!0,process(e,t,s,n,l,r,a,i,u,c){const{mc:d,pc:m,pbc:y,o:{insert:_,querySelector:R,createText:A,createComment:v}}=c,T=Is(t.props);let{shapeFlag:I,children:U,dynamicChildren:j}=t;if(e==null){const H=t.el=A(""),q=t.anchor=A("");_(H,s,n),_(q,s,n);const ne=(se,ue)=>{I&16&&d(U,se,ue,l,r,a,i,u)},X=()=>{const se=t.target=ao(t.props,R),ue=io(se,t,A,_);se&&(a!=="svg"&&Qo(se)?a="svg":a!=="mathml"&&Yo(se)&&(a="mathml"),l&&l.isCE&&(l.ce._teleportTargets||(l.ce._teleportTargets=new Set)).add(se),T||(ne(se,ue),ln(t,!1)))};T&&(ne(s,q),ln(t,!0)),Zo(t.props)?(t.el.__isMounted=!1,qe(()=>{X(),delete t.el.__isMounted},r)):X()}else{if(Zo(t.props)&&e.el.__isMounted===!1){qe(()=>{Rr.process(e,t,s,n,l,r,a,i,u,c)},r);return}t.el=e.el,t.targetStart=e.targetStart;const H=t.anchor=e.anchor,q=t.target=e.target,ne=t.targetAnchor=e.targetAnchor,X=Is(e.props),se=X?s:q,ue=X?H:ne;if(a==="svg"||Qo(q)?a="svg":(a==="mathml"||Yo(q))&&(a="mathml"),j?(y(e.dynamicChildren,j,se,l,r,a,i),Uo(e,t,!0)):u||m(e,t,se,ue,l,r,a,i,!1),T)X?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):en(t,s,H,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const xe=t.target=ao(t.props,R);xe&&en(t,xe,null,c,0)}else X&&en(t,q,ne,c,1);ln(t,T)}},remove(e,t,s,{um:n,o:{remove:l}},r){const{shapeFlag:a,children:i,anchor:u,targetStart:c,targetAnchor:d,target:m,props:y}=e;if(m&&(l(c),l(d)),r&&l(u),a&16){const _=r||!Is(y);for(let R=0;R<i.length;R++){const A=i[R];n(A,t,s,_,!!A.dynamicChildren)}}},move:en,hydrate:wi};function en(e,t,s,{o:{insert:n},m:l},r=2){r===0&&n(e.targetAnchor,t,s);const{el:a,anchor:i,shapeFlag:u,children:c,props:d}=e,m=r===2;if(m&&n(a,t,s),(!m||Is(d))&&u&16)for(let y=0;y<c.length;y++)l(c[y],t,s,2);m&&n(i,t,s)}function wi(e,t,s,n,l,r,{o:{nextSibling:a,parentNode:i,querySelector:u,insert:c,createText:d}},m){function y(v,T){let I=T;for(;I;){if(I&&I.nodeType===8){if(I.data==="teleport start anchor")t.targetStart=I;else if(I.data==="teleport anchor"){t.targetAnchor=I,v._lpa=t.targetAnchor&&a(t.targetAnchor);break}}I=a(I)}}function _(v,T){T.anchor=m(a(v),T,i(v),s,n,l,r)}const R=t.target=ao(t.props,u),A=Is(t.props);if(R){const v=R._lpa||R.firstChild;t.shapeFlag&16&&(A?(_(e,t),y(R,v),t.targetAnchor||io(R,t,d,c,i(e)===R?e:null)):(t.anchor=a(e),y(R,v),t.targetAnchor||io(R,t,d,c),m(v&&a(v),t,R,s,n,l,r))),ln(t,A)}else A&&t.shapeFlag&16&&(_(e,t),t.targetStart=e,t.targetAnchor=a(e));return t.anchor&&a(t.anchor)}const Pr=Rr;function ln(e,t){const s=e.ctx;if(s&&s.ut){let n,l;for(t?(n=e.el,l=e.anchor):(n=e.targetStart,l=e.targetAnchor);n&&n!==l;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function io(e,t,s,n,l=null){const r=t.targetStart=s(""),a=t.targetAnchor=s("");return r[Er]=a,e&&(n(r,e,l),n(a,e,l)),a}const $i=Symbol("_leaveCb");function No(e,t){e.shapeFlag&6&&e.component?(e.transition=t,No(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ir(e,t){return he(e)?Be({name:e.name},t,{setup:e}):e}function Tr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Xo(e,t){let s;return!!((s=Object.getOwnPropertyDescriptor(e,t))&&!s.configurable)}const pn=new WeakMap;function Ts(e,t,s,n,l=!1){if(de(e)){e.forEach((A,v)=>Ts(A,t&&(de(t)?t[v]:t),s,n,l));return}if(ms(n)&&!l){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ts(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?In(n.component):n.el,a=l?null:r,{i,r:u}=e,c=t&&t.r,d=i.refs===Ee?i.refs={}:i.refs,m=i.setupState,y=$e(m),_=m===Ee?Wl:A=>Xo(d,A)?!1:Ce(y,A),R=(A,v)=>!(v&&Xo(d,v));if(c!=null&&c!==u){if(el(t),Ne(c))d[c]=null,_(c)&&(m[c]=null);else if(Me(c)){const A=t;R(c,A.k)&&(c.value=null),A.k&&(d[A.k]=null)}}if(he(u))Ws(u,i,12,[a,d]);else{const A=Ne(u),v=Me(u);if(A||v){const T=()=>{if(e.f){const I=A?_(u)?m[u]:d[u]:R()||!e.k?u.value:d[e.k];if(l)de(I)&&Co(I,r);else if(de(I))I.includes(r)||I.push(r);else if(A)d[u]=[r],_(u)&&(m[u]=d[u]);else{const U=[r];R(u,e.k)&&(u.value=U),e.k&&(d[e.k]=U)}}else A?(d[u]=a,_(u)&&(m[u]=a)):v&&(R(u,e.k)&&(u.value=a),e.k&&(d[e.k]=a))};if(a){const I=()=>{T(),pn.delete(e)};I.id=-1,pn.set(e,I),qe(I,s)}else el(e),T()}}}function el(e){const t=pn.get(e);t&&(t.flags|=8,pn.delete(e))}wn().requestIdleCallback;wn().cancelIdleCallback;const ms=e=>!!e.type.__asyncLoader,Dr=e=>e.type.__isKeepAlive;function ki(e,t){Mr(e,"a",t)}function Ci(e,t){Mr(e,"da",t)}function Mr(e,t,s=We){const n=e.__wdc||(e.__wdc=()=>{let l=s;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(En(t,n,s),s){let l=s.parent;for(;l&&l.parent;)Dr(l.parent.vnode)&&Si(n,t,s,l),l=l.parent}}function Si(e,t,s,n){const l=En(t,e,n,!0);Nr(()=>{Co(n[t],l)},s)}function En(e,t,s=We,n=!1){if(s){const l=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...a)=>{Dt();const i=Gs(s),u=wt(t,s,e,a);return i(),Mt(),u});return n?l.unshift(r):l.push(r),r}}const Ut=e=>(t,s=We)=>{(!js||e==="sp")&&En(e,(...n)=>t(...n),s)},Ai=Ut("bm"),ut=Ut("m"),Ei=Ut("bu"),Ri=Ut("u"),Pi=Ut("bum"),Nr=Ut("um"),Ii=Ut("sp"),Ti=Ut("rtg"),Di=Ut("rtc");function Mi(e,t=We){En("ec",e,t)}const Ni="components",Or=Symbol.for("v-ndc");function es(e){return Ne(e)?Oi(Ni,e,!1)||e:e||Or}function Oi(e,t,s=!0,n=!1){const l=je||We;if(l){const r=l.type;{const i=_u(r,!1);if(i&&(i===t||i===it(t)||i===yn(it(t))))return r}const a=tl(l[e]||r[e],t)||tl(l.appContext[e],t);return!a&&n?r:a}}function tl(e,t){return e&&(e[t]||e[it(t)]||e[yn(it(t))])}function ye(e,t,s,n){let l;const r=s,a=de(e);if(a||Ne(e)){const i=a&&Tt(e);let u=!1,c=!1;i&&(u=!lt(e),c=Nt(e),e=kn(e)),l=new Array(e.length);for(let d=0,m=e.length;d<m;d++)l[d]=t(u?c?gs(pt(e[d])):pt(e[d]):e[d],d,void 0,r)}else if(typeof e=="number"){l=new Array(e);for(let i=0;i<e;i++)l[i]=t(i+1,i,void 0,r)}else if(Ae(e))if(e[Symbol.iterator])l=Array.from(e,(i,u)=>t(i,u,void 0,r));else{const i=Object.keys(e);l=new Array(i.length);for(let u=0,c=i.length;u<c;u++){const d=i[u];l[u]=t(e[d],d,u,r)}}else l=[];return l}function Vi(e,t,s={},n,l){if(je.ce||je.parent&&ms(je.parent)&&je.parent.ce){const c=Object.keys(s).length>0;return w(),Le(fe,null,[ve("slot",s,n)],c?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),w();const a=r&&Vr(r(s)),i=s.key||a&&a.key,u=Le(fe,{key:(i&&!ft(i)?i:`_${t}`)+(!a&&n?"_fb":"")},a||[],a&&e._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),r&&r._c&&(r._d=!0),u}function Vr(e){return e.some(t=>zs(t)?!(t.type===Ot||t.type===fe&&!Vr(t.children)):!0)?e:null}const uo=e=>e?na(e)?In(e):uo(e.parent):null,Ds=Be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>uo(e.parent),$root:e=>uo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Fr(e),$forceUpdate:e=>e.f||(e.f=()=>{Mo(e.update)}),$nextTick:e=>e.n||(e.n=An.bind(e.proxy)),$watch:e=>yi.bind(e)}),Bn=(e,t)=>e!==Ee&&!e.__isScriptSetup&&Ce(e,t),Ui={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:l,props:r,accessCache:a,type:i,appContext:u}=e;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return n[t];case 2:return l[t];case 4:return s[t];case 3:return r[t]}else{if(Bn(n,t))return a[t]=1,n[t];if(l!==Ee&&Ce(l,t))return a[t]=2,l[t];if(Ce(r,t))return a[t]=3,r[t];if(s!==Ee&&Ce(s,t))return a[t]=4,s[t];co&&(a[t]=0)}}const c=Ds[t];let d,m;if(c)return t==="$attrs"&&Ke(e.attrs,"get",""),c(e);if((d=i.__cssModules)&&(d=d[t]))return d;if(s!==Ee&&Ce(s,t))return a[t]=4,s[t];if(m=u.config.globalProperties,Ce(m,t))return m[t]},set({_:e},t,s){const{data:n,setupState:l,ctx:r}=e;return Bn(l,t)?(l[t]=s,!0):n!==Ee&&Ce(n,t)?(n[t]=s,!0):Ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:l,props:r,type:a}},i){let u;return!!(s[i]||e!==Ee&&i[0]!=="$"&&Ce(e,i)||Bn(t,i)||Ce(r,i)||Ce(n,i)||Ce(Ds,i)||Ce(l.config.globalProperties,i)||(u=a.__cssModules)&&u[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ce(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function sl(e){return de(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let co=!0;function Fi(e){const t=Fr(e),s=e.proxy,n=e.ctx;co=!1,t.beforeCreate&&nl(t.beforeCreate,e,"bc");const{data:l,computed:r,methods:a,watch:i,provide:u,inject:c,created:d,beforeMount:m,mounted:y,beforeUpdate:_,updated:R,activated:A,deactivated:v,beforeDestroy:T,beforeUnmount:I,destroyed:U,unmounted:j,render:H,renderTracked:q,renderTriggered:ne,errorCaptured:X,serverPrefetch:se,expose:ue,inheritAttrs:xe,components:_e,directives:oe,filters:O}=t;if(c&&Li(c,n,null),a)for(const h in a){const p=a[h];he(p)&&(n[h]=p.bind(s))}if(l){const h=l.call(s,s);Ae(h)&&(e.data=ts(h))}if(co=!0,r)for(const h in r){const p=r[h],V=he(p)?p.bind(s,s):he(p.get)?p.get.bind(s,s):_t,g=!he(p)&&he(p.set)?p.set.bind(s):_t,F=re({get:V,set:g});Object.defineProperty(n,h,{enumerable:!0,configurable:!0,get:()=>F.value,set:S=>F.value=S})}if(i)for(const h in i)Ur(i[h],n,s,h);if(u){const h=he(u)?u.call(s):u;Reflect.ownKeys(h).forEach(p=>{on(p,h[p])})}d&&nl(d,e,"c");function E(h,p){de(p)?p.forEach(V=>h(V.bind(s))):p&&h(p.bind(s))}if(E(Ai,m),E(ut,y),E(Ei,_),E(Ri,R),E(ki,A),E(Ci,v),E(Mi,X),E(Di,q),E(Ti,ne),E(Pi,I),E(Nr,j),E(Ii,se),de(ue))if(ue.length){const h=e.exposed||(e.exposed={});ue.forEach(p=>{Object.defineProperty(h,p,{get:()=>s[p],set:V=>s[p]=V,enumerable:!0})})}else e.exposed||(e.exposed={});H&&e.render===_t&&(e.render=H),xe!=null&&(e.inheritAttrs=xe),_e&&(e.components=_e),oe&&(e.directives=oe),se&&Tr(e)}function Li(e,t,s=_t){de(e)&&(e=fo(e));for(const n in e){const l=e[n];let r;Ae(l)?"default"in l?r=rt(l.from||n,l.default,!0):r=rt(l.from||n):r=rt(l),Me(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[n]=r}}function nl(e,t,s){wt(de(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ur(e,t,s,n){let l=n.includes(".")?Ar(s,n):()=>s[n];if(Ne(e)){const r=t[e];he(r)&&Ps(l,r)}else if(he(e))Ps(l,e.bind(s));else if(Ae(e))if(de(e))e.forEach(r=>Ur(r,t,s,n));else{const r=he(e.handler)?e.handler.bind(s):t[e.handler];he(r)&&Ps(l,r,e)}}function Fr(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:l,optionsCache:r,config:{optionMergeStrategies:a}}=e.appContext,i=r.get(t);let u;return i?u=i:!l.length&&!s&&!n?u=t:(u={},l.length&&l.forEach(c=>mn(u,c,a,!0)),mn(u,t,a)),Ae(t)&&r.set(t,u),u}function mn(e,t,s,n=!1){const{mixins:l,extends:r}=t;r&&mn(e,r,s,!0),l&&l.forEach(a=>mn(e,a,s,!0));for(const a in t)if(!(n&&a==="expose")){const i=zi[a]||s&&s[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const zi={data:ol,props:ll,emits:ll,methods:Ss,computed:Ss,beforeCreate:Ge,created:Ge,beforeMount:Ge,mounted:Ge,beforeUpdate:Ge,updated:Ge,beforeDestroy:Ge,beforeUnmount:Ge,destroyed:Ge,unmounted:Ge,activated:Ge,deactivated:Ge,errorCaptured:Ge,serverPrefetch:Ge,components:Ss,directives:Ss,watch:Bi,provide:ol,inject:ji};function ol(e,t){return t?e?function(){return Be(he(e)?e.call(this,this):e,he(t)?t.call(this,this):t)}:t:e}function ji(e,t){return Ss(fo(e),fo(t))}function fo(e){if(de(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ge(e,t){return e?[...new Set([].concat(e,t))]:t}function Ss(e,t){return e?Be(Object.create(null),e,t):t}function ll(e,t){return e?de(e)&&de(t)?[...new Set([...e,...t])]:Be(Object.create(null),sl(e),sl(t??{})):t}function Bi(e,t){if(!e)return t;if(!t)return e;const s=Be(Object.create(null),e);for(const n in t)s[n]=Ge(e[n],t[n]);return s}function Lr(){return{app:null,config:{isNativeTag:Wl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qi=0;function Hi(e,t){return function(n,l=null){he(n)||(n=Be({},n)),l!=null&&!Ae(l)&&(l=null);const r=Lr(),a=new WeakSet,i=[];let u=!1;const c=r.app={_uid:qi++,_component:n,_props:l,_container:null,_context:r,_instance:null,version:$u,get config(){return r.config},set config(d){},use(d,...m){return a.has(d)||(d&&he(d.install)?(a.add(d),d.install(c,...m)):he(d)&&(a.add(d),d(c,...m))),c},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),c},component(d,m){return m?(r.components[d]=m,c):r.components[d]},directive(d,m){return m?(r.directives[d]=m,c):r.directives[d]},mount(d,m,y){if(!u){const _=c._ceVNode||ve(n,l);return _.appContext=r,y===!0?y="svg":y===!1&&(y=void 0),e(_,d,y),u=!0,c._container=d,d.__vue_app__=c,In(_.component)}},onUnmount(d){i.push(d)},unmount(){u&&(wt(i,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(d,m){return r.provides[d]=m,c},runWithContext(d){const m=Xt;Xt=c;try{return d()}finally{Xt=m}}};return c}}let Xt=null;const Ki=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${it(t)}Modifiers`]||e[`${Wt(t)}Modifiers`];function Wi(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Ee;let l=s;const r=t.startsWith("update:"),a=r&&Ki(n,t.slice(7));a&&(a.trim&&(l=s.map(d=>Ne(d)?d.trim():d)),a.number&&(l=s.map(_n)));let i,u=n[i=Un(t)]||n[i=Un(it(t))];!u&&r&&(u=n[i=Un(Wt(t))]),u&&wt(u,e,6,l);const c=n[i+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,wt(c,e,6,l)}}const Gi=new WeakMap;function zr(e,t,s=!1){const n=s?Gi:t.emitsCache,l=n.get(e);if(l!==void 0)return l;const r=e.emits;let a={},i=!1;if(!he(e)){const u=c=>{const d=zr(c,t,!0);d&&(i=!0,Be(a,d))};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!r&&!i?(Ae(e)&&n.set(e,null),null):(de(r)?r.forEach(u=>a[u]=null):Be(a,r),Ae(e)&&n.set(e,a),a)}function Rn(e,t){return!e||!hn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ce(e,t[0].toLowerCase()+t.slice(1))||Ce(e,Wt(t))||Ce(e,t))}function rl(e){const{type:t,vnode:s,proxy:n,withProxy:l,propsOptions:[r],slots:a,attrs:i,emit:u,render:c,renderCache:d,props:m,data:y,setupState:_,ctx:R,inheritAttrs:A}=e,v=fn(e);let T,I;try{if(s.shapeFlag&4){const j=l||n,H=j;T=yt(c.call(H,j,d,m,_,y,R)),I=i}else{const j=t;T=yt(j.length>1?j(m,{attrs:i,slots:a,emit:u}):j(m,null)),I=t.props?i:Ji(i)}}catch(j){Ms.length=0,Sn(j,e,1),T=ve(Ot)}let U=T;if(I&&A!==!1){const j=Object.keys(I),{shapeFlag:H}=U;j.length&&H&7&&(r&&j.some(ko)&&(I=Zi(I,r)),U=bs(U,I,!1,!0))}return s.dirs&&(U=bs(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(s.dirs):s.dirs),s.transition&&No(U,s.transition),T=U,fn(v),T}const Ji=e=>{let t;for(const s in e)(s==="class"||s==="style"||hn(s))&&((t||(t={}))[s]=e[s]);return t},Zi=(e,t)=>{const s={};for(const n in e)(!ko(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Qi(e,t,s){const{props:n,children:l,component:r}=e,{props:a,children:i,patchFlag:u}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&u>=0){if(u&1024)return!0;if(u&16)return n?al(n,a,c):!!a;if(u&8){const d=t.dynamicProps;for(let m=0;m<d.length;m++){const y=d[m];if(jr(a,n,y)&&!Rn(c,y))return!0}}}else return(l||i)&&(!i||!i.$stable)?!0:n===a?!1:n?a?al(n,a,c):!0:!!a;return!1}function al(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let l=0;l<n.length;l++){const r=n[l];if(jr(t,e,r)&&!Rn(s,r))return!0}return!1}function jr(e,t,s){const n=e[s],l=t[s];return s==="style"&&Ae(n)&&Ae(l)?!Ht(n,l):n!==l}function Yi({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Br={},qr=()=>Object.create(Br),Hr=e=>Object.getPrototypeOf(e)===Br;function Xi(e,t,s,n=!1){const l={},r=qr();e.propsDefaults=Object.create(null),Kr(e,t,l,r);for(const a in e.propsOptions[0])a in l||(l[a]=void 0);s?e.props=n?l:vr(l):e.type.props?e.props=l:e.props=r,e.attrs=r}function eu(e,t,s,n){const{props:l,attrs:r,vnode:{patchFlag:a}}=e,i=$e(l),[u]=e.propsOptions;let c=!1;if((n||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let m=0;m<d.length;m++){let y=d[m];if(Rn(e.emitsOptions,y))continue;const _=t[y];if(u)if(Ce(r,y))_!==r[y]&&(r[y]=_,c=!0);else{const R=it(y);l[R]=po(u,i,R,_,e,!1)}else _!==r[y]&&(r[y]=_,c=!0)}}}else{Kr(e,t,l,r)&&(c=!0);let d;for(const m in i)(!t||!Ce(t,m)&&((d=Wt(m))===m||!Ce(t,d)))&&(u?s&&(s[m]!==void 0||s[d]!==void 0)&&(l[m]=po(u,i,m,void 0,e,!0)):delete l[m]);if(r!==i)for(const m in r)(!t||!Ce(t,m))&&(delete r[m],c=!0)}c&&Et(e.attrs,"set","")}function Kr(e,t,s,n){const[l,r]=e.propsOptions;let a=!1,i;if(t)for(let u in t){if(As(u))continue;const c=t[u];let d;l&&Ce(l,d=it(u))?!r||!r.includes(d)?s[d]=c:(i||(i={}))[d]=c:Rn(e.emitsOptions,u)||(!(u in n)||c!==n[u])&&(n[u]=c,a=!0)}if(r){const u=$e(s),c=i||Ee;for(let d=0;d<r.length;d++){const m=r[d];s[m]=po(l,u,m,c[m],e,!Ce(c,m))}}return a}function po(e,t,s,n,l,r){const a=e[s];if(a!=null){const i=Ce(a,"default");if(i&&n===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&he(u)){const{propsDefaults:c}=l;if(s in c)n=c[s];else{const d=Gs(l);n=c[s]=u.call(null,t),d()}}else n=u;l.ce&&l.ce._setProp(s,n)}a[0]&&(r&&!i?n=!1:a[1]&&(n===""||n===Wt(s))&&(n=!0))}return n}const tu=new WeakMap;function Wr(e,t,s=!1){const n=s?tu:t.propsCache,l=n.get(e);if(l)return l;const r=e.props,a={},i=[];let u=!1;if(!he(e)){const d=m=>{u=!0;const[y,_]=Wr(m,t,!0);Be(a,y),_&&i.push(..._)};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!r&&!u)return Ae(e)&&n.set(e,cs),cs;if(de(r))for(let d=0;d<r.length;d++){const m=it(r[d]);il(m)&&(a[m]=Ee)}else if(r)for(const d in r){const m=it(d);if(il(m)){const y=r[d],_=a[m]=de(y)||he(y)?{type:y}:Be({},y),R=_.type;let A=!1,v=!0;if(de(R))for(let T=0;T<R.length;++T){const I=R[T],U=he(I)&&I.name;if(U==="Boolean"){A=!0;break}else U==="String"&&(v=!1)}else A=he(R)&&R.name==="Boolean";_[0]=A,_[1]=v,(A||Ce(_,"default"))&&i.push(m)}}const c=[a,i];return Ae(e)&&n.set(e,c),c}function il(e){return e[0]!=="$"&&!As(e)}const Oo=e=>e==="_"||e==="_ctx"||e==="$stable",Vo=e=>de(e)?e.map(yt):[yt(e)],su=(e,t,s)=>{if(t._n)return t;const n=Ve((...l)=>Vo(t(...l)),s);return n._c=!1,n},Gr=(e,t,s)=>{const n=e._ctx;for(const l in e){if(Oo(l))continue;const r=e[l];if(he(r))t[l]=su(l,r,n);else if(r!=null){const a=Vo(r);t[l]=()=>a}}},Jr=(e,t)=>{const s=Vo(t);e.slots.default=()=>s},Zr=(e,t,s)=>{for(const n in t)(s||!Oo(n))&&(e[n]=t[n])},nu=(e,t,s)=>{const n=e.slots=qr();if(e.vnode.shapeFlag&32){const l=t._;l?(Zr(n,t,s),s&&Ql(n,"_",l,!0)):Gr(t,n)}else t&&Jr(e,t)},ou=(e,t,s)=>{const{vnode:n,slots:l}=e;let r=!0,a=Ee;if(n.shapeFlag&32){const i=t._;i?s&&i===1?r=!1:Zr(l,t,s):(r=!t.$stable,Gr(t,l)),a=t}else t&&(Jr(e,t),a={default:1});if(r)for(const i in l)!Oo(i)&&a[i]==null&&delete l[i]},qe=uu;function lu(e){return ru(e)}function ru(e,t){const s=wn();s.__VUE__=!0;const{insert:n,remove:l,patchProp:r,createElement:a,createText:i,createComment:u,setText:c,setElementText:d,parentNode:m,nextSibling:y,setScopeId:_=_t,insertStaticContent:R}=e,A=(f,b,k,$=null,N=null,M=null,G=void 0,J=null,W=!!b.dynamicChildren)=>{if(f===b)return;f&&!ks(f,b)&&($=D(f),S(f,N,M,!0),f=null),b.patchFlag===-2&&(W=!1,b.dynamicChildren=null);const{type:L,ref:ce,shapeFlag:ee}=b;switch(L){case Pn:v(f,b,k,$);break;case Ot:T(f,b,k,$);break;case Hn:f==null&&I(b,k,$,G);break;case fe:_e(f,b,k,$,N,M,G,J,W);break;default:ee&1?H(f,b,k,$,N,M,G,J,W):ee&6?oe(f,b,k,$,N,M,G,J,W):(ee&64||ee&128)&&L.process(f,b,k,$,N,M,G,J,W,le)}ce!=null&&N?Ts(ce,f&&f.ref,M,b||f,!b):ce==null&&f&&f.ref!=null&&Ts(f.ref,null,M,f,!0)},v=(f,b,k,$)=>{if(f==null)n(b.el=i(b.children),k,$);else{const N=b.el=f.el;b.children!==f.children&&c(N,b.children)}},T=(f,b,k,$)=>{f==null?n(b.el=u(b.children||""),k,$):b.el=f.el},I=(f,b,k,$)=>{[f.el,f.anchor]=R(f.children,b,k,$,f.el,f.anchor)},U=({el:f,anchor:b},k,$)=>{let N;for(;f&&f!==b;)N=y(f),n(f,k,$),f=N;n(b,k,$)},j=({el:f,anchor:b})=>{let k;for(;f&&f!==b;)k=y(f),l(f),f=k;l(b)},H=(f,b,k,$,N,M,G,J,W)=>{if(b.type==="svg"?G="svg":b.type==="math"&&(G="mathml"),f==null)q(b,k,$,N,M,G,J,W);else{const L=f.el&&f.el._isVueCE?f.el:null;try{L&&L._beginPatch(),se(f,b,N,M,G,J,W)}finally{L&&L._endPatch()}}},q=(f,b,k,$,N,M,G,J)=>{let W,L;const{props:ce,shapeFlag:ee,transition:ae,dirs:ge}=f;if(W=f.el=a(f.type,M,ce&&ce.is,ce),ee&8?d(W,f.children):ee&16&&X(f.children,W,null,$,N,qn(f,M),G,J),ge&&Gt(f,null,$,"created"),ne(W,f,f.scopeId,G,$),ce){for(const Re in ce)Re!=="value"&&!As(Re)&&r(W,Re,null,ce[Re],M,$);"value"in ce&&r(W,"value",null,ce.value,M),(L=ce.onVnodeBeforeMount)&&vt(L,$,f)}ge&&Gt(f,null,$,"beforeMount");const we=au(N,ae);we&&ae.beforeEnter(W),n(W,b,k),((L=ce&&ce.onVnodeMounted)||we||ge)&&qe(()=>{L&&vt(L,$,f),we&&ae.enter(W),ge&&Gt(f,null,$,"mounted")},N)},ne=(f,b,k,$,N)=>{if(k&&_(f,k),$)for(let M=0;M<$.length;M++)_(f,$[M]);if(N){let M=N.subTree;if(b===M||Xr(M.type)&&(M.ssContent===b||M.ssFallback===b)){const G=N.vnode;ne(f,G,G.scopeId,G.slotScopeIds,N.parent)}}},X=(f,b,k,$,N,M,G,J,W=0)=>{for(let L=W;L<f.length;L++){const ce=f[L]=J?At(f[L]):yt(f[L]);A(null,ce,b,k,$,N,M,G,J)}},se=(f,b,k,$,N,M,G)=>{const J=b.el=f.el;let{patchFlag:W,dynamicChildren:L,dirs:ce}=b;W|=f.patchFlag&16;const ee=f.props||Ee,ae=b.props||Ee;let ge;if(k&&Jt(k,!1),(ge=ae.onVnodeBeforeUpdate)&&vt(ge,k,b,f),ce&&Gt(b,f,k,"beforeUpdate"),k&&Jt(k,!0),(ee.innerHTML&&ae.innerHTML==null||ee.textContent&&ae.textContent==null)&&d(J,""),L?ue(f.dynamicChildren,L,J,k,$,qn(b,N),M):G||p(f,b,J,null,k,$,qn(b,N),M,!1),W>0){if(W&16)xe(J,ee,ae,k,N);else if(W&2&&ee.class!==ae.class&&r(J,"class",null,ae.class,N),W&4&&r(J,"style",ee.style,ae.style,N),W&8){const we=b.dynamicProps;for(let Re=0;Re<we.length;Re++){const Se=we[Re],Xe=ee[Se],et=ae[Se];(et!==Xe||Se==="value")&&r(J,Se,Xe,et,N,k)}}W&1&&f.children!==b.children&&d(J,b.children)}else!G&&L==null&&xe(J,ee,ae,k,N);((ge=ae.onVnodeUpdated)||ce)&&qe(()=>{ge&&vt(ge,k,b,f),ce&&Gt(b,f,k,"updated")},$)},ue=(f,b,k,$,N,M,G)=>{for(let J=0;J<b.length;J++){const W=f[J],L=b[J],ce=W.el&&(W.type===fe||!ks(W,L)||W.shapeFlag&198)?m(W.el):k;A(W,L,ce,null,$,N,M,G,!0)}},xe=(f,b,k,$,N)=>{if(b!==k){if(b!==Ee)for(const M in b)!As(M)&&!(M in k)&&r(f,M,b[M],null,N,$);for(const M in k){if(As(M))continue;const G=k[M],J=b[M];G!==J&&M!=="value"&&r(f,M,J,G,N,$)}"value"in k&&r(f,"value",b.value,k.value,N)}},_e=(f,b,k,$,N,M,G,J,W)=>{const L=b.el=f?f.el:i(""),ce=b.anchor=f?f.anchor:i("");let{patchFlag:ee,dynamicChildren:ae,slotScopeIds:ge}=b;ge&&(J=J?J.concat(ge):ge),f==null?(n(L,k,$),n(ce,k,$),X(b.children||[],k,ce,N,M,G,J,W)):ee>0&&ee&64&&ae&&f.dynamicChildren&&f.dynamicChildren.length===ae.length?(ue(f.dynamicChildren,ae,k,N,M,G,J),(b.key!=null||N&&b===N.subTree)&&Uo(f,b,!0)):p(f,b,k,ce,N,M,G,J,W)},oe=(f,b,k,$,N,M,G,J,W)=>{b.slotScopeIds=J,f==null?b.shapeFlag&512?N.ctx.activate(b,k,$,G,W):O(b,k,$,N,M,G,W):z(f,b,W)},O=(f,b,k,$,N,M,G)=>{const J=f.component=bu(f,$,N);if(Dr(f)&&(J.ctx.renderer=le),hu(J,!1,G),J.asyncDep){if(N&&N.registerDep(J,E,G),!f.el){const W=J.subTree=ve(Ot);T(null,W,b,k),f.placeholder=W.el}}else E(J,f,b,k,N,M,G)},z=(f,b,k)=>{const $=b.component=f.component;if(Qi(f,b,k))if($.asyncDep&&!$.asyncResolved){h($,b,k);return}else $.next=b,$.update();else b.el=f.el,$.vnode=b},E=(f,b,k,$,N,M,G)=>{const J=()=>{if(f.isMounted){let{next:ee,bu:ae,u:ge,parent:we,vnode:Re}=f;{const bt=Qr(f);if(bt){ee&&(ee.el=Re.el,h(f,ee,G)),bt.asyncDep.then(()=>{qe(()=>{f.isUnmounted||L()},N)});return}}let Se=ee,Xe;Jt(f,!1),ee?(ee.el=Re.el,h(f,ee,G)):ee=Re,ae&&nn(ae),(Xe=ee.props&&ee.props.onVnodeBeforeUpdate)&&vt(Xe,we,ee,Re),Jt(f,!0);const et=rl(f),gt=f.subTree;f.subTree=et,A(gt,et,m(gt.el),D(gt),f,N,M),ee.el=et.el,Se===null&&Yi(f,et.el),ge&&qe(ge,N),(Xe=ee.props&&ee.props.onVnodeUpdated)&&qe(()=>vt(Xe,we,ee,Re),N)}else{let ee;const{el:ae,props:ge}=b,{bm:we,m:Re,parent:Se,root:Xe,type:et}=f,gt=ms(b);Jt(f,!1),we&&nn(we),!gt&&(ee=ge&&ge.onVnodeBeforeMount)&&vt(ee,Se,b),Jt(f,!0);{Xe.ce&&Xe.ce._hasShadowRoot()&&Xe.ce._injectChildStyle(et);const bt=f.subTree=rl(f);A(null,bt,k,$,f,N,M),b.el=bt.el}if(Re&&qe(Re,N),!gt&&(ee=ge&&ge.onVnodeMounted)){const bt=b;qe(()=>vt(ee,Se,bt),N)}(b.shapeFlag&256||Se&&ms(Se.vnode)&&Se.vnode.shapeFlag&256)&&f.a&&qe(f.a,N),f.isMounted=!0,b=k=$=null}};f.scope.on();const W=f.effect=new or(J);f.scope.off();const L=f.update=W.run.bind(W),ce=f.job=W.runIfDirty.bind(W);ce.i=f,ce.id=f.uid,W.scheduler=()=>Mo(ce),Jt(f,!0),L()},h=(f,b,k)=>{b.component=f;const $=f.vnode.props;f.vnode=b,f.next=null,eu(f,b.props,$,k),ou(f,b.children,k),Dt(),Jo(f),Mt()},p=(f,b,k,$,N,M,G,J,W=!1)=>{const L=f&&f.children,ce=f?f.shapeFlag:0,ee=b.children,{patchFlag:ae,shapeFlag:ge}=b;if(ae>0){if(ae&128){g(L,ee,k,$,N,M,G,J,W);return}else if(ae&256){V(L,ee,k,$,N,M,G,J,W);return}}ge&8?(ce&16&&Oe(L,N,M),ee!==L&&d(k,ee)):ce&16?ge&16?g(L,ee,k,$,N,M,G,J,W):Oe(L,N,M,!0):(ce&8&&d(k,""),ge&16&&X(ee,k,$,N,M,G,J,W))},V=(f,b,k,$,N,M,G,J,W)=>{f=f||cs,b=b||cs;const L=f.length,ce=b.length,ee=Math.min(L,ce);let ae;for(ae=0;ae<ee;ae++){const ge=b[ae]=W?At(b[ae]):yt(b[ae]);A(f[ae],ge,k,null,N,M,G,J,W)}L>ce?Oe(f,N,M,!0,!1,ee):X(b,k,$,N,M,G,J,W,ee)},g=(f,b,k,$,N,M,G,J,W)=>{let L=0;const ce=b.length;let ee=f.length-1,ae=ce-1;for(;L<=ee&&L<=ae;){const ge=f[L],we=b[L]=W?At(b[L]):yt(b[L]);if(ks(ge,we))A(ge,we,k,null,N,M,G,J,W);else break;L++}for(;L<=ee&&L<=ae;){const ge=f[ee],we=b[ae]=W?At(b[ae]):yt(b[ae]);if(ks(ge,we))A(ge,we,k,null,N,M,G,J,W);else break;ee--,ae--}if(L>ee){if(L<=ae){const ge=ae+1,we=ge<ce?b[ge].el:$;for(;L<=ae;)A(null,b[L]=W?At(b[L]):yt(b[L]),k,we,N,M,G,J,W),L++}}else if(L>ae)for(;L<=ee;)S(f[L],N,M,!0),L++;else{const ge=L,we=L,Re=new Map;for(L=we;L<=ae;L++){const nt=b[L]=W?At(b[L]):yt(b[L]);nt.key!=null&&Re.set(nt.key,L)}let Se,Xe=0;const et=ae-we+1;let gt=!1,bt=0;const ws=new Array(et);for(L=0;L<et;L++)ws[L]=0;for(L=ge;L<=ee;L++){const nt=f[L];if(Xe>=et){S(nt,N,M,!0);continue}let ht;if(nt.key!=null)ht=Re.get(nt.key);else for(Se=we;Se<=ae;Se++)if(ws[Se-we]===0&&ks(nt,b[Se])){ht=Se;break}ht===void 0?S(nt,N,M,!0):(ws[ht-we]=L+1,ht>=bt?bt=ht:gt=!0,A(nt,b[ht],k,null,N,M,G,J,W),Xe++)}const jo=gt?iu(ws):cs;for(Se=jo.length-1,L=et-1;L>=0;L--){const nt=we+L,ht=b[nt],Bo=b[nt+1],qo=nt+1<ce?Bo.el||Yr(Bo):$;ws[L]===0?A(null,ht,k,qo,N,M,G,J,W):gt&&(Se<0||L!==jo[Se]?F(ht,k,qo,2):Se--)}}},F=(f,b,k,$,N=null)=>{const{el:M,type:G,transition:J,children:W,shapeFlag:L}=f;if(L&6){F(f.component.subTree,b,k,$);return}if(L&128){f.suspense.move(b,k,$);return}if(L&64){G.move(f,b,k,le);return}if(G===fe){n(M,b,k);for(let ee=0;ee<W.length;ee++)F(W[ee],b,k,$);n(f.anchor,b,k);return}if(G===Hn){U(f,b,k);return}if($!==2&&L&1&&J)if($===0)J.beforeEnter(M),n(M,b,k),qe(()=>J.enter(M),N);else{const{leave:ee,delayLeave:ae,afterLeave:ge}=J,we=()=>{f.ctx.isUnmounted?l(M):n(M,b,k)},Re=()=>{M._isLeaving&&M[$i](!0),ee(M,()=>{we(),ge&&ge()})};ae?ae(M,we,Re):Re()}else n(M,b,k)},S=(f,b,k,$=!1,N=!1)=>{const{type:M,props:G,ref:J,children:W,dynamicChildren:L,shapeFlag:ce,patchFlag:ee,dirs:ae,cacheIndex:ge}=f;if(ee===-2&&(N=!1),J!=null&&(Dt(),Ts(J,null,k,f,!0),Mt()),ge!=null&&(b.renderCache[ge]=void 0),ce&256){b.ctx.deactivate(f);return}const we=ce&1&&ae,Re=!ms(f);let Se;if(Re&&(Se=G&&G.onVnodeBeforeUnmount)&&vt(Se,b,f),ce&6)Ie(f.component,k,$);else{if(ce&128){f.suspense.unmount(k,$);return}we&&Gt(f,null,b,"beforeUnmount"),ce&64?f.type.remove(f,b,k,le,$):L&&!L.hasOnce&&(M!==fe||ee>0&&ee&64)?Oe(L,b,k,!1,!0):(M===fe&&ee&384||!N&&ce&16)&&Oe(W,b,k),$&&be(f)}(Re&&(Se=G&&G.onVnodeUnmounted)||we)&&qe(()=>{Se&&vt(Se,b,f),we&&Gt(f,null,b,"unmounted")},k)},be=f=>{const{type:b,el:k,anchor:$,transition:N}=f;if(b===fe){Z(k,$);return}if(b===Hn){j(f);return}const M=()=>{l(k),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(f.shapeFlag&1&&N&&!N.persisted){const{leave:G,delayLeave:J}=N,W=()=>G(k,M);J?J(f.el,M,W):W()}else M()},Z=(f,b)=>{let k;for(;f!==b;)k=y(f),l(f),f=k;l(b)},Ie=(f,b,k)=>{const{bum:$,scope:N,job:M,subTree:G,um:J,m:W,a:L}=f;ul(W),ul(L),$&&nn($),N.stop(),M&&(M.flags|=8,S(G,f,b,k)),J&&qe(J,b),qe(()=>{f.isUnmounted=!0},b)},Oe=(f,b,k,$=!1,N=!1,M=0)=>{for(let G=M;G<f.length;G++)S(f[G],b,k,$,N)},D=f=>{if(f.shapeFlag&6)return D(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const b=y(f.anchor||f.el),k=b&&b[Er];return k?y(k):b};let te=!1;const Q=(f,b,k)=>{let $;f==null?b._vnode&&(S(b._vnode,null,null,!0),$=b._vnode.component):A(b._vnode||null,f,b,null,null,null,k),b._vnode=f,te||(te=!0,Jo($),$r(),te=!1)},le={p:A,um:S,m:F,r:be,mt:O,mc:X,pc:p,pbc:ue,n:D,o:e};return{render:Q,hydrate:void 0,createApp:Hi(Q)}}function qn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Jt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function au(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Uo(e,t,s=!1){const n=e.children,l=t.children;if(de(n)&&de(l))for(let r=0;r<n.length;r++){const a=n[r];let i=l[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=l[r]=At(l[r]),i.el=a.el),!s&&i.patchFlag!==-2&&Uo(a,i)),i.type===Pn&&(i.patchFlag===-1&&(i=l[r]=At(i)),i.el=a.el),i.type===Ot&&!i.el&&(i.el=a.el)}}function iu(e){const t=e.slice(),s=[0];let n,l,r,a,i;const u=e.length;for(n=0;n<u;n++){const c=e[n];if(c!==0){if(l=s[s.length-1],e[l]<c){t[n]=l,s.push(n);continue}for(r=0,a=s.length-1;r<a;)i=r+a>>1,e[s[i]]<c?r=i+1:a=i;c<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,a=s[r-1];r-- >0;)s[r]=a,a=t[a];return s}function Qr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Qr(t)}function ul(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Yr(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Yr(t.subTree):null}const Xr=e=>e.__isSuspense;function uu(e,t){t&&t.pendingBranch?de(e)?t.effects.push(...e):t.effects.push(e):bi(e)}const fe=Symbol.for("v-fgt"),Pn=Symbol.for("v-txt"),Ot=Symbol.for("v-cmt"),Hn=Symbol.for("v-stc"),Ms=[];let ot=null;function w(e=!1){Ms.push(ot=e?null:[])}function du(){Ms.pop(),ot=Ms[Ms.length-1]||null}let Ls=1;function gn(e,t=!1){Ls+=e,e<0&&ot&&t&&(ot.hasOnce=!0)}function ea(e){return e.dynamicChildren=Ls>0?ot||cs:null,du(),Ls>0&&ot&&ot.push(e),e}function C(e,t,s,n,l,r){return ea(o(e,t,s,n,l,r,!0))}function Le(e,t,s,n,l){return ea(ve(e,t,s,n,l,!0))}function zs(e){return e?e.__v_isVNode===!0:!1}function ks(e,t){return e.type===t.type&&e.key===t.key}const ta=({key:e})=>e??null,rn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ne(e)||Me(e)||he(e)?{i:je,r:e,k:t,f:!!s}:e:null);function o(e,t=null,s=null,n=0,l=null,r=e===fe?0:1,a=!1,i=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ta(t),ref:t&&rn(t),scopeId:Cr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:je};return i?(Fo(u,s),r&128&&e.normalize(u)):s&&(u.shapeFlag|=Ne(s)?8:16),Ls>0&&!a&&ot&&(u.patchFlag>0||r&6)&&u.patchFlag!==32&&ot.push(u),u}const ve=cu;function cu(e,t=null,s=null,n=0,l=null,r=!1){if((!e||e===Or)&&(e=Ot),zs(e)){const i=bs(e,t,!0);return s&&Fo(i,s),Ls>0&&!r&&ot&&(i.shapeFlag&6?ot[ot.indexOf(e)]=i:ot.push(i)),i.patchFlag=-2,i}if(wu(e)&&(e=e.__vccOpts),t){t=fu(t);let{class:i,style:u}=t;i&&!Ne(i)&&(t.class=tt(i)),Ae(u)&&(Cn(u)&&!de(u)&&(u=Be({},u)),t.style=$n(u))}const a=Ne(e)?1:Xr(e)?128:_i(e)?64:Ae(e)?4:he(e)?2:0;return o(e,t,s,n,l,a,r,!0)}function fu(e){return e?Cn(e)||Hr(e)?Be({},e):e:null}function bs(e,t,s=!1,n=!1){const{props:l,ref:r,patchFlag:a,children:i,transition:u}=e,c=t?pu(l||{},t):l,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&ta(c),ref:t&&t.ref?s&&r?de(r)?r.concat(rn(t)):[r,rn(t)]:rn(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fe?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&bs(e.ssContent),ssFallback:e.ssFallback&&bs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&n&&No(d,u.clone(d)),d}function pe(e=" ",t=0){return ve(Pn,null,e,t)}function K(e="",t=!1){return t?(w(),Le(Ot,null,e)):ve(Ot,null,e)}function yt(e){return e==null||typeof e=="boolean"?ve(Ot):de(e)?ve(fe,null,e.slice()):zs(e)?At(e):ve(Pn,null,String(e))}function At(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:bs(e)}function Fo(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(de(t))s=16;else if(typeof t=="object")if(n&65){const l=t.default;l&&(l._c&&(l._d=!1),Fo(e,l()),l._c&&(l._d=!0));return}else{s=32;const l=t._;!l&&!Hr(t)?t._ctx=je:l===3&&je&&(je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else he(t)?(t={default:t,_ctx:je},s=32):(t=String(t),n&64?(s=16,t=[pe(t)]):s=8);e.children=t,e.shapeFlag|=s}function pu(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const l in n)if(l==="class")t.class!==n.class&&(t.class=tt([t.class,n.class]));else if(l==="style")t.style=$n([t.style,n.style]);else if(hn(l)){const r=t[l],a=n[l];a&&r!==a&&!(de(r)&&r.includes(a))&&(t[l]=r?[].concat(r,a):a)}else l!==""&&(t[l]=n[l])}return t}function vt(e,t,s,n=null){wt(e,t,7,[s,n])}const mu=Lr();let gu=0;function bu(e,t,s){const n=e.type,l=(t?t.appContext:e.appContext)||mu,r={uid:gu++,vnode:e,type:n,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new tr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wr(n,l),emitsOptions:zr(n,l),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:n.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Wi.bind(null,r),e.ce&&e.ce(r),r}let We=null;const sa=()=>We||je;let bn,mo;{const e=wn(),t=(s,n)=>{let l;return(l=e[s])||(l=e[s]=[]),l.push(n),r=>{l.length>1?l.forEach(a=>a(r)):l[0](r)}};bn=t("__VUE_INSTANCE_SETTERS__",s=>We=s),mo=t("__VUE_SSR_SETTERS__",s=>js=s)}const Gs=e=>{const t=We;return bn(e),e.scope.on(),()=>{e.scope.off(),bn(t)}},dl=()=>{We&&We.scope.off(),bn(null)};function na(e){return e.vnode.shapeFlag&4}let js=!1;function hu(e,t=!1,s=!1){t&&mo(t);const{props:n,children:l}=e.vnode,r=na(e);Xi(e,n,r,t),nu(e,l,s||t);const a=r?vu(e,t):void 0;return t&&mo(!1),a}function vu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ui);const{setup:n}=s;if(n){Dt();const l=e.setupContext=n.length>1?yu(e):null,r=Gs(e),a=Ws(n,e,0,[e.props,l]),i=Gl(a);if(Mt(),r(),(i||e.sp)&&!ms(e)&&Tr(e),i){if(a.then(dl,dl),t)return a.then(u=>{cl(e,u)}).catch(u=>{Sn(u,e,0)});e.asyncDep=a}else cl(e,a)}else oa(e)}function cl(e,t,s){he(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ae(t)&&(e.setupState=yr(t)),oa(e)}function oa(e,t,s){const n=e.type;e.render||(e.render=n.render||_t);{const l=Gs(e);Dt();try{Fi(e)}finally{Mt(),l()}}}const xu={get(e,t){return Ke(e,"get",""),e[t]}};function yu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,xu),slots:e.slots,emit:e.emit,expose:t}}function In(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(yr(Do(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ds)return Ds[s](e)},has(t,s){return s in t||s in Ds}})):e.proxy}function _u(e,t=!0){return he(e)?e.displayName||e.name:e.name||t&&e.__name}function wu(e){return he(e)&&"__vccOpts"in e}const re=(e,t)=>ci(e,t,js);function Bs(e,t,s){try{gn(-1);const n=arguments.length;return n===2?Ae(t)&&!de(t)?zs(t)?ve(e,null,[t]):ve(e,t):ve(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&zs(s)&&(s=[s]),ve(e,t,s))}finally{gn(1)}}const $u="3.5.28";/**
* @vue/runtime-dom v3.5.28
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let go;const fl=typeof window<"u"&&window.trustedTypes;if(fl)try{go=fl.createPolicy("vue",{createHTML:e=>e})}catch{}const la=go?e=>go.createHTML(e):e=>e,ku="http://www.w3.org/2000/svg",Cu="http://www.w3.org/1998/Math/MathML",St=typeof document<"u"?document:null,pl=St&&St.createElement("template"),Su={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const l=t==="svg"?St.createElementNS(ku,e):t==="mathml"?St.createElementNS(Cu,e):s?St.createElement(e,{is:s}):St.createElement(e);return e==="select"&&n&&n.multiple!=null&&l.setAttribute("multiple",n.multiple),l},createText:e=>St.createTextNode(e),createComment:e=>St.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>St.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,l,r){const a=s?s.previousSibling:t.lastChild;if(l&&(l===r||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),s),!(l===r||!(l=l.nextSibling)););else{pl.innerHTML=la(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const i=pl.content;if(n==="svg"||n==="mathml"){const u=i.firstChild;for(;u.firstChild;)i.appendChild(u.firstChild);i.removeChild(u)}t.insertBefore(i,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Au=Symbol("_vtc");function Eu(e,t,s){const n=e[Au];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const ml=Symbol("_vod"),Ru=Symbol("_vsh"),Pu=Symbol(""),Iu=/(?:^|;)\s*display\s*:/;function Tu(e,t,s){const n=e.style,l=Ne(s);let r=!1;if(s&&!l){if(t)if(Ne(t))for(const a of t.split(";")){const i=a.slice(0,a.indexOf(":")).trim();s[i]==null&&an(n,i,"")}else for(const a in t)s[a]==null&&an(n,a,"");for(const a in s)a==="display"&&(r=!0),an(n,a,s[a])}else if(l){if(t!==s){const a=n[Pu];a&&(s+=";"+a),n.cssText=s,r=Iu.test(s)}}else t&&e.removeAttribute("style");ml in e&&(e[ml]=r?n.display:"",e[Ru]&&(n.display="none"))}const gl=/\s*!important$/;function an(e,t,s){if(de(s))s.forEach(n=>an(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Du(e,t);gl.test(s)?e.setProperty(Wt(n),s.replace(gl,""),"important"):e[n]=s}}const bl=["Webkit","Moz","ms"],Kn={};function Du(e,t){const s=Kn[t];if(s)return s;let n=it(t);if(n!=="filter"&&n in e)return Kn[t]=n;n=yn(n);for(let l=0;l<bl.length;l++){const r=bl[l]+n;if(r in e)return Kn[t]=r}return t}const hl="http://www.w3.org/1999/xlink";function vl(e,t,s,n,l,r=Oa(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(hl,t.slice(6,t.length)):e.setAttributeNS(hl,t,s):s==null||r&&!Yl(s)?e.removeAttribute(t):e.setAttribute(t,r?"":ft(s)?String(s):s)}function xl(e,t,s,n,l){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?la(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const i=r==="OPTION"?e.getAttribute("value")||"":e.value,u=s==null?e.type==="checkbox"?"on":"":String(s);(i!==u||!("_value"in e))&&(e.value=u),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=Yl(s):s==null&&i==="string"?(s="",a=!0):i==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(l||t)}function Pt(e,t,s,n){e.addEventListener(t,s,n)}function Mu(e,t,s,n){e.removeEventListener(t,s,n)}const yl=Symbol("_vei");function Nu(e,t,s,n,l=null){const r=e[yl]||(e[yl]={}),a=r[t];if(n&&a)a.value=n;else{const[i,u]=Ou(t);if(n){const c=r[t]=Fu(n,l);Pt(e,i,c,u)}else a&&(Mu(e,i,a,u),r[t]=void 0)}}const _l=/(?:Once|Passive|Capture)$/;function Ou(e){let t;if(_l.test(e)){t={};let n;for(;n=e.match(_l);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Wt(e.slice(2)),t]}let Wn=0;const Vu=Promise.resolve(),Uu=()=>Wn||(Vu.then(()=>Wn=0),Wn=Date.now());function Fu(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;wt(Lu(n,s.value),t,5,[n])};return s.value=e,s.attached=Uu(),s}function Lu(e,t){if(de(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>l=>!l._stopped&&n&&n(l))}else return t}const wl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zu=(e,t,s,n,l,r)=>{const a=l==="svg";t==="class"?Eu(e,n,a):t==="style"?Tu(e,s,n):hn(t)?ko(t)||Nu(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ju(e,t,n,a))?(xl(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&vl(e,t,n,a,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ne(n))?xl(e,it(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),vl(e,t,n,a))};function ju(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&wl(t)&&he(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const l=e.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return wl(t)&&Ne(s)?!1:t in e}const Kt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return de(t)?s=>nn(t,s):t};function Bu(e){e.target.composing=!0}function $l(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const at=Symbol("_assign");function kl(e,t,s){return t&&(e=e.trim()),s&&(e=_n(e)),e}const ie={created(e,{modifiers:{lazy:t,trim:s,number:n}},l){e[at]=Kt(l);const r=n||l.props&&l.props.type==="number";Pt(e,t?"change":"input",a=>{a.target.composing||e[at](kl(e.value,s,r))}),(s||r)&&Pt(e,"change",()=>{e.value=kl(e.value,s,r)}),t||(Pt(e,"compositionstart",Bu),Pt(e,"compositionend",$l),Pt(e,"change",$l))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:l,number:r}},a){if(e[at]=Kt(a),e.composing)return;const i=(r||e.type==="number")&&!/^0\d/.test(e.value)?_n(e.value):e.value,u=t??"";i!==u&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||l&&e.value.trim()===u)||(e.value=u))}},ss={deep:!0,created(e,t,s){e[at]=Kt(s),Pt(e,"change",()=>{const n=e._modelValue,l=hs(e),r=e.checked,a=e[at];if(de(n)){const i=So(n,l),u=i!==-1;if(r&&!u)a(n.concat(l));else if(!r&&u){const c=[...n];c.splice(i,1),a(c)}}else if(_s(n)){const i=new Set(n);r?i.add(l):i.delete(l),a(i)}else a(ra(e,r))})},mounted:Cl,beforeUpdate(e,t,s){e[at]=Kt(s),Cl(e,t,s)}};function Cl(e,{value:t,oldValue:s},n){e._modelValue=t;let l;if(de(t))l=So(t,n.props.value)>-1;else if(_s(t))l=t.has(n.props.value);else{if(t===s)return;l=Ht(t,ra(e,!0))}e.checked!==l&&(e.checked=l)}const qu={created(e,{value:t},s){e.checked=Ht(t,s.props.value),e[at]=Kt(s),Pt(e,"change",()=>{e[at](hs(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[at]=Kt(n),t!==s&&(e.checked=Ht(t,n.props.value))}},It={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const l=_s(t);Pt(e,"change",()=>{const r=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>s?_n(hs(a)):hs(a));e[at](e.multiple?l?new Set(r):r:r[0]),e._assigning=!0,An(()=>{e._assigning=!1})}),e[at]=Kt(n)},mounted(e,{value:t}){Sl(e,t)},beforeUpdate(e,t,s){e[at]=Kt(s)},updated(e,{value:t}){e._assigning||Sl(e,t)}};function Sl(e,t){const s=e.multiple,n=de(t);if(!(s&&!n&&!_s(t))){for(let l=0,r=e.options.length;l<r;l++){const a=e.options[l],i=hs(a);if(s)if(n){const u=typeof i;u==="string"||u==="number"?a.selected=t.some(c=>String(c)===String(i)):a.selected=So(t,i)>-1}else a.selected=t.has(i);else if(Ht(hs(a),t)){e.selectedIndex!==l&&(e.selectedIndex=l);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function hs(e){return"_value"in e?e._value:e.value}function ra(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const vs={created(e,t,s){tn(e,t,s,null,"created")},mounted(e,t,s){tn(e,t,s,null,"mounted")},beforeUpdate(e,t,s,n){tn(e,t,s,n,"beforeUpdate")},updated(e,t,s,n){tn(e,t,s,n,"updated")}};function Hu(e,t){switch(e){case"SELECT":return It;case"TEXTAREA":return ie;default:switch(t){case"checkbox":return ss;case"radio":return qu;default:return ie}}}function tn(e,t,s,n,l){const a=Hu(e.tagName,s.props&&s.props.type)[l];a&&a(e,t,s,n)}const Ku=["ctrl","shift","alt","meta"],Wu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ku.some(s=>e[`${s}Key`]&&!t.includes(s))},Ye=(e,t)=>{if(!e)return e;const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(l,...r)=>{for(let a=0;a<t.length;a++){const i=Wu[t[a]];if(i&&i(l,t))return}return e(l,...r)})},Gu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Js=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=l=>{if(!("key"in l))return;const r=Wt(l.key);if(t.some(a=>a===r||Gu[a]===r))return e(l)})},Ju=Be({patchProp:zu},Su);let Al;function Zu(){return Al||(Al=lu(Ju))}const Qu=(...e)=>{const t=Zu().createApp(...e),{mount:s}=t;return t.mount=n=>{const l=Xu(n);if(!l)return;const r=t._component;!he(r)&&!r.render&&!r.template&&(r.template=l.innerHTML),l.nodeType===1&&(l.textContent="");const a=s(l,!1,Yu(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),a},t};function Yu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Xu(e){return Ne(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let aa;const Tn=e=>aa=e,ia=Symbol();function bo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ns;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ns||(Ns={}));function ed(){const e=sr(!0),t=e.run(()=>P({}));let s=[],n=[];const l=Do({install(r){Tn(l),l._a=r,r.provide(ia,l),r.config.globalProperties.$pinia=l,n.forEach(a=>s.push(a)),n=[]},use(r){return this._a?s.push(r):n.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return l}const ua=()=>{};function El(e,t,s,n=ua){e.push(t);const l=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),n())};return!s&&nr()&&Ua(l),l}function as(e,...t){e.slice().forEach(s=>{s(...t)})}const td=e=>e(),Rl=Symbol(),Gn=Symbol();function ho(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],l=e[s];bo(l)&&bo(n)&&e.hasOwnProperty(s)&&!Me(n)&&!Tt(n)?e[s]=ho(l,n):e[s]=n}return e}const sd=Symbol();function nd(e){return!bo(e)||!e.hasOwnProperty(sd)}const{assign:Lt}=Object;function od(e){return!!(Me(e)&&e.effect)}function ld(e,t,s,n){const{state:l,actions:r,getters:a}=t,i=s.state.value[e];let u;function c(){i||(s.state.value[e]=l?l():{});const d=ai(s.state.value[e]);return Lt(d,r,Object.keys(a||{}).reduce((m,y)=>(m[y]=Do(re(()=>{Tn(s);const _=s._s.get(e);return a[y].call(_,_)})),m),{}))}return u=da(e,c,t,s,n,!0),u}function da(e,t,s={},n,l,r){let a;const i=Lt({actions:{}},s),u={deep:!0};let c,d,m=[],y=[],_;const R=n.state.value[e];!r&&!R&&(n.state.value[e]={});let A;function v(X){let se;c=d=!1,typeof X=="function"?(X(n.state.value[e]),se={type:Ns.patchFunction,storeId:e,events:_}):(ho(n.state.value[e],X),se={type:Ns.patchObject,payload:X,storeId:e,events:_});const ue=A=Symbol();An().then(()=>{A===ue&&(c=!0)}),d=!0,as(m,se,n.state.value[e])}const T=r?function(){const{state:se}=s,ue=se?se():{};this.$patch(xe=>{Lt(xe,ue)})}:ua;function I(){a.stop(),m=[],y=[],n._s.delete(e)}const U=(X,se="")=>{if(Rl in X)return X[Gn]=se,X;const ue=function(){Tn(n);const xe=Array.from(arguments),_e=[],oe=[];function O(h){_e.push(h)}function z(h){oe.push(h)}as(y,{args:xe,name:ue[Gn],store:H,after:O,onError:z});let E;try{E=X.apply(this&&this.$id===e?this:H,xe)}catch(h){throw as(oe,h),h}return E instanceof Promise?E.then(h=>(as(_e,h),h)).catch(h=>(as(oe,h),Promise.reject(h))):(as(_e,E),E)};return ue[Rl]=!0,ue[Gn]=se,ue},j={_p:n,$id:e,$onAction:El.bind(null,y),$patch:v,$reset:T,$subscribe(X,se={}){const ue=El(m,X,se.detached,()=>xe()),xe=a.run(()=>Ps(()=>n.state.value[e],_e=>{(se.flush==="sync"?d:c)&&X({storeId:e,type:Ns.direct,events:_},_e)},Lt({},u,se)));return ue},$dispose:I},H=ts(j);n._s.set(e,H);const ne=(n._a&&n._a.runWithContext||td)(()=>n._e.run(()=>(a=sr()).run(()=>t({action:U}))));for(const X in ne){const se=ne[X];if(Me(se)&&!od(se)||Tt(se))r||(R&&nd(se)&&(Me(se)?se.value=R[X]:ho(se,R[X])),n.state.value[e][X]=se);else if(typeof se=="function"){const ue=U(se,X);ne[X]=ue,i.actions[X]=se}}return Lt(H,ne),Lt($e(H),ne),Object.defineProperty(H,"$state",{get:()=>n.state.value[e],set:X=>{v(se=>{Lt(se,X)})}}),n._p.forEach(X=>{Lt(H,a.run(()=>X({store:H,app:n._a,pinia:n,options:i})))}),R&&r&&s.hydrate&&s.hydrate(H.$state,R),c=!0,d=!0,H}/*! #__NO_SIDE_EFFECTS__ */function rd(e,t,s){let n,l;const r=typeof t=="function";n=e,l=r?s:t;function a(i,u){const c=hi();return i=i||(c?rt(ia,null):null),i&&Tn(i),i=aa,i._s.has(n)||(r?da(n,t,l,i):ld(n,l,i)),i._s.get(n)}return a.$id=n,a}const ds="/assets/logo.png";/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const us=typeof document<"u";function ca(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ad(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&ca(e.default)}const ke=Object.assign;function Jn(e,t){const s={};for(const n in t){const l=t[n];s[n]=mt(l)?l.map(e):e(l)}return s}const Os=()=>{},mt=Array.isArray;function Pl(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}const fa=/#/g,id=/&/g,ud=/\//g,dd=/=/g,cd=/\?/g,pa=/\+/g,fd=/%5B/g,pd=/%5D/g,ma=/%5E/g,md=/%60/g,ga=/%7B/g,gd=/%7C/g,ba=/%7D/g,bd=/%20/g;function Lo(e){return e==null?"":encodeURI(""+e).replace(gd,"|").replace(fd,"[").replace(pd,"]")}function hd(e){return Lo(e).replace(ga,"{").replace(ba,"}").replace(ma,"^")}function vo(e){return Lo(e).replace(pa,"%2B").replace(bd,"+").replace(fa,"%23").replace(id,"%26").replace(md,"`").replace(ga,"{").replace(ba,"}").replace(ma,"^")}function vd(e){return vo(e).replace(dd,"%3D")}function xd(e){return Lo(e).replace(fa,"%23").replace(cd,"%3F")}function yd(e){return xd(e).replace(ud,"%2F")}function qs(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const _d=/\/$/,wd=e=>e.replace(_d,"");function Zn(e,t,s="/"){let n,l={},r="",a="";const i=t.indexOf("#");let u=t.indexOf("?");return u=i>=0&&u>i?-1:u,u>=0&&(n=t.slice(0,u),r=t.slice(u,i>0?i:t.length),l=e(r.slice(1))),i>=0&&(n=n||t.slice(0,i),a=t.slice(i,t.length)),n=Sd(n??t,s),{fullPath:n+r+a,path:n,query:l,hash:qs(a)}}function $d(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Il(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function kd(e,t,s){const n=t.matched.length-1,l=s.matched.length-1;return n>-1&&n===l&&xs(t.matched[n],s.matched[l])&&ha(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function xs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ha(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var s in e)if(!Cd(e[s],t[s]))return!1;return!0}function Cd(e,t){return mt(e)?Tl(e,t):mt(t)?Tl(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function Tl(e,t){return mt(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function Sd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),l=n[n.length-1];(l===".."||l===".")&&n.push("");let r=s.length-1,a,i;for(a=0;a<n.length;a++)if(i=n[a],i!==".")if(i==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+n.slice(a).join("/")}const Ft={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let xo=function(e){return e.pop="pop",e.push="push",e}({}),Qn=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function Ad(e){if(!e)if(us){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),wd(e)}const Ed=/^[^#]+#/;function Rd(e,t){return e.replace(Ed,"#")+t}function Pd(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Dn=()=>({left:window.scrollX,top:window.scrollY});function Id(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),l=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!l)return;t=Pd(l,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Dl(e,t){return(history.state?history.state.position-t:-1)+e}const yo=new Map;function Td(e,t){yo.set(e,t)}function Dd(e){const t=yo.get(e);return yo.delete(e),t}function Md(e){return typeof e=="string"||e&&typeof e=="object"}function va(e){return typeof e=="string"||typeof e=="symbol"}let Te=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const xa=Symbol("");Te.MATCHER_NOT_FOUND+"",Te.NAVIGATION_GUARD_REDIRECT+"",Te.NAVIGATION_ABORTED+"",Te.NAVIGATION_CANCELLED+"",Te.NAVIGATION_DUPLICATED+"";function ys(e,t){return ke(new Error,{type:e,[xa]:!0},t)}function Ct(e,t){return e instanceof Error&&xa in e&&(t==null||!!(e.type&t))}const Nd=["params","query","hash"];function Od(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of Nd)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function Vd(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<s.length;++n){const l=s[n].replace(pa," "),r=l.indexOf("="),a=qs(r<0?l:l.slice(0,r)),i=r<0?null:qs(l.slice(r+1));if(a in t){let u=t[a];mt(u)||(u=t[a]=[u]),u.push(i)}else t[a]=i}return t}function Ml(e){let t="";for(let s in e){const n=e[s];if(s=vd(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(mt(n)?n.map(l=>l&&vo(l)):[n&&vo(n)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+s,l!=null&&(t+="="+l))})}return t}function Ud(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=mt(n)?n.map(l=>l==null?null:""+l):n==null?n:""+n)}return t}const Fd=Symbol(""),Nl=Symbol(""),Mn=Symbol(""),zo=Symbol(""),_o=Symbol("");function Cs(){let e=[];function t(n){return e.push(n),()=>{const l=e.indexOf(n);l>-1&&e.splice(l,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Bt(e,t,s,n,l,r=a=>a()){const a=n&&(n.enterCallbacks[l]=n.enterCallbacks[l]||[]);return()=>new Promise((i,u)=>{const c=y=>{y===!1?u(ys(Te.NAVIGATION_ABORTED,{from:s,to:t})):y instanceof Error?u(y):Md(y)?u(ys(Te.NAVIGATION_GUARD_REDIRECT,{from:t,to:y})):(a&&n.enterCallbacks[l]===a&&typeof y=="function"&&a.push(y),i())},d=r(()=>e.call(n&&n.instances[l],t,s,c));let m=Promise.resolve(d);e.length<3&&(m=m.then(c)),m.catch(y=>u(y))})}function Yn(e,t,s,n,l=r=>r()){const r=[];for(const a of e)for(const i in a.components){let u=a.components[i];if(!(t!=="beforeRouteEnter"&&!a.instances[i]))if(ca(u)){const c=(u.__vccOpts||u)[t];c&&r.push(Bt(c,s,n,a,i,l))}else{let c=u();r.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${i}" at "${a.path}"`);const m=ad(d)?d.default:d;a.mods[i]=d,a.components[i]=m;const y=(m.__vccOpts||m)[t];return y&&Bt(y,s,n,a,i,l)()}))}}return r}function Ld(e,t){const s=[],n=[],l=[],r=Math.max(t.matched.length,e.matched.length);for(let a=0;a<r;a++){const i=t.matched[a];i&&(e.matched.find(c=>xs(c,i))?n.push(i):s.push(i));const u=e.matched[a];u&&(t.matched.find(c=>xs(c,u))||l.push(u))}return[s,n,l]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let zd=()=>location.protocol+"//"+location.host;function ya(e,t){const{pathname:s,search:n,hash:l}=t,r=e.indexOf("#");if(r>-1){let a=l.includes(e.slice(r))?e.slice(r).length:1,i=l.slice(a);return i[0]!=="/"&&(i="/"+i),Il(i,"")}return Il(s,e)+n+l}function jd(e,t,s,n){let l=[],r=[],a=null;const i=({state:y})=>{const _=ya(e,location),R=s.value,A=t.value;let v=0;if(y){if(s.value=_,t.value=y,a&&a===R){a=null;return}v=A?y.position-A.position:0}else n(_);l.forEach(T=>{T(s.value,R,{delta:v,type:xo.pop,direction:v?v>0?Qn.forward:Qn.back:Qn.unknown})})};function u(){a=s.value}function c(y){l.push(y);const _=()=>{const R=l.indexOf(y);R>-1&&l.splice(R,1)};return r.push(_),_}function d(){if(document.visibilityState==="hidden"){const{history:y}=window;if(!y.state)return;y.replaceState(ke({},y.state,{scroll:Dn()}),"")}}function m(){for(const y of r)y();r=[],window.removeEventListener("popstate",i),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",i),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:u,listen:c,destroy:m}}function Ol(e,t,s,n=!1,l=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:l?Dn():null}}function Bd(e){const{history:t,location:s}=window,n={value:ya(e,s)},l={value:t.state};l.value||r(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(u,c,d){const m=e.indexOf("#"),y=m>-1?(s.host&&document.querySelector("base")?e:e.slice(m))+u:zd()+e+u;try{t[d?"replaceState":"pushState"](c,"",y),l.value=c}catch(_){console.error(_),s[d?"replace":"assign"](y)}}function a(u,c){r(u,ke({},t.state,Ol(l.value.back,u,l.value.forward,!0),c,{position:l.value.position}),!0),n.value=u}function i(u,c){const d=ke({},l.value,t.state,{forward:u,scroll:Dn()});r(d.current,d,!0),r(u,ke({},Ol(n.value,u,null),{position:d.position+1},c),!1),n.value=u}return{location:n,state:l,push:i,replace:a}}function qd(e){e=Ad(e);const t=Bd(e),s=jd(e,t.state,t.location,t.replace);function n(r,a=!0){a||s.pauseListeners(),history.go(r)}const l=ke({location:"",base:e,go:n,createHref:Rd.bind(null,e)},t,s);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>t.state.value}),l}let Qt=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var Ue=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(Ue||{});const Hd={type:Qt.Static,value:""},Kd=/[a-zA-Z0-9_]/;function Wd(e){if(!e)return[[]];if(e==="/")return[[Hd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${s})/"${c}": ${_}`)}let s=Ue.Static,n=s;const l=[];let r;function a(){r&&l.push(r),r=[]}let i=0,u,c="",d="";function m(){c&&(s===Ue.Static?r.push({type:Qt.Static,value:c}):s===Ue.Param||s===Ue.ParamRegExp||s===Ue.ParamRegExpEnd?(r.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:Qt.Param,value:c,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),c="")}function y(){c+=u}for(;i<e.length;){if(u=e[i++],u==="\\"&&s!==Ue.ParamRegExp){n=s,s=Ue.EscapeNext;continue}switch(s){case Ue.Static:u==="/"?(c&&m(),a()):u===":"?(m(),s=Ue.Param):y();break;case Ue.EscapeNext:y(),s=n;break;case Ue.Param:u==="("?s=Ue.ParamRegExp:Kd.test(u)?y():(m(),s=Ue.Static,u!=="*"&&u!=="?"&&u!=="+"&&i--);break;case Ue.ParamRegExp:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:s=Ue.ParamRegExpEnd:d+=u;break;case Ue.ParamRegExpEnd:m(),s=Ue.Static,u!=="*"&&u!=="?"&&u!=="+"&&i--,d="";break;default:t("Unknown state");break}}return s===Ue.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),m(),a(),l}const Vl="[^/]+?",Gd={sensitive:!1,strict:!1,start:!0,end:!0};var Je=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(Je||{});const Jd=/[.+*?^${}()[\]/\\]/g;function Zd(e,t){const s=ke({},Gd,t),n=[];let l=s.start?"^":"";const r=[];for(const c of e){const d=c.length?[]:[Je.Root];s.strict&&!c.length&&(l+="/");for(let m=0;m<c.length;m++){const y=c[m];let _=Je.Segment+(s.sensitive?Je.BonusCaseSensitive:0);if(y.type===Qt.Static)m||(l+="/"),l+=y.value.replace(Jd,"\\$&"),_+=Je.Static;else if(y.type===Qt.Param){const{value:R,repeatable:A,optional:v,regexp:T}=y;r.push({name:R,repeatable:A,optional:v});const I=T||Vl;if(I!==Vl){_+=Je.BonusCustomRegExp;try{`${I}`}catch(j){throw new Error(`Invalid custom RegExp for param "${R}" (${I}): `+j.message)}}let U=A?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;m||(U=v&&c.length<2?`(?:/${U})`:"/"+U),v&&(U+="?"),l+=U,_+=Je.Dynamic,v&&(_+=Je.BonusOptional),A&&(_+=Je.BonusRepeatable),I===".*"&&(_+=Je.BonusWildcard)}d.push(_)}n.push(d)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=Je.BonusStrict}s.strict||(l+="/?"),s.end?l+="$":s.strict&&!l.endsWith("/")&&(l+="(?:/|$)");const a=new RegExp(l,s.sensitive?"":"i");function i(c){const d=c.match(a),m={};if(!d)return null;for(let y=1;y<d.length;y++){const _=d[y]||"",R=r[y-1];m[R.name]=_&&R.repeatable?_.split("/"):_}return m}function u(c){let d="",m=!1;for(const y of e){(!m||!d.endsWith("/"))&&(d+="/"),m=!1;for(const _ of y)if(_.type===Qt.Static)d+=_.value;else if(_.type===Qt.Param){const{value:R,repeatable:A,optional:v}=_,T=R in c?c[R]:"";if(mt(T)&&!A)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const I=mt(T)?T.join("/"):T;if(!I)if(v)y.length<2&&(d.endsWith("/")?d=d.slice(0,-1):m=!0);else throw new Error(`Missing required param "${R}"`);d+=I}}return d||"/"}return{re:a,score:n,keys:r,parse:i,stringify:u}}function Qd(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===Je.Static+Je.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Je.Static+Je.Segment?1:-1:0}function _a(e,t){let s=0;const n=e.score,l=t.score;for(;s<n.length&&s<l.length;){const r=Qd(n[s],l[s]);if(r)return r;s++}if(Math.abs(l.length-n.length)===1){if(Ul(n))return 1;if(Ul(l))return-1}return l.length-n.length}function Ul(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Yd={strict:!1,end:!0,sensitive:!1};function Xd(e,t,s){const n=Zd(Wd(e.path),s),l=ke(n,{record:e,parent:t,children:[],alias:[]});return t&&!l.record.aliasOf==!t.record.aliasOf&&t.children.push(l),l}function ec(e,t){const s=[],n=new Map;t=Pl(Yd,t);function l(m){return n.get(m)}function r(m,y,_){const R=!_,A=Ll(m);A.aliasOf=_&&_.record;const v=Pl(t,m),T=[A];if("alias"in m){const j=typeof m.alias=="string"?[m.alias]:m.alias;for(const H of j)T.push(Ll(ke({},A,{components:_?_.record.components:A.components,path:H,aliasOf:_?_.record:A})))}let I,U;for(const j of T){const{path:H}=j;if(y&&H[0]!=="/"){const q=y.record.path,ne=q[q.length-1]==="/"?"":"/";j.path=y.record.path+(H&&ne+H)}if(I=Xd(j,y,v),_?_.alias.push(I):(U=U||I,U!==I&&U.alias.push(I),R&&m.name&&!zl(I)&&a(m.name)),wa(I)&&u(I),A.children){const q=A.children;for(let ne=0;ne<q.length;ne++)r(q[ne],I,_&&_.children[ne])}_=_||I}return U?()=>{a(U)}:Os}function a(m){if(va(m)){const y=n.get(m);y&&(n.delete(m),s.splice(s.indexOf(y),1),y.children.forEach(a),y.alias.forEach(a))}else{const y=s.indexOf(m);y>-1&&(s.splice(y,1),m.record.name&&n.delete(m.record.name),m.children.forEach(a),m.alias.forEach(a))}}function i(){return s}function u(m){const y=nc(m,s);s.splice(y,0,m),m.record.name&&!zl(m)&&n.set(m.record.name,m)}function c(m,y){let _,R={},A,v;if("name"in m&&m.name){if(_=n.get(m.name),!_)throw ys(Te.MATCHER_NOT_FOUND,{location:m});v=_.record.name,R=ke(Fl(y.params,_.keys.filter(U=>!U.optional).concat(_.parent?_.parent.keys.filter(U=>U.optional):[]).map(U=>U.name)),m.params&&Fl(m.params,_.keys.map(U=>U.name))),A=_.stringify(R)}else if(m.path!=null)A=m.path,_=s.find(U=>U.re.test(A)),_&&(R=_.parse(A),v=_.record.name);else{if(_=y.name?n.get(y.name):s.find(U=>U.re.test(y.path)),!_)throw ys(Te.MATCHER_NOT_FOUND,{location:m,currentLocation:y});v=_.record.name,R=ke({},y.params,m.params),A=_.stringify(R)}const T=[];let I=_;for(;I;)T.unshift(I.record),I=I.parent;return{name:v,path:A,params:R,matched:T,meta:sc(T)}}e.forEach(m=>r(m));function d(){s.length=0,n.clear()}return{addRoute:r,resolve:c,removeRoute:a,clearRoutes:d,getRoutes:i,getRecordMatcher:l}}function Fl(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Ll(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:tc(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function tc(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function zl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function sc(e){return e.reduce((t,s)=>ke(t,s.meta),{})}function nc(e,t){let s=0,n=t.length;for(;s!==n;){const r=s+n>>1;_a(e,t[r])<0?n=r:s=r+1}const l=oc(e);return l&&(n=t.lastIndexOf(l,n-1)),n}function oc(e){let t=e;for(;t=t.parent;)if(wa(t)&&_a(e,t)===0)return t}function wa({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function jl(e){const t=rt(Mn),s=rt(zo),n=re(()=>{const u=me(e.to);return t.resolve(u)}),l=re(()=>{const{matched:u}=n.value,{length:c}=u,d=u[c-1],m=s.matched;if(!d||!m.length)return-1;const y=m.findIndex(xs.bind(null,d));if(y>-1)return y;const _=Bl(u[c-2]);return c>1&&Bl(d)===_&&m[m.length-1].path!==_?m.findIndex(xs.bind(null,u[c-2])):y}),r=re(()=>l.value>-1&&ic(s.params,n.value.params)),a=re(()=>l.value>-1&&l.value===s.matched.length-1&&ha(s.params,n.value.params));function i(u={}){if(ac(u)){const c=t[me(e.replace)?"replace":"push"](me(e.to)).catch(Os);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:re(()=>n.value.href),isActive:r,isExactActive:a,navigate:i}}function lc(e){return e.length===1?e[0]:e}const rc=Ir({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:jl,setup(e,{slots:t}){const s=ts(jl(e)),{options:n}=rt(Mn),l=re(()=>({[ql(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[ql(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=t.default&&lc(t.default(s));return e.custom?r:Bs("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:l.value},r)}}}),dt=rc;function ac(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ic(e,t){for(const s in t){const n=t[s],l=e[s];if(typeof n=="string"){if(n!==l)return!1}else if(!mt(l)||l.length!==n.length||n.some((r,a)=>r.valueOf()!==l[a].valueOf()))return!1}return!0}function Bl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ql=(e,t,s)=>e??t??s,uc=Ir({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=rt(_o),l=re(()=>e.route||n.value),r=rt(Nl,0),a=re(()=>{let c=me(r);const{matched:d}=l.value;let m;for(;(m=d[c])&&!m.components;)c++;return c}),i=re(()=>l.value.matched[a.value]);on(Nl,re(()=>a.value+1)),on(Fd,i),on(_o,l);const u=P();return Ps(()=>[u.value,i.value,e.name],([c,d,m],[y,_,R])=>{d&&(d.instances[m]=c,_&&_!==d&&c&&c===y&&(d.leaveGuards.size||(d.leaveGuards=_.leaveGuards),d.updateGuards.size||(d.updateGuards=_.updateGuards))),c&&d&&(!_||!xs(d,_)||!y)&&(d.enterCallbacks[m]||[]).forEach(A=>A(c))},{flush:"post"}),()=>{const c=l.value,d=e.name,m=i.value,y=m&&m.components[d];if(!y)return Hl(s.default,{Component:y,route:c});const _=m.props[d],R=_?_===!0?c.params:typeof _=="function"?_(c):_:null,v=Bs(y,ke({},R,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(m.instances[d]=null)},ref:u}));return Hl(s.default,{Component:v,route:c})||v}}});function Hl(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const wo=uc;function dc(e){const t=ec(e.routes,e),s=e.parseQuery||Vd,n=e.stringifyQuery||Ml,l=e.history,r=Cs(),a=Cs(),i=Cs(),u=oi(Ft);let c=Ft;us&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Jn.bind(null,D=>""+D),m=Jn.bind(null,yd),y=Jn.bind(null,qs);function _(D,te){let Q,le;return va(D)?(Q=t.getRecordMatcher(D),le=te):le=D,t.addRoute(le,Q)}function R(D){const te=t.getRecordMatcher(D);te&&t.removeRoute(te)}function A(){return t.getRoutes().map(D=>D.record)}function v(D){return!!t.getRecordMatcher(D)}function T(D,te){if(te=ke({},te||u.value),typeof D=="string"){const k=Zn(s,D,te.path),$=t.resolve({path:k.path},te),N=l.createHref(k.fullPath);return ke(k,$,{params:y($.params),hash:qs(k.hash),redirectedFrom:void 0,href:N})}let Q;if(D.path!=null)Q=ke({},D,{path:Zn(s,D.path,te.path).path});else{const k=ke({},D.params);for(const $ in k)k[$]==null&&delete k[$];Q=ke({},D,{params:m(k)}),te.params=m(te.params)}const le=t.resolve(Q,te),B=D.hash||"";le.params=d(y(le.params));const f=$d(n,ke({},D,{hash:hd(B),path:le.path})),b=l.createHref(f);return ke({fullPath:f,hash:B,query:n===Ml?Ud(D.query):D.query||{}},le,{redirectedFrom:void 0,href:b})}function I(D){return typeof D=="string"?Zn(s,D,u.value.path):ke({},D)}function U(D,te){if(c!==D)return ys(Te.NAVIGATION_CANCELLED,{from:te,to:D})}function j(D){return ne(D)}function H(D){return j(ke(I(D),{replace:!0}))}function q(D,te){const Q=D.matched[D.matched.length-1];if(Q&&Q.redirect){const{redirect:le}=Q;let B=typeof le=="function"?le(D,te):le;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=I(B):{path:B},B.params={}),ke({query:D.query,hash:D.hash,params:B.path!=null?{}:D.params},B)}}function ne(D,te){const Q=c=T(D),le=u.value,B=D.state,f=D.force,b=D.replace===!0,k=q(Q,le);if(k)return ne(ke(I(k),{state:typeof k=="object"?ke({},B,k.state):B,force:f,replace:b}),te||Q);const $=Q;$.redirectedFrom=te;let N;return!f&&kd(n,le,Q)&&(N=ys(Te.NAVIGATION_DUPLICATED,{to:$,from:le}),F(le,le,!0,!1)),(N?Promise.resolve(N):ue($,le)).catch(M=>Ct(M)?Ct(M,Te.NAVIGATION_GUARD_REDIRECT)?M:g(M):p(M,$,le)).then(M=>{if(M){if(Ct(M,Te.NAVIGATION_GUARD_REDIRECT))return ne(ke({replace:b},I(M.to),{state:typeof M.to=="object"?ke({},B,M.to.state):B,force:f}),te||$)}else M=_e($,le,!0,b,B);return xe($,le,M),M})}function X(D,te){const Q=U(D,te);return Q?Promise.reject(Q):Promise.resolve()}function se(D){const te=Z.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(D):D()}function ue(D,te){let Q;const[le,B,f]=Ld(D,te);Q=Yn(le.reverse(),"beforeRouteLeave",D,te);for(const k of le)k.leaveGuards.forEach($=>{Q.push(Bt($,D,te))});const b=X.bind(null,D,te);return Q.push(b),Oe(Q).then(()=>{Q=[];for(const k of r.list())Q.push(Bt(k,D,te));return Q.push(b),Oe(Q)}).then(()=>{Q=Yn(B,"beforeRouteUpdate",D,te);for(const k of B)k.updateGuards.forEach($=>{Q.push(Bt($,D,te))});return Q.push(b),Oe(Q)}).then(()=>{Q=[];for(const k of f)if(k.beforeEnter)if(mt(k.beforeEnter))for(const $ of k.beforeEnter)Q.push(Bt($,D,te));else Q.push(Bt(k.beforeEnter,D,te));return Q.push(b),Oe(Q)}).then(()=>(D.matched.forEach(k=>k.enterCallbacks={}),Q=Yn(f,"beforeRouteEnter",D,te,se),Q.push(b),Oe(Q))).then(()=>{Q=[];for(const k of a.list())Q.push(Bt(k,D,te));return Q.push(b),Oe(Q)}).catch(k=>Ct(k,Te.NAVIGATION_CANCELLED)?k:Promise.reject(k))}function xe(D,te,Q){i.list().forEach(le=>se(()=>le(D,te,Q)))}function _e(D,te,Q,le,B){const f=U(D,te);if(f)return f;const b=te===Ft,k=us?history.state:{};Q&&(le||b?l.replace(D.fullPath,ke({scroll:b&&k&&k.scroll},B)):l.push(D.fullPath,B)),u.value=D,F(D,te,Q,b),g()}let oe;function O(){oe||(oe=l.listen((D,te,Q)=>{if(!Ie.listening)return;const le=T(D),B=q(le,Ie.currentRoute.value);if(B){ne(ke(B,{replace:!0,force:!0}),le).catch(Os);return}c=le;const f=u.value;us&&Td(Dl(f.fullPath,Q.delta),Dn()),ue(le,f).catch(b=>Ct(b,Te.NAVIGATION_ABORTED|Te.NAVIGATION_CANCELLED)?b:Ct(b,Te.NAVIGATION_GUARD_REDIRECT)?(ne(ke(I(b.to),{force:!0}),le).then(k=>{Ct(k,Te.NAVIGATION_ABORTED|Te.NAVIGATION_DUPLICATED)&&!Q.delta&&Q.type===xo.pop&&l.go(-1,!1)}).catch(Os),Promise.reject()):(Q.delta&&l.go(-Q.delta,!1),p(b,le,f))).then(b=>{b=b||_e(le,f,!1),b&&(Q.delta&&!Ct(b,Te.NAVIGATION_CANCELLED)?l.go(-Q.delta,!1):Q.type===xo.pop&&Ct(b,Te.NAVIGATION_ABORTED|Te.NAVIGATION_DUPLICATED)&&l.go(-1,!1)),xe(le,f,b)}).catch(Os)}))}let z=Cs(),E=Cs(),h;function p(D,te,Q){g(D);const le=E.list();return le.length?le.forEach(B=>B(D,te,Q)):console.error(D),Promise.reject(D)}function V(){return h&&u.value!==Ft?Promise.resolve():new Promise((D,te)=>{z.add([D,te])})}function g(D){return h||(h=!D,O(),z.list().forEach(([te,Q])=>D?Q(D):te()),z.reset()),D}function F(D,te,Q,le){const{scrollBehavior:B}=e;if(!us||!B)return Promise.resolve();const f=!Q&&Dd(Dl(D.fullPath,0))||(le||!Q)&&history.state&&history.state.scroll||null;return An().then(()=>B(D,te,f)).then(b=>b&&Id(b)).catch(b=>p(b,D,te))}const S=D=>l.go(D);let be;const Z=new Set,Ie={currentRoute:u,listening:!0,addRoute:_,removeRoute:R,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:A,resolve:T,options:e,push:j,replace:H,go:S,back:()=>S(-1),forward:()=>S(1),beforeEach:r.add,beforeResolve:a.add,afterEach:i.add,onError:E.add,isReady:V,install(D){D.component("RouterLink",dt),D.component("RouterView",wo),D.config.globalProperties.$router=Ie,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>me(u)}),us&&!be&&u.value===Ft&&(be=!0,j(l.location).catch(le=>{}));const te={};for(const le in Ft)Object.defineProperty(te,le,{get:()=>u.value[le],enumerable:!0});D.provide(Mn,Ie),D.provide(zo,vr(te)),D.provide(_o,u);const Q=D.unmount;Z.add(D),D.unmount=function(){Z.delete(D),Z.size<1&&(c=Ft,oe&&oe(),oe=null,u.value=Ft,be=!1,h=!1),Q()}}};function Oe(D){return D.reduce((te,Q)=>te.then(()=>se(Q)),Promise.resolve())}return Ie}function Zs(){return rt(Mn)}function Nn(e){return rt(zo)}const Xn=[{name:"Dashboard",path:"/",icon:"grid",key:"dashboard"},{name:"Animals",path:"/animals",icon:"circle",key:"animals"},{name:"Health",path:"/health",icon:"heart",key:"health"},{name:"Breeding",path:"/breeding",icon:"sprout",key:"breeding"},{name:"Production",path:"/production",icon:"bottle",key:"production"},{name:"Expenses",path:"/expenses",icon:"wallet",key:"expenses"},{name:"Sales",path:"/sales",icon:"dollar",key:"sales"},{name:"Reports",path:"/reports",icon:"report",key:"reports"},{name:"Users",path:"/users",icon:"users",key:"users"}],On="";function Vn(){const e=localStorage.getItem("farmpro_token");return e?{Authorization:`Bearer ${e}`}:{}}async function De(e){const t=await fetch(`${On}${e}`,{headers:{Accept:"application/json",...Vn()}});if(!t.ok){const s=await t.json().catch(()=>({}));throw new Error(s.error||`Request failed (${t.status})`)}return t.json()}async function Qe(e,t){const s=await fetch(`${On}${e}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...Vn()},body:JSON.stringify(t)});if(!s.ok){const n=await s.json().catch(()=>({}));throw new Error(n.error||`Request failed (${s.status})`)}return s.json()}async function ns(e,t){const s=await fetch(`${On}${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",...Vn()},body:JSON.stringify(t)});if(!s.ok){const n=await s.json().catch(()=>({}));throw new Error(n.error||`Request failed (${s.status})`)}return s.json()}async function os(e){const t=await fetch(`${On}${e}`,{method:"DELETE",headers:{Accept:"application/json",...Vn()}});if(!t.ok){const s=await t.json().catch(()=>({}));throw new Error(s.error||`Request failed (${t.status})`)}return t.json()}const st=rd("auth",{state:()=>({token:localStorage.getItem("farmpro_token")||"",role:localStorage.getItem("farmpro_role")||"",user:null,loading:!1,initialized:!1}),getters:{isAuthenticated:e=>!!e.token},actions:{setSession(e){var t;this.token=(e==null?void 0:e.token)||"",this.user=(e==null?void 0:e.user)||null,this.role=((t=e==null?void 0:e.user)==null?void 0:t.role)||"",this.token?localStorage.setItem("farmpro_token",this.token):localStorage.removeItem("farmpro_token"),this.role?localStorage.setItem("farmpro_role",this.role):localStorage.removeItem("farmpro_role")},async init(){var e;if(!this.token){this.initialized=!0;return}try{this.user=await De("/api/auth/me"),this.role=((e=this.user)==null?void 0:e.role)||"",this.role&&localStorage.setItem("farmpro_role",this.role)}catch{this.logout()}finally{this.initialized=!0}},async login(e){this.loading=!0;try{const t=await Qe("/api/auth/login",e);this.setSession(t)}finally{this.loading=!1}},async register(e){this.loading=!0;try{return await Qe("/api/auth/register",e)}finally{this.loading=!1}},async verifyEmail(e){this.loading=!0;try{const t=await Qe("/api/auth/verify-email",{token:e});return this.setSession(t),t}finally{this.loading=!1}},async forgotPassword(e){this.loading=!0;try{return await Qe("/api/auth/forgot-password",{email:e})}finally{this.loading=!1}},async resetPassword(e,t){this.loading=!0;try{return await Qe("/api/auth/reset-password",{token:e,newPassword:t})}finally{this.loading=!1}},logout(){this.token="",this.role="",this.user=null,localStorage.removeItem("farmpro_token"),localStorage.removeItem("farmpro_role")}}});/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=({size:e,strokeWidth:t=2,absoluteStrokeWidth:s,color:n,iconNode:l,name:r,class:a,...i},{slots:u})=>Bs("svg",{...sn,width:e||sn.width,height:e||sn.height,stroke:n||sn.stroke,"stroke-width":s?Number(t)*24/Number(e):t,class:["lucide",`lucide-${cc(r??"icon")}`],...i},[...l.map(c=>Bs(...c)),...u.default?[u.default()]:[]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(e,t)=>(s,{slots:n})=>Bs(fc,{...s,iconNode:t,name:e},n);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Fe("BeefIcon",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Fe("ChartColumnIcon",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=Fe("CircleDotIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Fe("CloudIcon",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Fe("DollarSignIcon",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Fe("EggIcon",[["path",{d:"M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10z",key:"1c39pg"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=Fe("FileTextIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Fe("HeartPulseIcon",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Fe("LockIcon",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Fe("MailIcon",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=Fe("MilkIcon",[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=Fe("MountainIcon",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=Fe("PawPrintIcon",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Fe("PiggyBankIcon",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=Fe("ShieldCheckIcon",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Fe("SproutIcon",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=Fe("UserIcon",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=Fe("UsersIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-vue-next v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Fe("WalletIcon",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),Kl={grid:mc,circle:gc,heart:yc,sprout:Sc,bottle:_c,wallet:Rc,dollar:hc,report:xc,users:Ec};function Hs(e){const t=String(e||"").toLowerCase();return t.includes("cattle")||t.includes("cow")?pc:t.includes("goat")?wc:t.includes("sheep")?bc:t.includes("poultry")||t.includes("chicken")?vc:t.includes("pig")?kc:$c}const Pc={owner:["dashboard","animals","health","breeding","production","expenses","sales","reports","users"],manager:["dashboard","animals","health","breeding","production","expenses","sales","reports","users"],veterinarian:["dashboard","animals","health","reports"],worker:["dashboard","animals","production"]},Ic={owner:["animals.write","health.write","breeding.write","production.create","production.manage","expenses.write","sales.write","users.manage","reports.generate","etims.manage"],manager:["animals.write","health.write","breeding.write","production.create","production.manage","expenses.write","sales.write","reports.generate","etims.manage"],veterinarian:["health.write"],worker:["production.create"]};function Ca(e,t){return(Pc[e]||[]).includes(t)}function $t(e,t){return(Ic[e]||[]).includes(t)}function Tc(e){return $t(e,"users.manage")}const Dc={key:0,class:"min-h-screen"},Mc={class:"border-b border-black/10 bg-farm-bg px-4 py-3"},Nc={class:"mx-auto flex w-full max-w-5xl items-center justify-between gap-2"},Oc={class:"flex items-center gap-2 text-xs sm:text-sm"},Vc={class:"border-t border-black/10 bg-farm-bg px-4 py-4 text-center text-xs text-[#7a7467]"},Uc={key:1,class:"min-h-screen bg-farm-bg text-zinc-800 lg:grid lg:grid-cols-[252px_minmax(0,1fr)]"},Fc={class:"sticky top-0 z-40 flex items-center justify-between border-b border-black/10 bg-farm-bg px-4 py-3 lg:hidden"},Lc={class:"border-b border-black/10 bg-farm-bg px-4 py-2 lg:hidden"},zc={class:"flex flex-wrap items-center justify-between gap-2"},jc={class:"text-[10px] font-semibold uppercase tracking-wide text-[#7a7467]"},Bc={class:"text-sm text-zinc-800"},qc={class:"text-xs text-[#7a7467]"},Hc={class:"hidden flex-col border-r-2 border-black/10 bg-gradient-to-r from-[#2f5736] to-[#355f3a] text-[#f4efe4] lg:flex"},Kc={class:"flex flex-col gap-1 p-3"},Wc={class:"mt-auto flex items-center gap-3 border-t border-white/10 p-4"},Gc={class:"grid h-10 w-10 place-items-center rounded-full bg-[#4c7152] text-sm font-bold"},Jc={class:"text-sm"},Zc={class:"mt-0.5 text-xs text-[#d7d1c2]"},Qc={class:"min-w-0 p-4 lg:p-8"},Yc={class:"mb-4 hidden items-center justify-between border-b border-black/10 pb-3 lg:flex"},Xc={class:"text-xs font-semibold uppercase tracking-wide text-[#7a7467]"},ef={class:"text-lg text-zinc-800"},tf={class:"flex items-center gap-2"},sf={class:"text-sm text-[#7a7467]"},nf={class:"mt-8 border-t border-black/10 pt-4 text-center text-xs text-[#7a7467]"},of={key:0,class:"fixed inset-0 z-50 lg:hidden"},lf={class:"relative h-full w-[82%] max-w-[300px] bg-gradient-to-r from-[#2f5736] to-[#355f3a] text-[#f4efe4]"},rf={class:"flex items-center justify-between border-b border-white/10 p-4"},af={class:"flex flex-col gap-1 p-3"},uf={__name:"App",setup(e){const t=Nn(),s=Zs(),n=st(),l=P(!1),r=new Date().getFullYear();ut(()=>{n.init()});const a=re(()=>!!t.meta.public),i=re(()=>{var v;const A=n.role||((v=n.user)==null?void 0:v.role)||"";return!n.initialized||!A?Xn:Xn.filter(T=>Ca(A,T.key))}),u=re(()=>Xn.find(A=>A.path===t.path)||null),c=re(()=>{var A;return((A=u.value)==null?void 0:A.name)||"Dashboard"}),d=re(()=>{var A;return(A=u.value)!=null&&A.key?"Current Section":"FarmPro"}),m=re(()=>new Date().toLocaleDateString(void 0,{weekday:"short",day:"2-digit",month:"short",year:"numeric"})),y=re(()=>{var T;return(((T=n.user)==null?void 0:T.name)||"Farm User").trim().split(/\s+/).slice(0,2).map(I=>{var U;return((U=I[0])==null?void 0:U.toUpperCase())||""}).join("")||"FU"});function _(){n.logout(),s.push("/login")}function R(){window.location.reload()}return(A,v)=>{var T,I;return a.value?(w(),C("div",Dc,[o("header",Mc,[o("div",Nc,[v[6]||(v[6]=o("div",{class:"flex items-center gap-2"},[o("img",{src:ds,alt:"FarmPro",class:"h-7 w-7 rounded-md object-cover"}),o("strong",{class:"text-lg text-zinc-800"},"FarmPro")],-1)),o("nav",Oc,[me(t).path!=="/login"?(w(),Le(me(dt),{key:0,to:"/login",class:"rounded-md border border-[#c8c2b5] px-2 py-1 text-zinc-700"},{default:Ve(()=>[...v[4]||(v[4]=[pe("Sign In",-1)])]),_:1})):K("",!0),me(t).path!=="/register"?(w(),Le(me(dt),{key:1,to:"/register",class:"rounded-md bg-farm-green px-2 py-1 font-semibold text-white"},{default:Ve(()=>[...v[5]||(v[5]=[pe("Register",-1)])]),_:1})):K("",!0)])])]),ve(me(wo)),o("footer",Vc," FarmPro  "+x(me(r))+". Built for reliable farm records. ",1)])):(w(),C("div",Uc,[o("header",Fc,[v[7]||(v[7]=o("div",{class:"flex items-center gap-2"},[o("img",{src:ds,alt:"FarmPro",class:"h-8 w-8 rounded-md object-cover"}),o("strong",{class:"text-xl"},"FarmPro")],-1)),o("button",{class:"rounded-md border border-[#c8c2b5] px-3 py-1 text-sm",onClick:v[0]||(v[0]=U=>l.value=!0)},"Menu")]),o("div",Lc,[o("div",zc,[o("div",null,[o("p",jc,x(d.value),1),o("strong",Bc,x(c.value),1)]),o("p",qc,x(m.value),1)]),o("div",{class:"mt-2 flex flex-wrap items-center gap-2"},[o("button",{class:"rounded-md border border-[#c8c2b5] px-2.5 py-1 text-xs text-zinc-700",onClick:R},"Refresh"),o("button",{class:"rounded-md bg-farm-green px-2.5 py-1 text-xs font-semibold text-white",onClick:_},"Logout")])]),o("aside",Hc,[v[8]||(v[8]=o("div",{class:"flex items-center gap-3 border-b border-white/10 p-5"},[o("img",{src:ds,alt:"FarmPro",class:"h-12 w-12 rounded-lg object-cover"}),o("div",null,[o("h1",{class:"m-0 text-3xl font-bold leading-none"},"FarmPro"),o("p",{class:"mt-1 text-sm text-[#d7d1c2]"},"Livestock Manager")])],-1)),o("nav",Kc,[(w(!0),C(fe,null,ye(i.value,U=>(w(),Le(me(dt),{key:U.path,to:U.path,class:tt(["flex items-center gap-3 rounded-md px-4 py-2.5 text-lg transition-colors",me(t).path===U.path?"bg-farm-gold font-bold text-zinc-800":"text-[#f5f1e6] hover:bg-white/10"])},{default:Ve(()=>[(w(),Le(es(me(Kl)[U.icon]),{class:"h-[18px] w-[18px]"})),pe(" "+x(U.name),1)]),_:2},1032,["to","class"]))),128))]),o("div",Wc,[o("div",Gc,x(y.value),1),o("div",null,[o("strong",Jc,x(((T=me(n).user)==null?void 0:T.name)||"Farm User"),1),o("p",Zc,x(((I=me(n).user)==null?void 0:I.role)||"owner"),1)])]),o("button",{class:"mx-4 mb-4 rounded-lg border border-white/35 bg-transparent px-3 py-2 text-sm text-[#f5f1e6]",onClick:_}," Logout ")]),o("main",Qc,[o("header",Yc,[o("div",null,[o("p",Xc,x(d.value),1),o("strong",ef,x(c.value),1)]),o("div",tf,[o("p",sf,x(m.value),1),o("button",{class:"rounded-md border border-[#c8c2b5] px-3 py-1 text-sm text-zinc-700",onClick:R},"Refresh"),o("button",{class:"rounded-md bg-farm-green px-3 py-1 text-sm font-semibold text-white",onClick:_},"Logout")])]),ve(me(wo)),o("footer",nf," FarmPro  "+x(me(r))+". Built for reliable farm records. ",1)]),(w(),Le(Pr,{to:"body"},[l.value?(w(),C("div",of,[o("button",{class:"absolute inset-0 bg-black/45",onClick:v[1]||(v[1]=U=>l.value=!1)}),o("aside",lf,[o("div",rf,[v[9]||(v[9]=o("div",{class:"flex items-center gap-2"},[o("img",{src:ds,alt:"FarmPro",class:"h-9 w-9 rounded-md object-cover"}),o("strong",{class:"text-xl"},"FarmPro")],-1)),o("button",{class:"rounded-md border border-white/30 px-3 py-1 text-sm",onClick:v[2]||(v[2]=U=>l.value=!1)},"Close")]),o("nav",af,[(w(!0),C(fe,null,ye(i.value,U=>(w(),Le(me(dt),{key:U.path+"-mobile",to:U.path,class:tt(["flex items-center gap-3 rounded-md px-4 py-2.5 text-lg transition-colors",me(t).path===U.path?"bg-farm-gold font-bold text-zinc-800":"text-[#f5f1e6] hover:bg-white/10"]),onClick:v[3]||(v[3]=j=>l.value=!1)},{default:Ve(()=>[(w(),Le(es(me(Kl)[U.icon]),{class:"h-[18px] w-[18px]"})),pe(" "+x(U.name),1)]),_:2},1032,["to","class"]))),128))])])])):K("",!0)]))]))}}};function ze(e){const t=Number(e||0);return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0,maximumFractionDigits:2}).format(t)}const df={class:"mt-2 text-base text-[#7a7467]"},cf={class:"mt-4 grid gap-4 lg:grid-cols-5"},ff={class:"text-sm font-semibold tracking-wide"},pf={class:"my-2 break-words text-2xl font-bold leading-tight md:text-3xl"},mf={class:"block break-words text-xs"},gf={class:"grid gap-4 md:grid-cols-2 xl:grid-cols-5"},bf={class:"mt-2 block break-words text-base"},hf={class:"my-2 break-words text-3xl font-bold text-[#2f5736]"},vf={class:"break-words text-xs text-[#7a7467]"},xf="rounded-lg p-4 md:p-5 shadow-[0_4px_0_rgba(0,0,0,0.12)] overflow-hidden bg-[length:20px_20px] bg-[linear-gradient(135deg,rgba(255,255,255,0.04)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.04)_50%,rgba(255,255,255,0.04)_75%,transparent_75%,transparent)]",yf={__name:"DashboardView",setup(e){const t=P([]),s=P([]),n=r=>({green:"bg-farm-green text-white",gold:"bg-farm-gold text-zinc-800",orange:"bg-farm-orange text-white",red:"bg-farm-red text-white"})[r]||"bg-farm-green text-white",l=re(()=>new Date().toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}));return ut(async()=>{const[r,a]=await Promise.all([De("/api/dashboard"),De("/api/animals?page=1&pageSize=200")]),i=Array.isArray(a)?a:a.items||[];t.value=[{label:"Total Animals",value:r.totalAnimals,note:"Across all types",tone:"green"},{label:"Sick Animals",value:r.sickAnimals,note:"Need attention",tone:"red"},{label:"Upcoming Vaccines",value:r.upcomingVaccinations,note:"Next 7 days",tone:"orange"},{label:"Gross Revenue",value:ze(r.monthlyGrossRevenue??r.monthlyRevenue),note:"Current month",tone:"gold"},{label:"VAT Collected",value:ze(r.monthlyVATCollected),note:"Current month",tone:"green"}];const u=i.reduce((c,d)=>{const m=d.type;return c[m]=c[m]||{type:m,count:0,health:"Healthy"},c[m].count+=1,d.health!=="healthy"&&(c[m].health="Attention"),c},{});s.value=Object.values(u).map(c=>({type:c.type,icon:Hs(c.type),count:c.count,status:c.health}))}),(r,a)=>(w(),C("section",null,[o("header",null,[a[0]||(a[0]=o("h2",{class:"text-2xl font-bold text-zinc-800 md:text-3xl"},"Farm Overview",-1)),o("p",df,x(l.value),1)]),o("div",cf,[(w(!0),C(fe,null,ye(t.value,i=>(w(),C("article",{key:i.label,class:tt([xf,n(i.tone)])},[o("p",ff,x(i.label),1),o("h3",pf,x(i.value),1),o("small",mf,x(i.note),1)],2))),128))]),a[1]||(a[1]=o("h3",{class:"mb-3 mt-8 text-2xl font-bold text-zinc-800 md:text-3xl"},"Livestock Distribution",-1)),o("div",gf,[(w(!0),C(fe,null,ye(s.value,i=>(w(),C("article",{key:i.type,class:"rounded-lg border-2 border-[#4b6c4e] bg-farm-panel p-5 text-center"},[(w(),Le(es(i.icon),{class:"mx-auto h-9 w-9"})),o("strong",bf,x(i.type),1),o("h3",hf,x(i.count),1),o("small",vf,x(i.status),1)]))),128))])]))}},_f={key:0,class:"fixed inset-0 z-50 grid place-items-center p-4"},wf={class:"relative z-10 flex max-h-[90vh] w-full max-w-2xl flex-col overflow-hidden rounded-xl border border-[#ddd8ce] bg-farm-panel shadow-xl"},$f={class:"flex items-center justify-between border-b border-[#ddd8ce] px-4 py-3"},kf={class:"text-2xl font-bold text-zinc-800"},Cf={class:"min-h-0 flex-1 overflow-y-auto p-4"},Vt={__name:"BaseModal",props:{open:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["close"],setup(e){return(t,s)=>(w(),Le(Pr,{to:"body"},[e.open?(w(),C("div",_f,[o("button",{class:"absolute inset-0 bg-black/50",onClick:s[0]||(s[0]=n=>t.$emit("close"))}),o("div",wf,[o("header",$f,[o("h3",kf,x(e.title),1),o("button",{class:"rounded-md border border-[#d3ccbe] px-3 py-1 text-sm text-zinc-700",onClick:s[1]||(s[1]=n=>t.$emit("close"))},"Close")]),o("section",Cf,[Vi(t.$slots,"default")])])])):K("",!0)]))}},Sf={class:"text-[#6f6758]"},Af={class:"mt-4 flex gap-3"},ls={__name:"ConfirmModal",props:{open:{type:Boolean,default:!1},title:{type:String,default:"Confirm"},message:{type:String,default:"Are you sure?"},confirmText:{type:String,default:"Delete"}},emits:["cancel","confirm"],setup(e){return(t,s)=>(w(),Le(Vt,{open:e.open,title:e.title,onClose:s[2]||(s[2]=n=>t.$emit("cancel"))},{default:Ve(()=>[o("p",Sf,x(e.message),1),o("div",Af,[o("button",{class:"rounded-lg border border-[#cec7b8] px-4 py-2",onClick:s[0]||(s[0]=n=>t.$emit("cancel"))},"Cancel"),o("button",{class:"rounded-lg bg-farm-red px-4 py-2 font-semibold text-white",onClick:s[1]||(s[1]=n=>t.$emit("confirm"))},x(e.confirmText),1)])]),_:1},8,["open","title"]))}},Ef={class:"min-w-0"},Rf={class:"flex flex-col justify-between gap-3 md:flex-row md:items-start"},Pf={class:"my-4 grid gap-3 md:grid-cols-[1fr_120px]"},If={class:"mt-3 flex flex-wrap items-center justify-end gap-2"},Tf=["disabled"],Df={class:"text-sm text-[#6f6758]"},Mf=["disabled"],Nf={class:"grid gap-3 md:hidden"},Of={key:0,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 text-center text-[#7a7467]"},Vf={class:"flex items-start justify-between gap-2"},Uf={class:"inline-block rounded-md bg-farm-gold px-2 py-1 text-xs font-bold text-zinc-800"},Ff={class:"mt-2 font-bold text-zinc-800"},Lf={class:"rounded border border-farm-green px-2 py-0.5 text-xs font-semibold"},zf={class:"mt-2 grid gap-1 text-sm text-zinc-700"},jf={key:0,class:"mt-3 flex flex-wrap gap-2"},Bf=["onClick"],qf=["onClick"],Hf={class:"hidden overflow-x-auto rounded-lg border border-[#ddd8ce] bg-farm-panel shadow-sm md:block"},Kf={class:"w-full min-w-[980px] border-collapse"},Wf={class:"bg-farm-green text-white"},Gf={key:0,class:"px-4 py-3 text-right text-sm"},Jf={key:0},Zf=["colspan"],Qf={class:"px-4 py-3"},Yf={class:"rounded-md bg-farm-gold px-3 py-2 font-bold text-zinc-800"},Xf={class:"px-4 py-3"},ep={class:"px-4 py-3"},tp={class:"px-4 py-3"},sp={class:"px-4 py-3 font-bold"},np={class:"px-4 py-3"},op={class:"px-4 py-3"},lp={class:"rounded border-2 border-farm-green px-2 py-0.5 text-xs font-semibold"},rp={key:0,class:"px-4 py-3 text-right"},ap={class:"inline-flex gap-2"},ip=["onClick"],up=["onClick"],dp={class:"grid gap-1"},cp=["disabled"],fp={class:"grid gap-1"},pp={class:"grid gap-1"},mp={class:"grid gap-1"},gp={class:"grid gap-1"},bp={class:"grid gap-1"},hp={class:"grid gap-1"},vp={class:"md:col-span-2 space-y-3"},xp={key:0,class:"rounded-lg border border-farm-red/30 bg-[#fff4f3] p-3"},yp={key:1,class:"font-semibold text-farm-red"},_p={class:"flex flex-wrap items-center gap-3"},wp=["disabled"],$p=["disabled"],kp={__name:"AnimalsView",setup(e){const t=st(),s=P(""),n=P([]),l=P(!1),r=P("create"),a=P(!1),i=P(null),u=P(!1),c=P(""),d=P([]),m=P(1),y=P(0),_=P(10),R=P({tagId:"",type:"",breed:"",birthDate:"",weightKg:null,healthStatus:"healthy",status:"active"}),A=re(()=>n.value),v=re(()=>Math.max(1,Math.ceil(y.value/_.value))),T=re(()=>{var oe;return $t(t.role||((oe=t.user)==null?void 0:oe.role)||"","animals.write")});async function I(oe=m.value){const O=await De(`/api/animals?q=${encodeURIComponent(s.value||"")}&page=${oe}&pageSize=${_.value}`),z=Array.isArray(O)?O:O.items||[],E=Number(O.total||z.length),h=Number(O.page||oe),p=Math.max(1,Math.ceil(E/_.value));if(h>p&&h!==1){await I(p);return}n.value=z,y.value=E,m.value=h}async function U(){await Qe("/api/animals",R.value)}async function j(){await ns(`/api/animals/${encodeURIComponent(R.value.tagId)}`,R.value)}function H(){R.value={tagId:"",type:"",breed:"",birthDate:"",weightKg:null,healthStatus:"healthy",status:"active"},d.value=[]}function q(){T.value&&(H(),c.value="",r.value="create",l.value=!0)}function ne(oe){if(!T.value)return;c.value="",d.value=[],r.value="edit";const O=Number.parseFloat(String(oe.weight).replace(/[^\d.]/g,""));R.value={tagId:oe.tagId,type:oe.type,breed:oe.breed,birthDate:String(oe.birthDate||""),weightKg:Number.isNaN(O)?null:O,healthStatus:oe.health||"healthy",status:oe.status||"active"},l.value=!0}function X(){l.value=!1,c.value="",d.value=[]}function se(){const oe=[],O=String(R.value.tagId||"").trim().toUpperCase(),z=String(R.value.birthDate||"").trim(),E=new Date().toISOString().slice(0,10);return O||oe.push("Tag ID is required."),O&&!/^[A-Z0-9-]{2,24}$/.test(O)&&oe.push("Tag ID must be 2-24 chars (A-Z, 0-9, hyphen)."),String(R.value.type||"").trim()||oe.push("Type is required."),String(R.value.breed||"").trim()||oe.push("Breed is required."),R.value.weightKg!==null&&Number(R.value.weightKg)<0&&oe.push("Weight cannot be negative."),z&&z>E&&oe.push("Birth date cannot be in the future."),d.value=oe,oe.length===0}async function ue(){if(T.value&&se()){c.value="",u.value=!0;try{R.value.tagId=String(R.value.tagId||"").trim().toUpperCase(),r.value==="create"?await U():await j(),await I(),X()}catch(oe){c.value=oe.message||"Failed to save animal"}finally{u.value=!1}}}async function xe(oe){T.value&&(i.value=oe,a.value=!0)}async function _e(){if(i.value)try{await os(`/api/animals/${encodeURIComponent(i.value.tagId)}`),a.value=!1,i.value=null,await I()}catch(oe){c.value=oe.message||"Failed to delete animal"}}return ut(()=>I(1)),(oe,O)=>{var z;return w(),C("section",Ef,[o("header",Rf,[O[13]||(O[13]=o("div",null,[o("h2",{class:"text-2xl font-bold text-zinc-800 md:text-3xl"},"Animal Management"),o("p",{class:"mt-2 text-base text-[#7a7467]"},"Manage and track all livestock")],-1)),T.value?(w(),C("button",{key:0,class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",onClick:q}," + Add Animal ")):K("",!0)]),o("div",Pf,[Y(o("input",{"onUpdate:modelValue":O[0]||(O[0]=E=>s.value=E),type:"text",placeholder:"Search by ID, type, or breed...",class:"w-full rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3",onKeyup:O[1]||(O[1]=Js(E=>I(1),["enter"]))},null,544),[[ie,s.value]]),o("button",{class:"rounded-lg border border-[#d1cbc0] bg-[#f2f0ea] px-4 py-3 text-zinc-800",onClick:O[2]||(O[2]=E=>I(1))},"Filter")]),o("div",If,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm disabled:opacity-40",disabled:m.value<=1,onClick:O[3]||(O[3]=E=>I(m.value-1))},"Prev",8,Tf),o("span",Df,"Page "+x(m.value)+" / "+x(v.value),1),o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm disabled:opacity-40",disabled:m.value>=v.value,onClick:O[4]||(O[4]=E=>I(m.value+1))},"Next",8,Mf)]),o("div",Nf,[A.value.length?K("",!0):(w(),C("article",Of," No animals found. Use Add Animal to create your first record. ")),(w(!0),C(fe,null,ye(A.value,E=>(w(),C("article",{key:`mobile-${E.tagId}`,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 shadow-sm"},[o("div",Vf,[o("div",null,[o("span",Uf,x(E.tagId),1),o("h4",Ff,x(E.type)+" - "+x(E.breed),1)]),o("span",Lf,x(E.status),1)]),o("div",zf,[o("p",null,[O[14]||(O[14]=o("span",{class:"font-semibold"},"Age:",-1)),pe(" "+x(E.age),1)]),o("p",null,[O[15]||(O[15]=o("span",{class:"font-semibold"},"Weight:",-1)),pe(" "+x(E.weight),1)]),o("p",null,[O[16]||(O[16]=o("span",{class:"font-semibold"},"Health:",-1)),pe(" "+x(E.health),1)])]),T.value?(w(),C("div",jf,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:h=>ne(E)},"Edit",8,Bf),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:h=>xe(E)},"Delete",8,qf)])):K("",!0)]))),128))]),o("div",Hf,[o("table",Kf,[o("thead",Wf,[o("tr",null,[O[17]||(O[17]=o("th",{class:"px-4 py-3 text-left text-sm"},"Tag ID",-1)),O[18]||(O[18]=o("th",{class:"px-4 py-3 text-left text-sm"},"Type",-1)),O[19]||(O[19]=o("th",{class:"px-4 py-3 text-left text-sm"},"Breed",-1)),O[20]||(O[20]=o("th",{class:"px-4 py-3 text-left text-sm"},"Age",-1)),O[21]||(O[21]=o("th",{class:"px-4 py-3 text-left text-sm"},"Weight",-1)),O[22]||(O[22]=o("th",{class:"px-4 py-3 text-left text-sm"},"Health",-1)),O[23]||(O[23]=o("th",{class:"px-4 py-3 text-left text-sm"},"Status",-1)),T.value?(w(),C("th",Gf,"Actions")):K("",!0)])]),o("tbody",null,[A.value.length?K("",!0):(w(),C("tr",Jf,[o("td",{colspan:T.value?8:7,class:"px-4 py-8 text-center text-[#7a7467]"},"No animals found. Use Add Animal to create your first record.",8,Zf)])),(w(!0),C(fe,null,ye(A.value,E=>(w(),C("tr",{key:E.tagId,class:"border-t border-[#ddd8ce]"},[o("td",Qf,[o("span",Yf,x(E.tagId),1)]),o("td",Xf,[(w(),Le(es(me(Hs)(E.type)),{class:"mr-1 inline-block h-[18px] w-[18px] align-[-3px]"})),pe(" "+x(E.type),1)]),o("td",ep,x(E.breed),1),o("td",tp,x(E.age),1),o("td",sp,x(E.weight),1),o("td",np,[o("span",{class:tt(["inline-block rounded-full px-3 py-1 text-xs font-bold lowercase",E.health==="healthy"?"bg-farm-green text-white":"bg-farm-gold text-zinc-800"])},x(E.health),3)]),o("td",op,[o("span",lp,x(E.status),1)]),T.value?(w(),C("td",rp,[o("div",ap,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:h=>ne(E)},"Edit",8,ip),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:h=>xe(E)},"Delete",8,up)])])):K("",!0)]))),128))])])]),ve(Vt,{open:l.value,title:r.value==="create"?"Add Animal":"Edit Animal",onClose:X},{default:Ve(()=>[o("form",{class:"grid gap-3 md:grid-cols-2",onSubmit:Ye(ue,["prevent"])},[o("div",dp,[O[24]||(O[24]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Tag ID",-1)),Y(o("input",{"onUpdate:modelValue":O[5]||(O[5]=E=>R.value.tagId=E),disabled:r.value==="edit",required:"",placeholder:"A050",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3 disabled:bg-[#e9e4d9]"},null,8,cp),[[ie,R.value.tagId,void 0,{trim:!0}]])]),o("div",fp,[O[25]||(O[25]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Type",-1)),Y(o("input",{"onUpdate:modelValue":O[6]||(O[6]=E=>R.value.type=E),required:"",placeholder:"Cattle",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,R.value.type,void 0,{trim:!0}]])]),o("div",pp,[O[26]||(O[26]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Breed",-1)),Y(o("input",{"onUpdate:modelValue":O[7]||(O[7]=E=>R.value.breed=E),required:"",placeholder:"Holstein",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,R.value.breed,void 0,{trim:!0}]])]),o("div",mp,[O[27]||(O[27]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Birth Date",-1)),Y(o("input",{"onUpdate:modelValue":O[8]||(O[8]=E=>R.value.birthDate=E),type:"date",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,R.value.birthDate]])]),o("div",gp,[O[28]||(O[28]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Weight (kg)",-1)),Y(o("input",{"onUpdate:modelValue":O[9]||(O[9]=E=>R.value.weightKg=E),type:"number",step:"0.01",min:"0",placeholder:"0.00",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,R.value.weightKg,void 0,{number:!0}]])]),o("div",bp,[O[30]||(O[30]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Health Status",-1)),Y(o("select",{"onUpdate:modelValue":O[10]||(O[10]=E=>R.value.healthStatus=E),class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},[...O[29]||(O[29]=[o("option",{value:"healthy"},"healthy",-1),o("option",{value:"attention"},"attention",-1),o("option",{value:"sick"},"sick",-1)])],512),[[It,R.value.healthStatus]])]),o("div",hp,[O[32]||(O[32]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Status",-1)),Y(o("select",{"onUpdate:modelValue":O[11]||(O[11]=E=>R.value.status=E),class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},[...O[31]||(O[31]=[o("option",{value:"active"},"active",-1),o("option",{value:"inactive"},"inactive",-1),o("option",{value:"sold"},"sold",-1)])],512),[[It,R.value.status]])]),o("div",vp,[d.value.length?(w(),C("ul",xp,[(w(!0),C(fe,null,ye(d.value,E=>(w(),C("li",{key:E,class:"ml-5 list-disc text-sm font-semibold text-farm-red"},x(E),1))),128))])):K("",!0),c.value?(w(),C("p",yp,x(c.value),1)):K("",!0),o("div",_p,[o("button",{type:"button",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-5 py-3 font-semibold text-zinc-800",disabled:u.value,onClick:X},"Cancel",8,wp),o("button",{type:"submit",class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",disabled:u.value},x(u.value?"Saving...":r.value==="create"?"Create Animal":"Save Changes"),9,$p)])])],32)]),_:1},8,["open","title"]),ve(ls,{open:a.value,title:"Delete Animal",message:`Delete animal ${((z=i.value)==null?void 0:z.tagId)||""}?`,"confirm-text":"Delete",onCancel:O[12]||(O[12]=E=>a.value=!1),onConfirm:_e},null,8,["open","message"])])}}},Cp={class:"min-w-0"},Sp={class:"flex flex-col justify-between gap-3 md:flex-row md:items-start"},Ap={class:"grid gap-3 rounded-lg border border-[#ddd8ce] bg-farm-panel p-3 shadow-sm"},Ep={class:"mt-1"},Rp={class:"sm:text-right"},Pp={class:"block"},Ip={class:"grid gap-3 md:hidden"},Tp={key:0,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 text-center text-[#7a7467]"},Dp={class:"flex items-start justify-between gap-2"},Mp={class:"text-sm text-[#7a7467]"},Np={class:"font-bold text-zinc-800"},Op={class:"inline-block rounded-full bg-farm-gold px-3 py-1 text-xs font-bold"},Vp={class:"mt-2 grid gap-1 text-sm text-zinc-700"},Up={key:0,class:"mt-3 flex flex-wrap gap-2"},Fp=["onClick"],Lp=["onClick"],zp={class:"hidden overflow-x-auto rounded-lg border border-[#ddd8ce] bg-farm-panel shadow-sm md:block"},jp={class:"w-full min-w-[1040px] border-collapse"},Bp={class:"bg-farm-green text-white"},qp={key:0,class:"px-4 py-3 text-right text-sm"},Hp={key:0},Kp=["colspan"],Wp={class:"px-4 py-3"},Gp={class:"px-4 py-3 font-bold"},Jp={class:"px-4 py-3"},Zp={class:"px-4 py-3"},Qp={class:"px-4 py-3"},Yp={class:"px-4 py-3"},Xp={class:"inline-block rounded-full bg-farm-gold px-3 py-1 text-xs font-bold"},em={key:0,class:"px-4 py-3 text-right"},tm={class:"inline-flex flex-wrap justify-end gap-2"},sm=["onClick"],nm=["onClick"],om={class:"grid gap-1"},lm={class:"relative"},rm=["value"],am={key:0,class:"absolute z-10 mt-1 max-h-48 w-full overflow-auto rounded-lg border border-[#cec7b8] bg-white shadow"},im=["onMousedown"],um={class:"grid gap-1"},dm={class:"grid gap-1"},cm={class:"grid gap-1"},fm={class:"grid gap-1"},pm={class:"grid gap-1"},mm={class:"md:col-span-2 space-y-3"},gm={key:0,class:"rounded-lg border border-farm-red/30 bg-[#fff4f3] p-3"},bm={key:1,class:"font-semibold text-farm-red"},hm={class:"flex flex-wrap items-center gap-3"},vm=["disabled"],xm=["disabled"],ym={__name:"HealthView",setup(e){const t=st(),s=P([]),n=P([]),l=P([]),r=P(""),a=P(!1),i=P(!1),u=P("create"),c=P(null),d=P(!1),m=P(null),y=P(!1),_=P(""),R=P([]),A=P({animalTagId:"",action:"",treatment:"",recordDate:"",veterinarian:"",nextDue:""}),v=re(()=>{var h;return $t(t.role||((h=t.user)==null?void 0:h.role)||"","health.write")}),T=re(()=>{const h=String(r.value||"").trim().toUpperCase();return(h?l.value.filter(V=>V.includes(h)):l.value).slice(0,10)});async function I(){const[h,p,V]=await Promise.all([De("/api/health/upcoming"),De("/api/health/records"),De("/api/animals?page=1&pageSize=200")]);s.value=h,n.value=p;const g=Array.isArray(V)?V:V.items||[];l.value=g.filter(F=>String(F.status||"").toLowerCase()==="active").map(F=>F.tagId).filter(Boolean)}async function U(){await Qe("/api/health/records",A.value)}async function j(){await ns(`/api/health/records/${c.value}`,A.value)}function H(h){if(!h||h==="N/A")return"";const p=String(h).split("/");if(p.length!==3)return"";const[V,g,F]=p;return`${F}-${g.padStart(2,"0")}-${V.padStart(2,"0")}`}function q(){A.value={animalTagId:"",action:"",treatment:"",recordDate:"",veterinarian:"",nextDue:""},r.value="",a.value=!1,R.value=[]}function ne(){v.value&&(q(),c.value=null,u.value="create",_.value="",i.value=!0)}function X(h){v.value&&(c.value=h.id,u.value="edit",_.value="",A.value={animalTagId:h.animalId,action:h.action,treatment:h.treatment,recordDate:H(h.date),veterinarian:h.vet,nextDue:H(h.nextDue)},r.value=h.animalId,a.value=!1,i.value=!0)}function se(){i.value=!1,a.value=!1,_.value="",R.value=[]}function ue(h){const p=String(h||"").toUpperCase().replace(/[^A-Z0-9-]/g,"");r.value=p,A.value.animalTagId=p,a.value=!0}function xe(h){r.value=h,A.value.animalTagId=h,a.value=!1}function _e(){setTimeout(()=>{a.value=!1},120)}function oe(){const h=[],p=String(A.value.animalTagId||"").trim().toUpperCase();return p||h.push("Animal tag is required."),p&&!/^[A-Z0-9-]{2,24}$/.test(p)&&h.push("Animal tag must be 2-24 chars (A-Z, 0-9, hyphen)."),String(A.value.action||"").trim()||h.push("Action is required."),String(A.value.treatment||"").trim()||h.push("Treatment is required."),String(A.value.recordDate||"").trim()||h.push("Record date is required."),String(A.value.veterinarian||"").trim()||h.push("Veterinarian is required."),R.value=h,h.length===0}async function O(){if(v.value&&oe()){_.value="",y.value=!0;try{A.value.animalTagId=String(A.value.animalTagId||"").trim().toUpperCase(),u.value==="create"?await U():await j(),await I(),se()}catch(h){_.value=h.message||"Failed to save record"}finally{y.value=!1}}}async function z(h){v.value&&(m.value=h,d.value=!0)}async function E(){if(m.value)try{await os(`/api/health/records/${m.value.id}`),d.value=!1,m.value=null,await I()}catch(h){_.value=h.message||"Failed to delete record"}}return ut(I),(h,p)=>{var V;return w(),C("section",Cp,[o("header",Sp,[p[8]||(p[8]=o("div",null,[o("h2",{class:"text-2xl font-bold text-zinc-800 md:text-3xl"},"Health Management"),o("p",{class:"mt-2 text-base text-[#7a7467]"},"Track vaccinations and health records")],-1)),v.value?(w(),C("button",{key:0,class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",onClick:ne}," + Add Record ")):K("",!0)]),p[24]||(p[24]=o("h3",{class:"mb-3 mt-8 text-2xl font-bold text-zinc-800 md:text-3xl"},"Upcoming Vaccinations",-1)),o("div",Ap,[(w(!0),C(fe,null,ye(s.value,g=>(w(),C("article",{class:"flex flex-col gap-2 border-l-4 border-farm-gold bg-[#f4f1eb] p-4 sm:flex-row sm:items-start sm:justify-between",key:g.id+g.treatment},[o("div",null,[o("strong",null,[(w(),Le(es(me(Hs)(g.animal)),{class:"mr-1 inline-block h-[18px] w-[18px] align-[-3px]"})),pe(" "+x(g.id)+" - "+x(g.animal),1)]),o("p",Ep,x(g.treatment),1)]),o("div",Rp,[o("strong",null,x(g.dueDate),1),o("small",Pp,x(g.remaining),1)])]))),128))]),p[25]||(p[25]=o("h3",{class:"mb-3 mt-8 text-2xl font-bold text-zinc-800 md:text-3xl"},"Health Records",-1)),o("div",Ip,[n.value.length?K("",!0):(w(),C("article",Tp," No health records yet. ")),(w(!0),C(fe,null,ye(n.value,g=>(w(),C("article",{key:`mobile-${g.id}-${g.date}`,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 shadow-sm"},[o("div",Dp,[o("div",null,[o("p",Mp,x(g.date),1),o("h4",Np,x(g.animalId),1)]),o("span",Op,x(g.nextDue),1)]),o("div",Vp,[o("p",null,[p[9]||(p[9]=o("span",{class:"font-semibold"},"Action:",-1)),pe(" "+x(g.action),1)]),o("p",null,[p[10]||(p[10]=o("span",{class:"font-semibold"},"Treatment:",-1)),pe(" "+x(g.treatment),1)]),o("p",null,[p[11]||(p[11]=o("span",{class:"font-semibold"},"Vet:",-1)),pe(" "+x(g.vet),1)])]),v.value?(w(),C("div",Up,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:F=>X(g)},"Edit",8,Fp),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:F=>z(g)},"Delete",8,Lp)])):K("",!0)]))),128))]),o("div",zp,[o("table",jp,[o("thead",Bp,[o("tr",null,[p[12]||(p[12]=o("th",{class:"px-4 py-3 text-left text-sm"},"Animal ID",-1)),p[13]||(p[13]=o("th",{class:"px-4 py-3 text-left text-sm"},"Action",-1)),p[14]||(p[14]=o("th",{class:"px-4 py-3 text-left text-sm"},"Vaccine/Treatment",-1)),p[15]||(p[15]=o("th",{class:"px-4 py-3 text-left text-sm"},"Date",-1)),p[16]||(p[16]=o("th",{class:"px-4 py-3 text-left text-sm"},"Veterinarian",-1)),p[17]||(p[17]=o("th",{class:"px-4 py-3 text-left text-sm"},"Next Due",-1)),v.value?(w(),C("th",qp,"Actions")):K("",!0)])]),o("tbody",null,[n.value.length?K("",!0):(w(),C("tr",Hp,[o("td",{colspan:v.value?7:6,class:"px-4 py-8 text-center text-[#7a7467]"},"No health records yet.",8,Kp)])),(w(!0),C(fe,null,ye(n.value,g=>(w(),C("tr",{key:g.id+g.date,class:"border-t border-[#ddd8ce]"},[o("td",Wp,x(g.animalId),1),o("td",Gp,x(g.action),1),o("td",Jp,x(g.treatment),1),o("td",Zp,x(g.date),1),o("td",Qp,x(g.vet),1),o("td",Yp,[o("span",Xp,x(g.nextDue),1)]),v.value?(w(),C("td",em,[o("div",tm,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:F=>X(g)},"Edit",8,sm),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:F=>z(g)},"Delete",8,nm)])])):K("",!0)]))),128))])])]),ve(Vt,{open:i.value,title:u.value==="create"?"Add Health Record":"Edit Health Record",onClose:se},{default:Ve(()=>[o("form",{class:"grid gap-3 md:grid-cols-2",onSubmit:Ye(O,["prevent"])},[o("div",om,[p[18]||(p[18]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Animal Tag",-1)),o("div",lm,[o("input",{value:r.value,required:"",placeholder:"Search tag (e.g. A049)",class:"w-full rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3",onInput:p[0]||(p[0]=g=>ue(g.target.value)),onFocus:p[1]||(p[1]=g=>a.value=!0),onBlur:_e},null,40,rm),a.value&&T.value.length?(w(),C("div",am,[(w(!0),C(fe,null,ye(T.value,g=>(w(),C("button",{key:g,type:"button",class:"block w-full px-3 py-2 text-left text-sm hover:bg-[#f1eee6]",onMousedown:Ye(F=>xe(g),["prevent"])},x(g),41,im))),128))])):K("",!0)])]),o("div",um,[p[19]||(p[19]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Action",-1)),Y(o("input",{"onUpdate:modelValue":p[2]||(p[2]=g=>A.value.action=g),required:"",placeholder:"Vaccination",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,A.value.action,void 0,{trim:!0}]])]),o("div",dm,[p[20]||(p[20]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Treatment",-1)),Y(o("input",{"onUpdate:modelValue":p[3]||(p[3]=g=>A.value.treatment=g),required:"",placeholder:"Deworming",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,A.value.treatment,void 0,{trim:!0}]])]),o("div",cm,[p[21]||(p[21]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Record Date",-1)),Y(o("input",{"onUpdate:modelValue":p[4]||(p[4]=g=>A.value.recordDate=g),type:"date",required:"",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,A.value.recordDate]])]),o("div",fm,[p[22]||(p[22]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Veterinarian",-1)),Y(o("input",{"onUpdate:modelValue":p[5]||(p[5]=g=>A.value.veterinarian=g),required:"",placeholder:"Dr. Smith",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,A.value.veterinarian,void 0,{trim:!0}]])]),o("div",pm,[p[23]||(p[23]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Next Due Date",-1)),Y(o("input",{"onUpdate:modelValue":p[6]||(p[6]=g=>A.value.nextDue=g),type:"date",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,A.value.nextDue]])]),o("div",mm,[R.value.length?(w(),C("ul",gm,[(w(!0),C(fe,null,ye(R.value,g=>(w(),C("li",{key:g,class:"ml-5 list-disc text-sm font-semibold text-farm-red"},x(g),1))),128))])):K("",!0),_.value?(w(),C("p",bm,x(_.value),1)):K("",!0),o("div",hm,[o("button",{type:"button",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-5 py-3 font-semibold text-zinc-800",disabled:y.value,onClick:se},"Cancel",8,vm),o("button",{type:"submit",class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",disabled:y.value},x(y.value?"Saving...":u.value==="create"?"Create Record":"Save Changes"),9,xm)])])],32)]),_:1},8,["open","title"]),ve(ls,{open:d.value,title:"Delete Health Record",message:`Delete health record for ${((V=m.value)==null?void 0:V.animalId)||""}?`,"confirm-text":"Delete",onCancel:p[7]||(p[7]=g=>d.value=!1),onConfirm:E},null,8,["open","message"])])}}},_m={class:"min-w-0"},wm={class:"flex flex-col justify-between gap-3 md:flex-row md:items-start"},$m={class:"grid gap-3 rounded-lg border border-[#ddd8ce] bg-farm-panel p-3 shadow-sm"},km={key:0,class:"p-6 text-center text-[#7a7467]"},Cm={class:"font-bold"},Sm={class:"mt-2 flex flex-wrap gap-5 text-sm"},Am={class:"mt-3 h-3 rounded-full bg-[#ddd5c6]"},Em={key:0,class:"mt-3 inline-flex gap-2"},Rm=["onClick"],Pm=["onClick"],Im=["onClick"],Tm={class:"grid gap-3 md:hidden"},Dm={key:0,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 text-center text-[#7a7467]"},Mm={class:"flex items-start justify-between gap-2"},Nm={class:"font-bold text-zinc-800"},Om={class:"text-sm text-[#7a7467]"},Vm={class:"mt-2 grid gap-1 text-sm text-zinc-700"},Um={class:"hidden overflow-x-auto rounded-lg border border-[#ddd8ce] bg-farm-panel shadow-sm md:block"},Fm={class:"w-full min-w-[860px] border-collapse"},Lm={key:0},zm={class:"px-4 py-3"},jm={class:"px-4 py-3"},Bm={class:"px-4 py-3"},qm={class:"px-4 py-3"},Hm={class:"inline-block rounded-full bg-farm-gold px-3 py-1 text-xs font-bold"},Km={class:"px-4 py-3"},Wm={class:"grid gap-1"},Gm={class:"relative"},Jm=["value"],Zm={key:0,class:"absolute z-10 mt-1 max-h-48 w-full overflow-auto rounded-lg border border-[#cec7b8] bg-white shadow"},Qm=["onMousedown"],Ym={class:"grid gap-1"},Xm={class:"relative"},eg=["value"],tg={key:0,class:"absolute z-10 mt-1 max-h-48 w-full overflow-auto rounded-lg border border-[#cec7b8] bg-white shadow"},sg=["onMousedown"],ng={class:"grid gap-1"},og={class:"grid gap-1"},lg={class:"grid gap-1"},rg={class:"grid gap-1"},ag={class:"md:col-span-2 space-y-3"},ig={key:0,class:"rounded-lg border border-farm-red/30 bg-[#fff4f3] p-3"},ug={key:1,class:"font-semibold text-farm-red"},dg={class:"flex flex-wrap items-center gap-3"},cg=["disabled"],fg=["disabled"],pg={class:"grid gap-1 md:col-span-2"},mg={class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3 text-sm text-zinc-700"},gg={class:"grid gap-1"},bg={class:"grid gap-1"},hg={class:"md:col-span-2 space-y-3"},vg={key:0,class:"font-semibold text-farm-red"},xg={class:"flex flex-wrap items-center gap-3"},yg=["disabled"],_g=["disabled"],wg={__name:"BreedingView",setup(e){const t=st(),s=P([]),n=P([]),l=P([]),r=P(""),a=P(""),i=P(!1),u=P(!1),c=P(!1),d=P("create"),m=P(null),y=P(!1),_=P(null),R=P(!1),A=P(null),v=P(!1),T=P(""),I=P({actualBirthDate:"",offspringCount:1}),U=P(!1),j=P(""),H=P([]),q=P({motherTagId:"",fatherTagId:"",species:"",breedingDate:"",expectedBirthDate:"",notes:""}),ne=re(()=>{var B;return $t(t.role||((B=t.user)==null?void 0:B.role)||"","breeding.write")}),X=re(()=>{const B=String(r.value||"").trim().toUpperCase(),f=String(q.value.fatherTagId||"").trim().toUpperCase(),b=l.value.filter(k=>k!==f);return(B?b.filter(k=>k.includes(B)):b).slice(0,10)}),se=re(()=>{const B=String(a.value||"").trim().toUpperCase(),f=String(q.value.motherTagId||"").trim().toUpperCase(),b=l.value.filter(k=>k!==f);return(B?b.filter(k=>k.includes(B)):b).slice(0,10)});async function ue(){const[B,f,b]=await Promise.all([De("/api/breeding/active"),De("/api/breeding/births"),De("/api/animals?page=1&pageSize=200")]);s.value=B,n.value=f;const k=Array.isArray(b)?b:b.items||[];l.value=k.filter($=>String($.status||"").toLowerCase()==="active").map($=>$.tagId).filter(Boolean)}async function xe(){await Qe("/api/breeding",q.value)}async function _e(){await ns(`/api/breeding/${m.value}`,q.value)}function oe(B){if(!B)return"";const f=String(B).split("/");if(f.length!==3)return"";const[b,k,$]=f;return`${$}-${k.padStart(2,"0")}-${b.padStart(2,"0")}`}function O(){q.value={motherTagId:"",fatherTagId:"",species:"",breedingDate:"",expectedBirthDate:"",notes:""},r.value="",a.value="",i.value=!1,u.value=!1,H.value=[]}function z(){ne.value&&(O(),m.value=null,d.value="create",j.value="",c.value=!0)}function E(B){ne.value&&(m.value=B.id,d.value="edit",j.value="",q.value={motherTagId:B.mother,fatherTagId:B.father,species:B.animal,breedingDate:oe(B.breedDate),expectedBirthDate:oe(B.expected),notes:B.notes||""},r.value=B.mother,a.value=B.father,i.value=!1,u.value=!1,c.value=!0)}function h(){c.value=!1,i.value=!1,u.value=!1,j.value="",H.value=[]}function p(B){const f=String(B||"").toUpperCase().replace(/[^A-Z0-9-]/g,"");r.value=f,q.value.motherTagId=f,i.value=!0}function V(B){const f=String(B||"").toUpperCase().replace(/[^A-Z0-9-]/g,"");a.value=f,q.value.fatherTagId=f,u.value=!0}function g(B){r.value=B,q.value.motherTagId=B,i.value=!1}function F(B){a.value=B,q.value.fatherTagId=B,u.value=!1}function S(){setTimeout(()=>{i.value=!1},120)}function be(){setTimeout(()=>{u.value=!1},120)}function Z(){const B=[],f=String(q.value.motherTagId||"").trim().toUpperCase(),b=String(q.value.fatherTagId||"").trim().toUpperCase();return f||B.push("Mother tag is required."),b||B.push("Father tag is required."),f&&!/^[A-Z0-9-]{2,24}$/.test(f)&&B.push("Mother tag must be 2-24 chars (A-Z, 0-9, hyphen)."),b&&!/^[A-Z0-9-]{2,24}$/.test(b)&&B.push("Father tag must be 2-24 chars (A-Z, 0-9, hyphen)."),f&&b&&f===b&&B.push("Mother and father tags must be different."),String(q.value.species||"").trim()||B.push("Species is required."),String(q.value.breedingDate||"").trim()||B.push("Breeding date is required."),H.value=B,B.length===0}async function Ie(){if(ne.value&&Z()){j.value="",U.value=!0;try{q.value.motherTagId=String(q.value.motherTagId||"").trim().toUpperCase(),q.value.fatherTagId=String(q.value.fatherTagId||"").trim().toUpperCase(),d.value==="create"?await xe():await _e(),await ue(),h()}catch(B){j.value=B.message||"Failed to save breeding record"}finally{U.value=!1}}}async function Oe(B){ne.value&&(_.value=B,y.value=!0)}function D(B){ne.value&&(A.value=B,T.value="",I.value={actualBirthDate:new Date().toISOString().slice(0,10),offspringCount:1},R.value=!0)}function te(){R.value=!1,T.value=""}async function Q(){if(!A.value)return;const B=Number(I.value.offspringCount);if(!I.value.actualBirthDate){T.value="Actual birth date is required.";return}if(!Number.isInteger(B)||B<0){T.value="Offspring count must be 0 or more.";return}T.value="",v.value=!0;try{await Qe(`/api/breeding/${A.value.id}/birth`,{actualBirthDate:I.value.actualBirthDate,offspringCount:B}),te(),await ue()}catch(f){T.value=f.message||"Failed to record birth"}finally{v.value=!1}}async function le(){if(_.value)try{await os(`/api/breeding/${_.value.id}`),y.value=!1,_.value=null,await ue()}catch(B){j.value=B.message||"Failed to delete breeding record"}}return ut(ue),(B,f)=>{var b,k;return w(),C("section",_m,[o("header",wm,[f[11]||(f[11]=o("div",null,[o("h2",{class:"text-2xl font-bold text-zinc-800 md:text-3xl"},"Breeding Management"),o("p",{class:"mt-2 text-base text-[#7a7467]"},"Track breeding cycles and births")],-1)),ne.value?(w(),C("button",{key:0,class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",onClick:z}," + Add Breeding Record ")):K("",!0)]),f[28]||(f[28]=o("h3",{class:"mb-3 mt-8 text-2xl font-bold text-zinc-800 md:text-3xl"},"Active Breeding Records",-1)),o("div",$m,[s.value.length?K("",!0):(w(),C("p",km,"No active breeding records yet.")),(w(!0),C(fe,null,ye(s.value,$=>(w(),C("article",{class:"border-l-4 border-farm-green bg-[#f4f1eb] p-3",key:$.id},[o("p",Cm,[(w(),Le(es(me(Hs)($.animal)),{class:"mr-1 inline-block h-[18px] w-[18px] align-[-3px]"})),pe(" Mother: "+x($.mother)+" | Father: "+x($.father)+" ("+x($.animal)+") ",1)]),o("div",Sm,[o("span",null,[f[12]||(f[12]=pe("Breed Date: ",-1)),o("strong",null,x($.breedDate),1)]),o("span",null,[f[13]||(f[13]=pe("Expected Date: ",-1)),o("strong",null,x($.expected),1)]),o("span",null,[f[14]||(f[14]=pe("Days Remaining: ",-1)),o("strong",null,x($.days),1)])]),o("div",Am,[o("div",{class:"h-full rounded-full bg-farm-green",style:$n(`width: ${$.progress}%`)},null,4)]),ne.value?(w(),C("div",Em,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:N=>E($)},"Edit",8,Rm),o("button",{class:"rounded-md border border-farm-green px-3 py-1 text-sm text-farm-green",onClick:N=>D($)},"Record Birth",8,Pm),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:N=>Oe($)},"Delete",8,Im)])):K("",!0)]))),128))]),f[29]||(f[29]=o("h3",{class:"mb-3 mt-8 text-2xl font-bold text-zinc-800 md:text-3xl"},"Recent Births",-1)),o("div",Tm,[n.value.length?K("",!0):(w(),C("article",Dm," No births recorded yet. ")),(w(!0),C(fe,null,ye(n.value,$=>(w(),C("article",{key:`mobile-${$.mother}-${$.date}`,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 shadow-sm"},[o("div",Mm,[o("div",null,[o("h4",Nm,x($.mother),1),o("p",Om,x($.date),1)]),o("span",{class:tt(["inline-block rounded-full px-3 py-1 text-xs font-bold lowercase",$.health==="healthy"?"bg-farm-green text-white":"bg-farm-gold text-zinc-800"])},x($.health),3)]),o("div",Vm,[o("p",null,[f[15]||(f[15]=o("span",{class:"font-semibold"},"Type:",-1)),pe(" "+x($.type),1)]),o("p",null,[f[16]||(f[16]=o("span",{class:"font-semibold"},"Offspring:",-1)),pe(" "+x($.offspring),1)])])]))),128))]),o("div",Um,[o("table",Fm,[f[18]||(f[18]=o("thead",{class:"bg-farm-green text-white"},[o("tr",null,[o("th",{class:"px-4 py-3 text-left text-sm"},"Mother ID"),o("th",{class:"px-4 py-3 text-left text-sm"},"Type"),o("th",{class:"px-4 py-3 text-left text-sm"},"Birth Date"),o("th",{class:"px-4 py-3 text-left text-sm"},"Offspring"),o("th",{class:"px-4 py-3 text-left text-sm"},"Health Status")])],-1)),o("tbody",null,[n.value.length?K("",!0):(w(),C("tr",Lm,[...f[17]||(f[17]=[o("td",{colspan:"5",class:"px-4 py-8 text-center text-[#7a7467]"},"No births recorded yet.",-1)])])),(w(!0),C(fe,null,ye(n.value,$=>(w(),C("tr",{key:$.mother+$.date,class:"border-t border-[#ddd8ce]"},[o("td",zm,[(w(),Le(es(me(Hs)($.type)),{class:"mr-1 inline-block h-[18px] w-[18px] align-[-3px]"})),pe(x($.mother),1)]),o("td",jm,x($.type),1),o("td",Bm,x($.date),1),o("td",qm,[o("span",Hm,x($.offspring),1)]),o("td",Km,[o("span",{class:tt(["inline-block rounded-full px-3 py-1 text-xs font-bold lowercase",$.health==="healthy"?"bg-farm-green text-white":"bg-farm-gold text-zinc-800"])},x($.health),3)])]))),128))])])]),ve(Vt,{open:c.value,title:d.value==="create"?"Add Breeding Record":"Edit Breeding Record",onClose:h},{default:Ve(()=>[o("form",{class:"grid gap-3 md:grid-cols-2",onSubmit:Ye(Ie,["prevent"])},[o("div",Wm,[f[19]||(f[19]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Mother Tag",-1)),o("div",Gm,[o("input",{value:r.value,required:"",placeholder:"Search mother tag",class:"w-full rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3",onInput:f[0]||(f[0]=$=>p($.target.value)),onFocus:f[1]||(f[1]=$=>i.value=!0),onBlur:S},null,40,Jm),i.value&&X.value.length?(w(),C("div",Zm,[(w(!0),C(fe,null,ye(X.value,$=>(w(),C("button",{key:`m-${$}`,type:"button",class:"block w-full px-3 py-2 text-left text-sm hover:bg-[#f1eee6]",onMousedown:Ye(N=>g($),["prevent"])},x($),41,Qm))),128))])):K("",!0)])]),o("div",Ym,[f[20]||(f[20]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Father Tag",-1)),o("div",Xm,[o("input",{value:a.value,required:"",placeholder:"Search father tag",class:"w-full rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3",onInput:f[2]||(f[2]=$=>V($.target.value)),onFocus:f[3]||(f[3]=$=>u.value=!0),onBlur:be},null,40,eg),u.value&&se.value.length?(w(),C("div",tg,[(w(!0),C(fe,null,ye(se.value,$=>(w(),C("button",{key:`f-${$}`,type:"button",class:"block w-full px-3 py-2 text-left text-sm hover:bg-[#f1eee6]",onMousedown:Ye(N=>F($),["prevent"])},x($),41,sg))),128))])):K("",!0)])]),o("div",ng,[f[21]||(f[21]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Species",-1)),Y(o("input",{"onUpdate:modelValue":f[4]||(f[4]=$=>q.value.species=$),required:"",placeholder:"Cattle",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,q.value.species,void 0,{trim:!0}]])]),o("div",og,[f[22]||(f[22]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Breeding Date",-1)),Y(o("input",{"onUpdate:modelValue":f[5]||(f[5]=$=>q.value.breedingDate=$),type:"date",required:"",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,q.value.breedingDate]])]),o("div",lg,[f[23]||(f[23]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Expected Birth Date",-1)),Y(o("input",{"onUpdate:modelValue":f[6]||(f[6]=$=>q.value.expectedBirthDate=$),type:"date",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,q.value.expectedBirthDate]])]),o("div",rg,[f[24]||(f[24]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Notes",-1)),Y(o("input",{"onUpdate:modelValue":f[7]||(f[7]=$=>q.value.notes=$),placeholder:"Optional notes",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,q.value.notes,void 0,{trim:!0}]])]),o("div",ag,[H.value.length?(w(),C("ul",ig,[(w(!0),C(fe,null,ye(H.value,$=>(w(),C("li",{key:$,class:"ml-5 list-disc text-sm font-semibold text-farm-red"},x($),1))),128))])):K("",!0),j.value?(w(),C("p",ug,x(j.value),1)):K("",!0),o("div",dg,[o("button",{type:"button",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-5 py-3 font-semibold text-zinc-800",disabled:U.value,onClick:h},"Cancel",8,cg),o("button",{type:"submit",class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",disabled:U.value},x(U.value?"Saving...":d.value==="create"?"Create Record":"Save Changes"),9,fg)])])],32)]),_:1},8,["open","title"]),ve(Vt,{open:R.value,title:"Record Birth",onClose:te},{default:Ve(()=>{var $,N,M;return[o("form",{class:"grid gap-3 md:grid-cols-2",onSubmit:Ye(Q,["prevent"])},[o("div",pg,[f[25]||(f[25]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Record",-1)),o("p",mg,x(($=A.value)==null?void 0:$.mother)+" / "+x((N=A.value)==null?void 0:N.father)+" ("+x((M=A.value)==null?void 0:M.animal)+") ",1)]),o("div",gg,[f[26]||(f[26]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Actual Birth Date",-1)),Y(o("input",{"onUpdate:modelValue":f[8]||(f[8]=G=>I.value.actualBirthDate=G),type:"date",required:"",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,I.value.actualBirthDate]])]),o("div",bg,[f[27]||(f[27]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Offspring Count",-1)),Y(o("input",{"onUpdate:modelValue":f[9]||(f[9]=G=>I.value.offspringCount=G),type:"number",min:"0",step:"1",required:"",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,I.value.offspringCount,void 0,{number:!0}]])]),o("div",hg,[T.value?(w(),C("p",vg,x(T.value),1)):K("",!0),o("div",xg,[o("button",{type:"button",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-5 py-3 font-semibold text-zinc-800",disabled:v.value,onClick:te},"Cancel",8,yg),o("button",{type:"submit",class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",disabled:v.value},x(v.value?"Saving...":"Save Birth"),9,_g)])])],32)]}),_:1},8,["open"]),ve(ls,{open:y.value,title:"Delete Breeding Record",message:`Delete breeding record ${((b=_.value)==null?void 0:b.mother)||""}/${((k=_.value)==null?void 0:k.father)||""}?`,"confirm-text":"Delete",onCancel:f[10]||(f[10]=$=>y.value=!1),onConfirm:le},null,8,["open","message"])])}}},$g={class:"min-w-0"},kg={class:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between"},Cg={class:"mt-4 grid gap-4 sm:grid-cols-2 xl:grid-cols-4"},Sg={class:"text-sm font-semibold tracking-wide"},Ag={class:"my-2 break-words text-2xl font-bold leading-tight md:text-3xl"},Eg={class:"block break-words text-xs"},Rg={class:"mt-4 grid gap-3 md:grid-cols-[1fr_120px]"},Pg={class:"grid gap-3 md:hidden"},Ig={key:0,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 text-center text-[#7a7467]"},Tg={class:"flex items-start justify-between gap-2"},Dg={class:"text-sm text-[#7a7467]"},Mg={class:"font-bold text-zinc-800"},Ng={class:"mt-2 grid gap-1 text-sm text-zinc-700"},Og={key:0,class:"mt-3 flex flex-wrap gap-2"},Vg=["onClick"],Ug=["onClick"],Fg={class:"rounded-lg border border-[#ddd8ce] bg-farm-gold p-4 font-bold text-zinc-800"},Lg={class:"hidden overflow-x-auto rounded-lg border border-[#ddd8ce] bg-farm-panel shadow-sm md:block"},zg={class:"min-w-[860px] w-full border-collapse"},jg={class:"bg-farm-green text-white"},Bg={key:0,class:"px-4 py-3 text-right text-sm"},qg={key:0},Hg=["colspan"],Kg={class:"px-4 py-3 font-bold"},Wg={class:"px-4 py-3"},Gg={class:"px-4 py-3"},Jg={class:"px-4 py-3"},Zg={class:"px-4 py-3 font-bold"},Qg={key:0,class:"px-4 py-3 text-right"},Yg={class:"inline-flex flex-wrap justify-end gap-2"},Xg=["onClick"],eb=["onClick"],tb={class:"bg-farm-gold font-bold text-zinc-800"},sb={class:"px-4 py-3"},nb={class:"px-4 py-3"},ob={class:"px-4 py-3"},lb={class:"px-4 py-3"},rb={key:0,class:"px-4 py-3"},ab={class:"mt-3 flex flex-wrap items-center justify-end gap-2"},ib=["disabled"],ub={class:"text-sm text-[#6f6758]"},db=["disabled"],cb={class:"grid gap-1"},fb={class:"grid gap-1"},pb={class:"grid gap-1"},mb={class:"grid gap-1"},gb={class:"grid gap-1"},bb={class:"grid gap-1"},hb={class:"grid gap-1"},vb={class:"grid gap-1 md:col-span-2"},xb={class:"inline-flex items-center gap-2 rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3 text-sm text-zinc-700"},yb={class:"grid gap-1"},_b=["required","disabled"],wb={key:0,class:"text-xs text-[#7a7467]"},$b={class:"md:col-span-2 space-y-3"},kb={key:0,class:"rounded-lg border border-farm-red/30 bg-[#fff4f3] p-3"},Cb={key:1,class:"font-semibold text-farm-red"},Sb={class:"flex flex-wrap items-center gap-3"},Ab=["disabled"],Eb=["disabled"],eo=60,to=15,so=500,Rb="rounded-lg p-4 md:p-5 shadow-[0_4px_0_rgba(0,0,0,0.12)] overflow-hidden bg-[length:20px_20px] bg-[linear-gradient(135deg,rgba(255,255,255,0.04)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.04)_50%,rgba(255,255,255,0.04)_75%,transparent_75%,transparent)]",Pb={__name:"ProductionView",setup(e){const t=st(),s=P({weeklyMilk:0,weeklyEggs:0,weeklyWool:0,weeklyValue:0,productivityChange:0}),n=P([]),l=P(""),r=P(1),a=P(10),i=P(0),u=P(!1),c=P("create"),d=P(null),m=P(!1),y=P(""),_=P([]),R=P(!1),A=P(null),v=P({date:"",milkLiters:0,eggsCount:0,woolKg:0,milkRate:eo,eggRate:to,woolRate:so,manualTotalOverride:!1,totalValue:0}),T=re(()=>{var F;return $t(t.role||((F=t.user)==null?void 0:F.role)||"","production.create")}),I=re(()=>{var F;return $t(t.role||((F=t.user)==null?void 0:F.role)||"","production.manage")}),U=re(()=>l.value.trim()?n.value.filter(F=>F.date.toLowerCase().includes(l.value.trim().toLowerCase())):n.value),j=re(()=>Math.max(1,Math.ceil(i.value/a.value))),H=F=>({green:"bg-farm-green text-white",gold:"bg-farm-gold text-zinc-800",orange:"bg-farm-orange text-white",red:"bg-farm-red text-white"})[F]||"bg-farm-green text-white",q=re(()=>[{label:"Weekly Milk",value:`${s.value.weeklyMilk}L`,note:"Last 7 days",tone:"green"},{label:"Weekly Eggs",value:s.value.weeklyEggs,note:"Last 7 days",tone:"gold"},{label:"Weekly Wool",value:`${s.value.weeklyWool} kg`,note:"Last 7 days",tone:"orange"},{label:"Productivity",value:`${s.value.productivityChange>=0?"+":""}${Number(s.value.productivityChange||0).toFixed(1)}%`,note:"vs previous 7 days",tone:s.value.productivityChange>=0?"green":"red"}]),ne=re(()=>`${s.value.weeklyMilk} L`),X=re(()=>s.value.weeklyEggs),se=re(()=>`${s.value.weeklyWool} kg`),ue=re(()=>ze(s.value.weeklyValue)),xe=re(()=>{const F=Number(v.value.milkLiters||0),S=Number(v.value.eggsCount||0),be=Number(v.value.woolKg||0),Z=Number(v.value.milkRate||0),Ie=Number(v.value.eggRate||0),Oe=Number(v.value.woolRate||0);return F*Z+S*Ie+be*Oe});function _e(){v.value={date:"",milkLiters:0,eggsCount:0,woolKg:0,milkRate:eo,eggRate:to,woolRate:so,manualTotalOverride:!1,totalValue:0},_.value=[]}function oe(){T.value&&(_e(),c.value="create",d.value=null,y.value="",u.value=!0)}function O(F){I.value&&(c.value="edit",d.value=F.id,y.value="",_.value=[],v.value={date:F.dateRaw,milkLiters:F.milkValue,eggsCount:F.eggsValue,woolKg:F.woolValue,milkRate:eo,eggRate:to,woolRate:so,manualTotalOverride:!1,totalValue:F.totalValue},u.value=!0)}function z(){u.value=!1,y.value="",_.value=[]}function E(){const F=[];return v.value.date||F.push("Date is required."),v.value.milkLiters<0&&F.push("Milk cannot be negative."),(v.value.eggsCount<0||!Number.isInteger(Number(v.value.eggsCount)))&&F.push("Eggs must be a whole number."),v.value.woolKg<0&&F.push("Wool cannot be negative."),(v.value.milkRate<0||v.value.eggRate<0||v.value.woolRate<0)&&F.push("Rates cannot be negative."),v.value.manualTotalOverride&&v.value.totalValue<0&&F.push("Manual total cannot be negative."),_.value=F,F.length===0}async function h(F=r.value){const[S,be]=await Promise.all([De("/api/production/summary"),De(`/api/production/logs?page=${F}&pageSize=${a.value}`)]);s.value=S;const Z=Array.isArray(be)?be:be.items||[],Ie=Number(be.total||Z.length),Oe=Number(be.page||F),D=Math.max(1,Math.ceil(Ie/a.value));if(Oe>D&&Oe!==1){await h(D);return}n.value=Z,i.value=Ie,r.value=Oe}async function p(){if(!(c.value==="create"&&!T.value)&&!(c.value==="edit"&&!I.value)&&E()){y.value="",m.value=!0;try{const F={...v.value,eggsCount:Number(v.value.eggsCount||0),totalValue:v.value.manualTotalOverride?Number(v.value.totalValue||0):Number(xe.value||0)};c.value==="create"?await Qe("/api/production/logs",F):await ns(`/api/production/logs/${d.value}`,F),await h(),z()}catch(F){y.value=F.message||"Failed to save production log"}finally{m.value=!1}}}function V(F){I.value&&(A.value=F,R.value=!0)}async function g(){if(A.value)try{await os(`/api/production/logs/${A.value.id}`),R.value=!1,A.value=null,await h()}catch(F){y.value=F.message||"Failed to delete production log"}}return ut(()=>h(1)),(F,S)=>{var be;return w(),C("section",$g,[o("header",kg,[S[15]||(S[15]=o("div",null,[o("h2",{class:"text-2xl font-bold text-zinc-800 md:text-3xl"},"Production Management"),o("p",{class:"mt-2 text-base text-[#7a7467]"},"Track daily production output")],-1)),T.value?(w(),C("button",{key:0,class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",onClick:oe}," + Add Log ")):K("",!0)]),o("div",Cg,[(w(!0),C(fe,null,ye(q.value,Z=>(w(),C("article",{key:Z.label,class:tt([Rb,H(Z.tone)])},[o("p",Sg,x(Z.label),1),o("h3",Ag,x(Z.value),1),o("small",Eg,x(Z.note),1)],2))),128))]),o("div",Rg,[Y(o("input",{"onUpdate:modelValue":S[0]||(S[0]=Z=>l.value=Z),type:"text",placeholder:"Search date (e.g. Feb)",class:"w-full rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3",onKeyup:S[1]||(S[1]=Js(Z=>h(1),["enter"]))},null,544),[[ie,l.value]]),o("button",{class:"rounded-lg border border-[#d1cbc0] bg-[#f2f0ea] px-4 py-3 text-zinc-800",onClick:S[2]||(S[2]=Z=>h(1))},"Filter")]),S[34]||(S[34]=o("h3",{class:"mb-3 mt-8 text-2xl font-bold text-zinc-800 md:text-3xl"},"Daily Production Log",-1)),o("div",Pg,[U.value.length?K("",!0):(w(),C("article",Ig," No production logs available. ")),(w(!0),C(fe,null,ye(U.value,Z=>(w(),C("article",{key:`mobile-${Z.id}`,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 shadow-sm"},[o("div",Tg,[o("div",null,[o("p",Dg,x(Z.date),1),o("h4",Mg,x(Z.total),1)])]),o("div",Ng,[o("p",null,[S[16]||(S[16]=o("span",{class:"font-semibold"},"Milk:",-1)),pe(" "+x(Z.milk),1)]),o("p",null,[S[17]||(S[17]=o("span",{class:"font-semibold"},"Eggs:",-1)),pe(" "+x(Z.eggs),1)]),o("p",null,[S[18]||(S[18]=o("span",{class:"font-semibold"},"Wool:",-1)),pe(" "+x(Z.wool),1)])]),I.value?(w(),C("div",Og,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:Ie=>O(Z)},"Edit",8,Vg),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:Ie=>V(Z)},"Delete",8,Ug)])):K("",!0)]))),128)),o("article",Fg," Weekly Total: "+x(ue.value),1)]),o("div",Lg,[o("table",zg,[o("thead",jg,[o("tr",null,[S[19]||(S[19]=o("th",{class:"px-4 py-3 text-left text-sm"},"Date",-1)),S[20]||(S[20]=o("th",{class:"px-4 py-3 text-left text-sm"},"Milk (L)",-1)),S[21]||(S[21]=o("th",{class:"px-4 py-3 text-left text-sm"},"Eggs",-1)),S[22]||(S[22]=o("th",{class:"px-4 py-3 text-left text-sm"},"Wool (kg)",-1)),S[23]||(S[23]=o("th",{class:"px-4 py-3 text-left text-sm"},"Total Value",-1)),I.value?(w(),C("th",Bg,"Actions")):K("",!0)])]),o("tbody",null,[U.value.length?K("",!0):(w(),C("tr",qg,[o("td",{colspan:I.value?6:5,class:"px-4 py-8 text-center text-[#7a7467]"},"No production logs available.",8,Hg)])),(w(!0),C(fe,null,ye(U.value,Z=>(w(),C("tr",{key:Z.id,class:"border-t border-[#ddd8ce]"},[o("td",Kg,x(Z.date),1),o("td",Wg,x(Z.milk),1),o("td",Gg,x(Z.eggs),1),o("td",Jg,x(Z.wool),1),o("td",Zg,x(Z.total),1),I.value?(w(),C("td",Qg,[o("div",Yg,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:Ie=>O(Z)},"Edit",8,Xg),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:Ie=>V(Z)},"Delete",8,eb)])])):K("",!0)]))),128)),o("tr",tb,[S[24]||(S[24]=o("td",{class:"px-4 py-3"},"WEEKLY TOTAL",-1)),o("td",sb,x(ne.value),1),o("td",nb,x(X.value),1),o("td",ob,x(se.value),1),o("td",lb,x(ue.value),1),I.value?(w(),C("td",rb)):K("",!0)])])])]),o("div",ab,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm disabled:opacity-40",disabled:r.value<=1,onClick:S[3]||(S[3]=Z=>h(r.value-1))},"Prev",8,ib),o("span",ub,"Page "+x(r.value)+" / "+x(j.value),1),o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm disabled:opacity-40",disabled:r.value>=j.value,onClick:S[4]||(S[4]=Z=>h(r.value+1))},"Next",8,db)]),ve(Vt,{open:u.value,title:c.value==="create"?"Add Production Log":"Edit Production Log",onClose:z},{default:Ve(()=>[o("form",{class:"grid gap-3 md:grid-cols-2",onSubmit:Ye(p,["prevent"])},[o("div",cb,[S[25]||(S[25]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Date",-1)),Y(o("input",{"onUpdate:modelValue":S[5]||(S[5]=Z=>v.value.date=Z),type:"date",required:"",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.date]])]),o("div",fb,[S[26]||(S[26]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Milk (L)",-1)),Y(o("input",{"onUpdate:modelValue":S[6]||(S[6]=Z=>v.value.milkLiters=Z),type:"number",min:"0",step:"0.01",required:"",placeholder:"0.00",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.milkLiters,void 0,{number:!0}]])]),o("div",pb,[S[27]||(S[27]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Eggs",-1)),Y(o("input",{"onUpdate:modelValue":S[7]||(S[7]=Z=>v.value.eggsCount=Z),type:"number",min:"0",step:"1",required:"",placeholder:"0",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.eggsCount,void 0,{number:!0}]])]),o("div",mb,[S[28]||(S[28]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Wool (kg)",-1)),Y(o("input",{"onUpdate:modelValue":S[8]||(S[8]=Z=>v.value.woolKg=Z),type:"number",min:"0",step:"0.01",required:"",placeholder:"0.00",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.woolKg,void 0,{number:!0}]])]),o("div",gb,[S[29]||(S[29]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Milk Rate (KSh/L)",-1)),Y(o("input",{"onUpdate:modelValue":S[9]||(S[9]=Z=>v.value.milkRate=Z),type:"number",min:"0",step:"0.01",required:"",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.milkRate,void 0,{number:!0}]])]),o("div",bb,[S[30]||(S[30]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Egg Rate (KSh/egg)",-1)),Y(o("input",{"onUpdate:modelValue":S[10]||(S[10]=Z=>v.value.eggRate=Z),type:"number",min:"0",step:"0.01",required:"",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.eggRate,void 0,{number:!0}]])]),o("div",hb,[S[31]||(S[31]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Wool Rate (KSh/kg)",-1)),Y(o("input",{"onUpdate:modelValue":S[11]||(S[11]=Z=>v.value.woolRate=Z),type:"number",min:"0",step:"0.01",required:"",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.woolRate,void 0,{number:!0}]])]),o("div",vb,[o("label",xb,[Y(o("input",{"onUpdate:modelValue":S[12]||(S[12]=Z=>v.value.manualTotalOverride=Z),type:"checkbox"},null,512),[[ss,v.value.manualTotalOverride]]),S[32]||(S[32]=pe(" Override total manually ",-1))])]),o("div",yb,[S[33]||(S[33]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Total Value (KSh)",-1)),Y(o("input",{"onUpdate:modelValue":S[13]||(S[13]=Z=>v.value.totalValue=Z),type:"number",min:"0",step:"0.01",required:v.value.manualTotalOverride,disabled:!v.value.manualTotalOverride,placeholder:"0.00",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3 disabled:opacity-60"},null,8,_b),[[ie,v.value.totalValue,void 0,{number:!0}]]),v.value.manualTotalOverride?K("",!0):(w(),C("small",wb,"Auto-calculated: "+x(me(ze)(xe.value)),1))]),o("div",$b,[_.value.length?(w(),C("ul",kb,[(w(!0),C(fe,null,ye(_.value,Z=>(w(),C("li",{key:Z,class:"ml-5 list-disc text-sm font-semibold text-farm-red"},x(Z),1))),128))])):K("",!0),y.value?(w(),C("p",Cb,x(y.value),1)):K("",!0),o("div",Sb,[o("button",{type:"button",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-5 py-3 font-semibold text-zinc-800",disabled:m.value,onClick:z},"Cancel",8,Ab),o("button",{type:"submit",class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",disabled:m.value},x(m.value?"Saving...":c.value==="create"?"Create Log":"Save Changes"),9,Eb)])])],32)]),_:1},8,["open","title"]),ve(ls,{open:R.value,title:"Delete Production Log",message:`Delete production log for ${((be=A.value)==null?void 0:be.date)||""}?`,"confirm-text":"Delete",onCancel:S[14]||(S[14]=Z=>R.value=!1),onConfirm:g},null,8,["open","message"])])}}},Ib={class:"min-w-0"},Tb={class:"flex flex-col justify-between gap-3 md:flex-row md:items-start"},Db={class:"mt-4 grid gap-3 md:grid-cols-[1fr_120px]"},Mb={class:"mt-4 grid gap-4 lg:grid-cols-3"},Nb={class:"text-sm font-semibold tracking-wide"},Ob={class:"my-2 break-words text-2xl font-bold leading-tight md:text-3xl"},Vb={class:"block break-words text-xs"},Ub={class:"mt-3 flex flex-wrap items-center justify-end gap-2"},Fb=["disabled"],Lb={class:"text-sm text-[#6f6758]"},zb=["disabled"],jb={class:"grid gap-3 md:hidden"},Bb={key:0,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 text-center text-[#7a7467]"},qb={class:"flex items-start justify-between gap-2"},Hb={class:"text-sm text-[#7a7467]"},Kb={class:"font-bold text-zinc-800"},Wb={class:"font-bold text-farm-red"},Gb={class:"mt-2 grid gap-1 text-sm text-zinc-700"},Jb={key:0,class:"mt-3 flex flex-wrap gap-2"},Zb=["onClick"],Qb=["onClick"],Yb={class:"rounded-lg border border-[#ddd8ce] bg-farm-gold p-4 font-bold text-zinc-800"},Xb={class:"hidden overflow-x-auto rounded-lg border border-[#ddd8ce] bg-farm-panel shadow-sm md:block"},eh={class:"w-full min-w-[980px] border-collapse"},th={class:"bg-farm-red text-white"},sh={key:0,class:"px-4 py-3 text-right text-sm"},nh={key:0},oh=["colspan"],lh={class:"px-4 py-3"},rh={class:"px-4 py-3"},ah={class:"inline-block rounded-full bg-farm-green px-3 py-1 text-xs font-bold text-white"},ih={class:"px-4 py-3"},uh={class:"px-4 py-3"},dh={class:"px-4 py-3 font-bold text-farm-red"},ch={key:0,class:"px-4 py-3 text-right"},fh={class:"inline-flex flex-wrap justify-end gap-2"},ph=["onClick"],mh=["onClick"],gh={class:"bg-farm-gold font-bold text-zinc-800"},bh={class:"px-4 py-3"},hh={key:0,class:"px-4 py-3"},vh={class:"grid gap-1"},xh={class:"grid gap-1"},yh={class:"grid gap-1"},_h={class:"grid gap-1"},wh={class:"grid gap-1"},$h={class:"md:col-span-2 space-y-3"},kh={key:0,class:"rounded-lg border border-farm-red/30 bg-[#fff4f3] p-3"},Ch={key:1,class:"font-semibold text-farm-red"},Sh={class:"flex flex-wrap items-center gap-3"},Ah=["disabled"],Eh=["disabled"],Rh="rounded-lg p-4 md:p-5 shadow-[0_4px_0_rgba(0,0,0,0.12)] overflow-hidden bg-[length:20px_20px] bg-[linear-gradient(135deg,rgba(255,255,255,0.04)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.04)_50%,rgba(255,255,255,0.04)_75%,transparent_75%,transparent)]",Ph={__name:"ExpensesView",setup(e){const t=st(),s=P({totalExpenses:0,dailyAverage:0,largestCategory:"-",largestAmount:0}),n=P([]),l=P(!1),r=P("create"),a=P(!1),i=P(null),u=P(!1),c=P(""),d=P([]),m=P(null),y=P(""),_=P(1),R=P(0),A=P(10),v=P({date:"",category:"",item:"",vendor:"",amount:null}),T=h=>({green:"bg-farm-green text-white",gold:"bg-farm-gold text-zinc-800",orange:"bg-farm-orange text-white",red:"bg-farm-red text-white"})[h]||"bg-farm-green text-white",I=re(()=>[{label:"Total Expenses (Month)",value:ze(s.value.totalExpenses),note:"Current month",tone:"red"},{label:"Daily Average",value:ze(s.value.dailyAverage),note:"Per day",tone:"gold"},{label:"Largest Category",value:s.value.largestCategory||"-",note:ze(s.value.largestAmount),tone:"green"}]),U=re(()=>ze(s.value.totalExpenses)),j=re(()=>Math.max(1,Math.ceil(R.value/A.value))),H=re(()=>{var h;return $t(t.role||((h=t.user)==null?void 0:h.role)||"","expenses.write")});async function q(h=_.value){const[p,V]=await Promise.all([De("/api/expenses/summary"),De(`/api/expenses?q=${encodeURIComponent(y.value||"")}&page=${h}&pageSize=${A.value}`)]);s.value=p;const g=Array.isArray(V)?V:V.items||[],F=Number(V.total||g.length),S=Number(V.page||h),be=Math.max(1,Math.ceil(F/A.value));if(S>be&&S!==1){await q(be);return}n.value=g,R.value=F,_.value=S}async function ne(){await Qe("/api/expenses",v.value)}async function X(){await ns(`/api/expenses/${m.value}`,v.value)}function se(){v.value={date:"",category:"",item:"",vendor:"",amount:null},d.value=[]}function ue(){H.value&&(se(),m.value=null,c.value="",r.value="create",l.value=!0)}function xe(h){H.value&&(m.value=h.id,c.value="",r.value="edit",v.value={date:h.dateRaw,category:h.category,item:h.item,vendor:h.vendor,amount:h.amountRaw},l.value=!0)}function _e(){l.value=!1,c.value="",d.value=[]}function oe(){const h=[];return String(v.value.date||"").trim()||h.push("Date is required."),String(v.value.category||"").trim()||h.push("Category is required."),String(v.value.item||"").trim()||h.push("Item is required."),String(v.value.vendor||"").trim()||h.push("Vendor is required."),(!Number.isFinite(Number(v.value.amount))||Number(v.value.amount)<=0)&&h.push("Amount must be greater than 0."),d.value=h,h.length===0}async function O(){if(H.value&&oe()){c.value="",u.value=!0;try{r.value==="create"?await ne():await X(),await q(),_e()}catch(h){c.value=h.message||"Failed to save expense"}finally{u.value=!1}}}async function z(h){H.value&&(i.value=h,a.value=!0)}async function E(){if(i.value)try{await os(`/api/expenses/${i.value.id}`),a.value=!1,i.value=null,await q()}catch(h){c.value=h.message||"Failed to delete expense"}}return ut(()=>q(1)),(h,p)=>{var V;return w(),C("section",Ib,[o("header",Tb,[p[11]||(p[11]=o("div",null,[o("h2",{class:"text-2xl font-bold text-zinc-800 md:text-3xl"},"Expense Management"),o("p",{class:"mt-2 text-base text-[#7a7467]"},"Track all farm expenses")],-1)),H.value?(w(),C("button",{key:0,class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",onClick:ue}," + Add Expense ")):K("",!0)]),o("div",Db,[Y(o("input",{"onUpdate:modelValue":p[0]||(p[0]=g=>y.value=g),type:"text",placeholder:"Search category, item, vendor...",class:"w-full rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3",onKeyup:p[1]||(p[1]=Js(g=>q(1),["enter"]))},null,544),[[ie,y.value]]),o("button",{class:"rounded-lg border border-[#d1cbc0] bg-[#f2f0ea] px-4 py-3 text-zinc-800",onClick:p[2]||(p[2]=g=>q(1))},"Filter")]),o("div",Mb,[(w(!0),C(fe,null,ye(I.value,g=>(w(),C("article",{key:g.label,class:tt([Rh,T(g.tone)])},[o("p",Nb,x(g.label),1),o("h3",Ob,x(g.value),1),o("small",Vb,x(g.note),1)],2))),128))]),o("div",Ub,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm disabled:opacity-40",disabled:_.value<=1,onClick:p[3]||(p[3]=g=>q(_.value-1))},"Prev",8,Fb),o("span",Lb,"Page "+x(_.value)+" / "+x(j.value),1),o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm disabled:opacity-40",disabled:_.value>=j.value,onClick:p[4]||(p[4]=g=>q(_.value+1))},"Next",8,zb)]),p[28]||(p[28]=o("h3",{class:"mb-3 mt-8 text-2xl font-bold text-zinc-800 md:text-3xl"},"Expense Ledger",-1)),o("div",jb,[n.value.length?K("",!0):(w(),C("article",Bb," No expenses yet. Add your first expense. ")),(w(!0),C(fe,null,ye(n.value,g=>(w(),C("article",{key:`mobile-${g.date}-${g.item}`,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 shadow-sm"},[o("div",qb,[o("div",null,[o("p",Hb,x(g.date),1),o("h4",Kb,x(g.item),1)]),o("p",Wb,x(g.amount),1)]),o("div",Gb,[o("p",null,[p[12]||(p[12]=o("span",{class:"font-semibold"},"Category:",-1)),pe(" "+x(g.category),1)]),o("p",null,[p[13]||(p[13]=o("span",{class:"font-semibold"},"Vendor:",-1)),pe(" "+x(g.vendor),1)])]),H.value?(w(),C("div",Jb,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:F=>xe(g)},"Edit",8,Zb),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:F=>z(g)},"Delete",8,Qb)])):K("",!0)]))),128)),o("article",Yb," Total Expenses: "+x(U.value),1)]),o("div",Xb,[o("table",eh,[o("thead",th,[o("tr",null,[p[14]||(p[14]=o("th",{class:"px-4 py-3 text-left text-sm"},"Date",-1)),p[15]||(p[15]=o("th",{class:"px-4 py-3 text-left text-sm"},"Category",-1)),p[16]||(p[16]=o("th",{class:"px-4 py-3 text-left text-sm"},"Item",-1)),p[17]||(p[17]=o("th",{class:"px-4 py-3 text-left text-sm"},"Vendor",-1)),p[18]||(p[18]=o("th",{class:"px-4 py-3 text-left text-sm"},"Amount",-1)),H.value?(w(),C("th",sh,"Actions")):K("",!0)])]),o("tbody",null,[n.value.length?K("",!0):(w(),C("tr",nh,[o("td",{colspan:H.value?6:5,class:"px-4 py-8 text-center text-[#7a7467]"},"No expenses yet. Add your first expense.",8,oh)])),(w(!0),C(fe,null,ye(n.value,g=>(w(),C("tr",{key:g.date+g.item,class:"border-t border-[#ddd8ce]"},[o("td",lh,x(g.date),1),o("td",rh,[o("span",ah,x(g.category),1)]),o("td",ih,x(g.item),1),o("td",uh,x(g.vendor),1),o("td",dh,x(g.amount),1),H.value?(w(),C("td",ch,[o("div",fh,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:F=>xe(g)},"Edit",8,ph),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:F=>z(g)},"Delete",8,mh)])])):K("",!0)]))),128)),o("tr",gh,[p[19]||(p[19]=o("td",{class:"px-4 py-3"},"TOTAL EXPENSES",-1)),p[20]||(p[20]=o("td",{class:"px-4 py-3"},null,-1)),p[21]||(p[21]=o("td",{class:"px-4 py-3"},null,-1)),p[22]||(p[22]=o("td",{class:"px-4 py-3"},null,-1)),o("td",bh,x(U.value),1),H.value?(w(),C("td",hh)):K("",!0)])])])]),ve(Vt,{open:l.value,title:r.value==="create"?"Add Expense":"Edit Expense",onClose:_e},{default:Ve(()=>[o("form",{class:"grid gap-3 md:grid-cols-2",onSubmit:Ye(O,["prevent"])},[o("div",vh,[p[23]||(p[23]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Date",-1)),Y(o("input",{"onUpdate:modelValue":p[5]||(p[5]=g=>v.value.date=g),type:"date",required:"",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.date]])]),o("div",xh,[p[24]||(p[24]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Category",-1)),Y(o("input",{"onUpdate:modelValue":p[6]||(p[6]=g=>v.value.category=g),required:"",placeholder:"Feed",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.category,void 0,{trim:!0}]])]),o("div",yh,[p[25]||(p[25]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Item",-1)),Y(o("input",{"onUpdate:modelValue":p[7]||(p[7]=g=>v.value.item=g),required:"",placeholder:"Corn feed",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.item,void 0,{trim:!0}]])]),o("div",_h,[p[26]||(p[26]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Vendor",-1)),Y(o("input",{"onUpdate:modelValue":p[8]||(p[8]=g=>v.value.vendor=g),required:"",placeholder:"Agri Supplies Co.",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.vendor,void 0,{trim:!0}]])]),o("div",wh,[p[27]||(p[27]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Amount",-1)),Y(o("input",{"onUpdate:modelValue":p[9]||(p[9]=g=>v.value.amount=g),type:"number",min:"0.01",step:"0.01",required:"",placeholder:"0.00",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.amount,void 0,{number:!0}]])]),o("div",$h,[d.value.length?(w(),C("ul",kh,[(w(!0),C(fe,null,ye(d.value,g=>(w(),C("li",{key:g,class:"ml-5 list-disc text-sm font-semibold text-farm-red"},x(g),1))),128))])):K("",!0),c.value?(w(),C("p",Ch,x(c.value),1)):K("",!0),o("div",Sh,[o("button",{type:"button",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-5 py-3 font-semibold text-zinc-800",disabled:u.value,onClick:_e},"Cancel",8,Ah),o("button",{type:"submit",class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",disabled:u.value},x(u.value?"Saving...":r.value==="create"?"Create Expense":"Save Changes"),9,Eh)])])],32)]),_:1},8,["open","title"]),ve(ls,{open:a.value,title:"Delete Expense",message:`Delete expense ${((V=i.value)==null?void 0:V.item)||""}?`,"confirm-text":"Delete",onCancel:p[10]||(p[10]=g=>a.value=!1),onConfirm:E},null,8,["open","message"])])}}},Ih={class:"min-w-0"},Th={class:"flex flex-col justify-between gap-3 md:flex-row md:items-start"},Dh={class:"mt-4 grid gap-3 md:grid-cols-[1fr_120px]"},Mh={class:"mt-4 grid gap-4 lg:grid-cols-3"},Nh={class:"text-sm font-semibold tracking-wide"},Oh={class:"my-2 break-words text-2xl font-bold leading-tight md:text-3xl"},Vh={class:"block break-words text-xs"},Uh={class:"mt-3 flex flex-wrap items-center justify-end gap-2"},Fh=["disabled"],Lh={class:"text-sm text-[#6f6758]"},zh=["disabled"],jh={class:"grid gap-3 md:hidden"},Bh={key:0,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 text-center text-[#7a7467]"},qh={class:"flex items-start justify-between gap-2"},Hh={class:"text-sm text-[#7a7467]"},Kh={class:"font-bold text-zinc-800"},Wh={class:"font-bold text-farm-green"},Gh={class:"mt-2 grid gap-1 text-sm text-zinc-700"},Jh={key:0,class:"mt-3 flex flex-wrap gap-2"},Zh=["onClick"],Qh=["onClick"],Yh={class:"rounded-lg border border-[#ddd8ce] bg-farm-gold p-4 font-bold text-zinc-800"},Xh={class:"hidden overflow-x-auto rounded-lg border border-[#ddd8ce] bg-farm-panel shadow-sm md:block"},ev={class:"w-full min-w-[1040px] border-collapse"},tv={class:"bg-farm-green text-white"},sv={key:0,class:"px-4 py-3 text-right text-sm"},nv={key:0},ov=["colspan"],lv={class:"px-4 py-3"},rv={class:"px-4 py-3 font-bold"},av={class:"px-4 py-3"},iv={class:"px-4 py-3"},uv={class:"px-4 py-3"},dv={class:"px-4 py-3"},cv={class:"px-4 py-3 font-bold text-farm-green"},fv={key:0,class:"px-4 py-3 text-right"},pv={class:"inline-flex flex-wrap justify-end gap-2"},mv=["onClick"],gv=["onClick"],bv={class:"bg-farm-gold font-bold text-zinc-800"},hv={class:"px-4 py-3"},vv={key:0,class:"px-4 py-3"},xv={class:"grid gap-1"},yv={class:"grid gap-1"},_v={class:"grid gap-1"},wv={class:"grid gap-1"},$v={class:"grid gap-1"},kv={class:"grid gap-1"},Cv={class:"grid gap-1"},Sv={class:"grid gap-1"},Av={class:"grid gap-1 md:col-span-2"},Ev={class:"inline-flex items-center gap-2 rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3 text-sm text-zinc-700"},Rv={class:"grid gap-1"},Pv=["disabled"],Iv={class:"grid gap-1"},Tv={class:"md:col-span-2 space-y-3"},Dv={key:0,class:"max-h-40 overflow-y-auto rounded-lg border border-farm-red/30 bg-[#fff4f3] p-3"},Mv={key:1,class:"font-semibold text-farm-red"},Nv={class:"sticky bottom-0 flex flex-wrap items-center gap-3 border-t border-[#ddd8ce] bg-farm-panel/95 pt-3 backdrop-blur"},Ov=["disabled"],Vv=["disabled"],Uv="rounded-lg p-4 md:p-5 shadow-[0_4px_0_rgba(0,0,0,0.12)] overflow-hidden bg-[length:20px_20px] bg-[linear-gradient(135deg,rgba(255,255,255,0.04)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.04)_50%,rgba(255,255,255,0.04)_75%,transparent_75%,transparent)]",Fv={__name:"SalesView",setup(e){const t=st(),s=P({totalRevenue:0,dailyAverage:0,topProduct:"-",topAmount:0}),n=P([]),l=P(!1),r=P("create"),a=P(!1),i=P(null),u=P(!1),c=P(""),d=P([]),m=P(null),y=P(""),_=P(1),R=P(0),A=P(10),v=P({date:"",product:"",quantityValue:null,quantityUnit:"",buyer:"",buyerPIN:"",deliveryCounty:"",deliverySubcounty:"",vatApplicable:!1,vatRate:.16,pricePerUnit:null}),T=h=>({green:"bg-farm-green text-white",gold:"bg-farm-gold text-zinc-800",orange:"bg-farm-orange text-white",red:"bg-farm-red text-white"})[h]||"bg-farm-green text-white",I=re(()=>[{label:"Total Revenue (Month)",value:ze(s.value.totalRevenue),note:"Current month",tone:"green"},{label:"Daily Average",value:ze(s.value.dailyAverage),note:"Per day",tone:"gold"},{label:"Top Product",value:s.value.topProduct||"-",note:ze(s.value.topAmount),tone:"orange"}]),U=re(()=>ze(s.value.totalRevenue)),j=re(()=>Math.max(1,Math.ceil(R.value/A.value))),H=re(()=>{var h;return $t(t.role||((h=t.user)==null?void 0:h.role)||"","sales.write")});async function q(h=_.value){const[p,V]=await Promise.all([De("/api/sales/summary"),De(`/api/sales?q=${encodeURIComponent(y.value||"")}&page=${h}&pageSize=${A.value}`)]);s.value=p;const g=Array.isArray(V)?V:V.items||[],F=Number(V.total||g.length),S=Number(V.page||h),be=Math.max(1,Math.ceil(F/A.value));if(S>be&&S!==1){await q(be);return}n.value=g,R.value=F,_.value=S}async function ne(){await Qe("/api/sales",v.value)}async function X(){await ns(`/api/sales/${m.value}`,v.value)}function se(){v.value={date:"",product:"",quantityValue:null,quantityUnit:"",buyer:"",buyerPIN:"",deliveryCounty:"",deliverySubcounty:"",vatApplicable:!1,vatRate:.16,pricePerUnit:null},d.value=[]}function ue(){H.value&&(se(),m.value=null,c.value="",r.value="create",l.value=!0)}function xe(h){H.value&&(m.value=h.id,c.value="",r.value="edit",v.value={date:h.dateRaw,product:h.product,quantityValue:h.quantityValue,quantityUnit:h.quantityUnit,buyer:h.buyer,buyerPIN:h.buyerPIN||"",deliveryCounty:h.deliveryCounty||"",deliverySubcounty:h.deliverySubcounty||"",vatApplicable:!!h.vatApplicable,vatRate:Number(h.vatRate??.16),pricePerUnit:h.pricePerUnit},l.value=!0)}function _e(){l.value=!1,c.value="",d.value=[]}function oe(){const h=[];if(String(v.value.date||"").trim()||h.push("Date is required."),String(v.value.product||"").trim()||h.push("Product is required."),(!Number.isFinite(Number(v.value.quantityValue))||Number(v.value.quantityValue)<=0)&&h.push("Quantity must be greater than 0."),String(v.value.quantityUnit||"").trim()||h.push("Unit is required."),String(v.value.buyer||"").trim()||h.push("Buyer is required."),String(v.value.buyerPIN||"").trim()&&!/^[A-Z][0-9]{9}[A-Z]$/i.test(String(v.value.buyerPIN).trim())&&h.push("Buyer KRA PIN must be valid format, e.g. A012345678Z."),String(v.value.deliverySubcounty||"").trim()&&!String(v.value.deliveryCounty||"").trim()&&h.push("County is required when subcounty is provided."),v.value.vatApplicable){const p=Number(v.value.vatRate);(!Number.isFinite(p)||p<0||p>1)&&h.push("VAT rate must be between 0 and 1.")}return(!Number.isFinite(Number(v.value.pricePerUnit))||Number(v.value.pricePerUnit)<=0)&&h.push("Price must be greater than 0."),d.value=h,h.length===0}async function O(){if(H.value&&oe()){c.value="",u.value=!0;try{r.value==="create"?await ne():await X(),await q(),_e()}catch(h){c.value=h.message||"Failed to save sale"}finally{u.value=!1}}}async function z(h){H.value&&(i.value=h,a.value=!0)}async function E(){if(i.value)try{await os(`/api/sales/${i.value.id}`),a.value=!1,i.value=null,await q()}catch(h){c.value=h.message||"Failed to delete sale"}}return ut(()=>q(1)),(h,p)=>{var V;return w(),C("section",Ih,[o("header",Th,[p[17]||(p[17]=o("div",null,[o("h2",{class:"text-2xl font-bold text-zinc-800 md:text-3xl"},"Sales Management"),o("p",{class:"mt-2 text-base text-[#7a7467]"},"Track all farm sales and revenue")],-1)),H.value?(w(),C("button",{key:0,class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",onClick:ue}," + Add Sale ")):K("",!0)]),o("div",Dh,[Y(o("input",{"onUpdate:modelValue":p[0]||(p[0]=g=>y.value=g),type:"text",placeholder:"Search product or buyer...",class:"w-full rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3",onKeyup:p[1]||(p[1]=Js(g=>q(1),["enter"]))},null,544),[[ie,y.value]]),o("button",{class:"rounded-lg border border-[#d1cbc0] bg-[#f2f0ea] px-4 py-3 text-zinc-800",onClick:p[2]||(p[2]=g=>q(1))},"Filter")]),o("div",Mh,[(w(!0),C(fe,null,ye(I.value,g=>(w(),C("article",{key:g.label,class:tt([Uv,T(g.tone)])},[o("p",Nh,x(g.label),1),o("h3",Oh,x(g.value),1),o("small",Vh,x(g.note),1)],2))),128))]),o("div",Uh,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm disabled:opacity-40",disabled:_.value<=1,onClick:p[3]||(p[3]=g=>q(_.value-1))},"Prev",8,Fh),o("span",Lh,"Page "+x(_.value)+" / "+x(j.value),1),o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm disabled:opacity-40",disabled:_.value>=j.value,onClick:p[4]||(p[4]=g=>q(_.value+1))},"Next",8,zh)]),p[47]||(p[47]=o("h3",{class:"mb-3 mt-8 text-2xl font-bold text-zinc-800 md:text-3xl"},"Sales Ledger",-1)),o("div",jh,[n.value.length?K("",!0):(w(),C("article",Bh," No sales yet. Add your first sale. ")),(w(!0),C(fe,null,ye(n.value,g=>(w(),C("article",{key:`mobile-${g.date}-${g.product}`,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 shadow-sm"},[o("div",qh,[o("div",null,[o("p",Hh,x(g.date),1),o("h4",Kh,x(g.product),1)]),o("p",Wh,x(g.total),1)]),o("div",Gh,[o("p",null,[p[18]||(p[18]=o("span",{class:"font-semibold"},"Qty:",-1)),pe(" "+x(g.quantity),1)]),o("p",null,[p[19]||(p[19]=o("span",{class:"font-semibold"},"Buyer:",-1)),pe(" "+x(g.buyer),1)]),o("p",null,[p[20]||(p[20]=o("span",{class:"font-semibold"},"VAT:",-1)),pe(" "+x(g.vatApplicable?`${Math.round(Number(g.vatRate||0)*100)}%`:"No VAT"),1)]),o("p",null,[p[21]||(p[21]=o("span",{class:"font-semibold"},"Price/Unit:",-1)),pe(" "+x(g.price),1)])]),H.value?(w(),C("div",Jh,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:F=>xe(g)},"Edit",8,Zh),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:F=>z(g)},"Delete",8,Qh)])):K("",!0)]))),128)),o("article",Yh," Total Revenue: "+x(U.value),1)]),o("div",Xh,[o("table",ev,[o("thead",tv,[o("tr",null,[p[22]||(p[22]=o("th",{class:"px-4 py-3 text-left text-sm"},"Date",-1)),p[23]||(p[23]=o("th",{class:"px-4 py-3 text-left text-sm"},"Product",-1)),p[24]||(p[24]=o("th",{class:"px-4 py-3 text-left text-sm"},"Quantity",-1)),p[25]||(p[25]=o("th",{class:"px-4 py-3 text-left text-sm"},"Buyer",-1)),p[26]||(p[26]=o("th",{class:"px-4 py-3 text-left text-sm"},"VAT",-1)),p[27]||(p[27]=o("th",{class:"px-4 py-3 text-left text-sm"},"Price/Unit",-1)),p[28]||(p[28]=o("th",{class:"px-4 py-3 text-left text-sm"},"Total",-1)),H.value?(w(),C("th",sv,"Actions")):K("",!0)])]),o("tbody",null,[n.value.length?K("",!0):(w(),C("tr",nv,[o("td",{colspan:H.value?8:7,class:"px-4 py-8 text-center text-[#7a7467]"},"No sales yet. Add your first sale.",8,ov)])),(w(!0),C(fe,null,ye(n.value,g=>(w(),C("tr",{key:g.date+g.product,class:"border-t border-[#ddd8ce]"},[o("td",lv,x(g.date),1),o("td",rv,x(g.product),1),o("td",av,x(g.quantity),1),o("td",iv,x(g.buyer),1),o("td",uv,x(g.vatApplicable?`${Math.round(Number(g.vatRate||0)*100)}%`:"No VAT"),1),o("td",dv,x(g.price),1),o("td",cv,x(g.total),1),H.value?(w(),C("td",fv,[o("div",pv,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:F=>xe(g)},"Edit",8,mv),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:F=>z(g)},"Delete",8,gv)])])):K("",!0)]))),128)),o("tr",bv,[p[29]||(p[29]=o("td",{class:"px-4 py-3"},"TOTAL REVENUE",-1)),p[30]||(p[30]=o("td",{class:"px-4 py-3"},null,-1)),p[31]||(p[31]=o("td",{class:"px-4 py-3"},null,-1)),p[32]||(p[32]=o("td",{class:"px-4 py-3"},null,-1)),p[33]||(p[33]=o("td",{class:"px-4 py-3"},null,-1)),p[34]||(p[34]=o("td",{class:"px-4 py-3"},null,-1)),o("td",hv,x(U.value),1),H.value?(w(),C("td",vv)):K("",!0)])])])]),ve(Vt,{open:l.value,title:r.value==="create"?"Add Sale":"Edit Sale",onClose:_e},{default:Ve(()=>[o("form",{class:"grid gap-3 md:grid-cols-2",onSubmit:Ye(O,["prevent"])},[o("div",xv,[p[35]||(p[35]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Date",-1)),Y(o("input",{"onUpdate:modelValue":p[5]||(p[5]=g=>v.value.date=g),type:"date",required:"",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.date]])]),o("div",yv,[p[36]||(p[36]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Product",-1)),Y(o("input",{"onUpdate:modelValue":p[6]||(p[6]=g=>v.value.product=g),required:"",placeholder:"Milk",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.product,void 0,{trim:!0}]])]),o("div",_v,[p[37]||(p[37]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Quantity",-1)),Y(o("input",{"onUpdate:modelValue":p[7]||(p[7]=g=>v.value.quantityValue=g),type:"number",min:"0.01",step:"0.01",required:"",placeholder:"0.00",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.quantityValue,void 0,{number:!0}]])]),o("div",wv,[p[38]||(p[38]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Unit",-1)),Y(o("input",{"onUpdate:modelValue":p[8]||(p[8]=g=>v.value.quantityUnit=g),required:"",placeholder:"L",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.quantityUnit,void 0,{trim:!0}]])]),o("div",$v,[p[39]||(p[39]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Buyer",-1)),Y(o("input",{"onUpdate:modelValue":p[9]||(p[9]=g=>v.value.buyer=g),required:"",placeholder:"Local Market",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.buyer,void 0,{trim:!0}]])]),o("div",kv,[p[40]||(p[40]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Buyer KRA PIN (Optional)",-1)),Y(o("input",{"onUpdate:modelValue":p[10]||(p[10]=g=>v.value.buyerPIN=g),placeholder:"A012345678Z",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.buyerPIN,void 0,{trim:!0}]])]),o("div",Cv,[p[41]||(p[41]=o("label",{class:"text-sm font-semibold text-zinc-700"},"County (Optional)",-1)),Y(o("input",{"onUpdate:modelValue":p[11]||(p[11]=g=>v.value.deliveryCounty=g),placeholder:"Nairobi",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.deliveryCounty,void 0,{trim:!0}]])]),o("div",Sv,[p[42]||(p[42]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Subcounty (Optional)",-1)),Y(o("input",{"onUpdate:modelValue":p[12]||(p[12]=g=>v.value.deliverySubcounty=g),placeholder:"Westlands",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.deliverySubcounty,void 0,{trim:!0}]])]),o("div",Av,[o("label",Ev,[Y(o("input",{"onUpdate:modelValue":p[13]||(p[13]=g=>v.value.vatApplicable=g),type:"checkbox"},null,512),[[ss,v.value.vatApplicable]]),p[43]||(p[43]=pe(" VAT applicable for this sale ",-1))])]),o("div",Rv,[p[44]||(p[44]=o("label",{class:"text-sm font-semibold text-zinc-700"},"VAT Rate (Optional)",-1)),Y(o("input",{"onUpdate:modelValue":p[14]||(p[14]=g=>v.value.vatRate=g),type:"number",min:"0",max:"1",step:"0.01",disabled:!v.value.vatApplicable,placeholder:"0.16",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3 disabled:opacity-60"},null,8,Pv),[[ie,v.value.vatRate,void 0,{number:!0}]]),p[45]||(p[45]=o("small",{class:"text-xs text-[#7a7467]"},"Use decimal format, e.g. 0.16 for 16%.",-1))]),o("div",Iv,[p[46]||(p[46]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Price Per Unit",-1)),Y(o("input",{"onUpdate:modelValue":p[15]||(p[15]=g=>v.value.pricePerUnit=g),type:"number",min:"0.01",step:"0.01",required:"",placeholder:"0.00",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,v.value.pricePerUnit,void 0,{number:!0}]])]),o("div",Tv,[d.value.length?(w(),C("ul",Dv,[(w(!0),C(fe,null,ye(d.value,g=>(w(),C("li",{key:g,class:"ml-5 list-disc text-sm font-semibold text-farm-red"},x(g),1))),128))])):K("",!0),c.value?(w(),C("p",Mv,x(c.value),1)):K("",!0),o("div",Nv,[o("button",{type:"button",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-5 py-3 font-semibold text-zinc-800",disabled:u.value,onClick:_e},"Cancel",8,Ov),o("button",{type:"submit",class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",disabled:u.value},x(u.value?"Saving...":r.value==="create"?"Create Sale":"Save Changes"),9,Vv)])])],32)]),_:1},8,["open","title"]),ve(ls,{open:a.value,title:"Delete Sale",message:`Delete sale ${((V=i.value)==null?void 0:V.product)||""}?`,"confirm-text":"Delete",onCancel:p[16]||(p[16]=g=>a.value=!1),onConfirm:E},null,8,["open","message"])])}}},Lv={class:"mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-5"},zv={class:"text-xs font-semibold uppercase tracking-[0.08em] opacity-90"},jv={class:"mt-2 break-words text-xl font-bold leading-tight md:text-2xl"},Bv={class:"mt-2 block break-words text-xs leading-5 opacity-95"},qv={class:"grid gap-4 lg:grid-cols-2"},Hv={class:"break-words text-xl font-bold leading-snug"},Kv={class:"mt-2 min-h-12 break-words text-sm leading-6 text-[#7a7467]"},Wv={class:"mt-2 break-words text-xs font-semibold text-[#6f6758]"},Gv={class:"mt-3 flex flex-wrap items-center justify-between gap-2 border-t border-[#ddd8ce] pt-3"},Jv={class:"break-words"},Zv={class:"inline-flex flex-wrap items-center gap-2"},Qv=["onClick"],Yv=["onClick"],Xv=["onClick"],ex={class:"mt-3 flex items-center justify-end gap-2"},tx=["disabled"],sx={class:"text-sm text-[#6f6758]"},nx=["disabled"],ox={class:"mt-4 rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 shadow-sm"},lx={class:"my-4 grid gap-3 lg:grid-cols-3"},rx={class:"grid gap-1"},ax={class:"grid gap-1"},ix={class:"grid gap-1"},ux={class:"flex flex-wrap items-center gap-3"},dx=["disabled"],cx={key:1,class:"text-sm font-semibold text-[#7a7467]"},fx={key:2,class:"font-semibold text-farm-red"},px={class:"mt-4 rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 shadow-sm"},mx={class:"mt-3 grid gap-3 md:grid-cols-[320px_auto] md:items-end"},gx={class:"grid gap-1"},bx={value:""},hx=["value"],vx={class:"flex items-end"},xx=["disabled"],yx={key:1,class:"text-sm font-semibold text-[#7a7467]"},_x={class:"mt-1 w-full max-w-[320px]"},wx={key:0,class:"block text-xs text-[#7a7467]"},$x={key:0,class:"mt-3 font-semibold text-farm-green"},kx={key:1,class:"mt-3 font-semibold text-farm-red"},Cx={class:"mt-4 overflow-x-auto rounded-lg border border-[#ddd8ce] bg-white"},Sx={class:"w-full min-w-[760px] border-collapse"},Ax={key:0},Ex={class:"px-3 py-2"},Rx={class:"px-3 py-2"},Px={class:"px-3 py-2"},Ix={class:"px-3 py-2"},Tx={class:"px-3 py-2"},Dx={class:"px-3 py-2 text-right"},Mx={class:"inline-flex gap-2"},Nx=["onClick"],Ox=["onClick"],Vx=["onClick"],Ux="flex min-h-32 flex-col rounded-lg p-4 shadow-[0_4px_0_rgba(0,0,0,0.12)] overflow-hidden bg-[length:20px_20px] bg-[linear-gradient(135deg,rgba(255,255,255,0.04)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.04)_50%,rgba(255,255,255,0.04)_75%,transparent_75%,transparent)]",Fx={__name:"ReportsView",setup(e){const t=st(),s=P({grossRevenue:0,netRevenue:0,vatCollected:0,monthlyProfit:0,operatingCosts:0,totalAnimals:0,productivityRate:0}),n=P([]),l=P(1),r=P(8),a=P(0),i=P(!1),u=P(""),c=P(""),d=P(!1),m=P(""),y=P(""),_=P([]),R=P([]),A=P(!1),v=P({dateRange:"Last 7 days",reportType:"Financial",format:"PDF"}),T=re(()=>{var z;return $t(t.role||((z=t.user)==null?void 0:z.role)||"","reports.generate")}),I=re(()=>{var z;return $t(t.role||((z=t.user)==null?void 0:z.role)||"","etims.manage")}),U=re(()=>Number.isInteger(Number.parseInt(String(c.value||""),10))&&Number.parseInt(String(c.value||""),10)>0),j=re(()=>R.value.find(z=>String(z==null?void 0:z.id)===String(c.value||""))||null),H=z=>({green:"bg-farm-green text-white",gold:"bg-farm-gold text-zinc-800",orange:"bg-farm-orange text-white",red:"bg-farm-red text-white"})[z]||"bg-farm-green text-white",q=re(()=>[{label:"Gross Revenue",value:ze(s.value.grossRevenue),note:"Sales before deductions (month)",tone:"gold"},{label:"Net Revenue",value:ze(s.value.netRevenue),note:"Revenue after VAT split",tone:"green"},{label:"VAT Collected",value:ze(s.value.vatCollected),note:"VAT tracked for local records",tone:"orange"},{label:"Operating Costs",value:ze(s.value.operatingCosts),note:"Expense total this month",tone:"orange"},{label:"Monthly Profit",value:ze(s.value.monthlyProfit),note:`Net margin: ${s.value.productivityRate}%`,tone:"green"}]),ne=re(()=>Math.max(1,Math.ceil(a.value/r.value)));async function X(z=l.value){I.value&&(A.value=!0);try{const[E,h,p,V]=await Promise.allSettled([De("/api/reports/stats"),De(`/api/reports?page=${z}&pageSize=${r.value}`),I.value?De("/api/etims/receipts"):Promise.resolve([]),I.value?De("/api/sales?page=1&pageSize=100"):Promise.resolve({items:[]})]);if(E.status==="fulfilled"&&(s.value=E.value),h.status==="fulfilled"){const g=h.value,F=Array.isArray(g)?g:g.items||[],S=Number(g.total||F.length),be=Number(g.page||z),Z=Math.max(1,Math.ceil(S/r.value));if(be>Z&&be!==1){await X(Z);return}n.value=F,a.value=S,l.value=be}if(p.status==="fulfilled"&&(_.value=Array.isArray(p.value)?p.value:[]),V.status==="fulfilled"){const g=V.value,F=Array.isArray(g)?g:g.items||[];R.value=F,!c.value&&F.length&&(c.value=String(F[0].id))}}finally{I.value&&(A.value=!1)}}async function se(){if(T.value){u.value="",i.value=!0;try{await Qe("/api/reports/generate",v.value),await X()}catch(z){u.value=z.message||"Failed to generate report"}finally{i.value=!1}}}async function ue(z,E=""){u.value="";try{const h=String(E||v.value.format||"PDF").toUpperCase(),p=localStorage.getItem("farmpro_token"),g=await fetch(`/api/reports/${z.id}/download?format=${encodeURIComponent(h)}`,{headers:{Accept:"*/*",...p?{Authorization:`Bearer ${p}`}:{}}});if(!g.ok){const Ie=await g.json().catch(()=>({}));throw new Error(Ie.error||`Request failed (${g.status})`)}const F=await g.blob(),S=URL.createObjectURL(F),be=document.createElement("a");be.href=S;const Z=h==="CSV"?"csv":h==="PDF"?"pdf":"json";be.download=`${String(z.title||"report").replace(/\s+/g,"-").toLowerCase()}.${Z}`,document.body.appendChild(be),be.click(),be.remove(),URL.revokeObjectURL(S)}catch(h){u.value=h.message||"Failed to download report"}}ut(X);async function xe(){if(!I.value)return;m.value="",y.value="";const z=Number.parseInt(String(c.value||""),10);if(!Number.isInteger(z)||z<=0){m.value="Enter a valid sale ID.";return}d.value=!0;try{const E=await Qe(`/api/etims/receipts/generate/${z}`,{});y.value=E.notice||`Generated local receipt for sale #${z}.`,await X()}catch(E){m.value=E.message||"Failed to generate receipt"}finally{d.value=!1}}async function _e(z,E="PDF"){m.value="";try{const h=localStorage.getItem("farmpro_token"),V=await fetch(`/api/etims/receipts/${z.id}/download?format=${encodeURIComponent(E)}`,{headers:{Accept:"*/*",...h?{Authorization:`Bearer ${h}`}:{}}});if(!V.ok){const be=await V.json().catch(()=>({}));throw new Error(be.error||`Request failed (${V.status})`)}const g=await V.blob(),F=URL.createObjectURL(g),S=document.createElement("a");S.href=F,S.download=`${String(z.invoiceNumber||`receipt-${z.id}`).replace(/\s+/g,"-").toLowerCase()}.${String(E).toLowerCase()}`,document.body.appendChild(S),S.click(),S.remove(),URL.revokeObjectURL(F)}catch(h){m.value=h.message||"Failed to download receipt"}}function oe(z){const E=Number((z==null?void 0:z.id)||0),h=String((z==null?void 0:z.product)||"Sale"),p=String((z==null?void 0:z.buyer)||"Buyer"),V=String((z==null?void 0:z.total)||"KES 0"),g=String((z==null?void 0:z.date)||"-");return`#${E} - ${h} | ${p} | ${V} | ${g}`}function O(z){const E=String((z==null?void 0:z.product)||"-"),h=String((z==null?void 0:z.buyer)||"-"),p=String((z==null?void 0:z.total)||"-"),V=String((z==null?void 0:z.date)||"-");return`Product: ${E} | Buyer: ${h} | Total: ${p} | Date: ${V}`}return(z,E)=>(w(),C("section",null,[E[20]||(E[20]=o("header",null,[o("h2",{class:"text-2xl font-bold text-zinc-800 md:text-3xl"},"Reports & Analytics"),o("p",{class:"mt-2 text-base text-[#7a7467]"},"Generate and view farm reports")],-1)),E[21]||(E[21]=o("h3",{class:"mt-6 text-xl font-bold text-zinc-800 md:text-2xl"},"Record Highlights",-1)),o("div",Lv,[(w(!0),C(fe,null,ye(q.value,h=>(w(),C("article",{key:h.label,class:tt([Ux,H(h.tone)])},[o("p",zv,x(h.label),1),o("h4",jv,x(h.value),1),o("small",Bv,x(h.note),1)],2))),128))]),E[22]||(E[22]=o("h3",{class:"mb-3 mt-8 text-2xl font-bold text-zinc-800 md:text-3xl"},"Available Reports",-1)),o("div",qv,[(w(!0),C(fe,null,ye(n.value,h=>(w(),C("article",{class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4",key:h.id},[o("h4",Hv,x(h.title),1),o("p",Kv,x(h.detail),1),o("p",Wv,x(h.category)+" | "+x(h.dateRange||"Last 7 days")+" | "+x(h.format||"JSON"),1),o("footer",Gv,[o("small",Jv,"Last generated: "+x(h.generated),1),o("div",Zv,[o("button",{class:"font-bold text-farm-green",onClick:p=>ue(h,"PDF")},"Download PDF",8,Qv),o("button",{class:"rounded border border-[#cec7b8] px-2 py-1 text-xs font-semibold text-zinc-700",onClick:p=>ue(h,"CSV")},"CSV",8,Yv),o("button",{class:"rounded border border-[#cec7b8] px-2 py-1 text-xs font-semibold text-zinc-700",onClick:p=>ue(h,"JSON")},"JSON",8,Xv)])])]))),128))]),o("div",ex,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm disabled:opacity-40",disabled:l.value<=1,onClick:E[0]||(E[0]=h=>X(l.value-1))},"Prev",8,tx),o("span",sx,"Page "+x(l.value)+" / "+x(ne.value),1),o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm disabled:opacity-40",disabled:l.value>=ne.value,onClick:E[1]||(E[1]=h=>X(l.value+1))},"Next",8,nx)]),o("div",ox,[E[12]||(E[12]=o("h3",{class:"text-2xl font-bold text-zinc-800 md:text-3xl"},"Custom Report Builder",-1)),E[13]||(E[13]=o("p",{class:"mt-2 text-[#7a7467]"},"Create a custom report by selecting date range, categories, and metrics",-1)),o("div",lx,[o("label",rx,[E[7]||(E[7]=pe(" Date Range ",-1)),Y(o("select",{"onUpdate:modelValue":E[2]||(E[2]=h=>v.value.dateRange=h),class:"w-full rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},[...E[6]||(E[6]=[o("option",null,"Last 7 days",-1),o("option",null,"Last 30 days",-1),o("option",null,"This month",-1)])],512),[[It,v.value.dateRange]])]),o("label",ax,[E[9]||(E[9]=pe(" Report Type ",-1)),Y(o("select",{"onUpdate:modelValue":E[3]||(E[3]=h=>v.value.reportType=h),class:"w-full rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},[...E[8]||(E[8]=[o("option",null,"Financial",-1),o("option",null,"Health",-1),o("option",null,"Resources",-1),o("option",null,"Sales",-1)])],512),[[It,v.value.reportType]])]),o("label",ix,[E[11]||(E[11]=pe(" Format ",-1)),Y(o("select",{"onUpdate:modelValue":E[4]||(E[4]=h=>v.value.format=h),class:"w-full rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},[...E[10]||(E[10]=[o("option",null,"PDF",-1),o("option",null,"JSON",-1),o("option",null,"CSV",-1)])],512),[[It,v.value.format]])])]),o("div",ux,[T.value?(w(),C("button",{key:0,class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",disabled:i.value,onClick:se},x(i.value?"Generating...":"Generate Report"),9,dx)):(w(),C("p",cx,"You do not have permission to generate reports.")),u.value?(w(),C("p",fx,x(u.value),1)):K("",!0)])]),o("div",px,[E[18]||(E[18]=o("h3",{class:"text-2xl font-bold text-zinc-800 md:text-3xl"},"Tax Receipts (Local)",-1)),E[19]||(E[19]=o("p",{class:"mt-2 text-[#7a7467]"},"Generate and download local tax receipts for your records. No KRA submission is made.",-1)),o("div",mx,[o("label",gx,[E[14]||(E[14]=pe(" Sale ID ",-1)),Y(o("select",{"onUpdate:modelValue":E[5]||(E[5]=h=>c.value=h),class:"w-full max-w-[320px] rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},[o("option",bx,x(A.value?"Loading sales...":"Select sale"),1),(w(!0),C(fe,null,ye(R.value,h=>(w(),C("option",{key:h.id,value:String(h.id)},x(oe(h)),9,hx))),128))],512),[[It,c.value]])]),o("div",vx,[I.value?(w(),C("button",{key:0,class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white disabled:opacity-60",disabled:d.value||!U.value,onClick:xe},x(d.value?"Generating...":"Generate Receipt (Local)"),9,xx)):(w(),C("p",yx,"You do not have permission to generate receipts."))])]),o("div",_x,[j.value?(w(),C("small",wx,x(O(j.value)),1)):K("",!0),E[15]||(E[15]=o("small",{class:"block text-xs text-[#7a7467]"},"Showing latest 100 sales.",-1))]),y.value?(w(),C("p",$x,x(y.value),1)):K("",!0),m.value?(w(),C("p",kx,x(m.value),1)):K("",!0),o("div",Cx,[o("table",Sx,[E[17]||(E[17]=o("thead",{class:"bg-farm-green text-white"},[o("tr",null,[o("th",{class:"px-3 py-2 text-left text-sm"},"Receipt ID"),o("th",{class:"px-3 py-2 text-left text-sm"},"Sale ID"),o("th",{class:"px-3 py-2 text-left text-sm"},"Invoice Number"),o("th",{class:"px-3 py-2 text-left text-sm"},"Status"),o("th",{class:"px-3 py-2 text-left text-sm"},"Generated"),o("th",{class:"px-3 py-2 text-right text-sm"},"Downloads")])],-1)),o("tbody",null,[_.value.length?K("",!0):(w(),C("tr",Ax,[...E[16]||(E[16]=[o("td",{colspan:"7",class:"px-3 py-6 text-center text-[#7a7467]"},"No local receipts yet.",-1)])])),(w(!0),C(fe,null,ye(_.value,h=>(w(),C("tr",{key:h.id,class:"border-t border-[#e6e1d7]"},[o("td",Ex,x(h.id),1),o("td",Rx,x(h.saleId),1),o("td",Px,x(h.invoiceNumber),1),o("td",Ix,x(h.status),1),o("td",Tx,x(h.generatedAt),1),o("td",Dx,[o("div",Mx,[o("button",{class:"rounded border border-[#cec7b8] px-2 py-1 text-xs font-semibold text-zinc-700",onClick:p=>_e(h,"PDF")},"PDF",8,Nx),o("button",{class:"rounded border border-[#cec7b8] px-2 py-1 text-xs font-semibold text-zinc-700",onClick:p=>_e(h,"CSV")},"CSV",8,Ox),o("button",{class:"rounded border border-[#cec7b8] px-2 py-1 text-xs font-semibold text-zinc-700",onClick:p=>_e(h,"JSON")},"JSON",8,Vx)])])]))),128))])])])])]))}},Lx={class:"min-w-0"},zx={class:"flex flex-col justify-between gap-3 md:flex-row md:items-start"},jx={class:"mt-4 grid gap-3 md:grid-cols-[1fr_120px]"},Bx={class:"mt-4 grid gap-4 lg:grid-cols-4"},qx={class:"text-sm font-semibold tracking-wide"},Hx={class:"my-2 break-words text-2xl font-bold leading-tight md:text-3xl"},Kx={class:"grid gap-3 md:hidden"},Wx={key:0,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 text-center text-[#7a7467]"},Gx={class:"flex items-start justify-between gap-2"},Jx={class:"font-bold text-zinc-800"},Zx={class:"text-sm text-[#7a7467] break-all"},Qx={class:"inline-block rounded-full bg-farm-green px-2 py-1 text-xs font-bold text-white"},Yx={class:"mt-2 grid gap-1 text-sm text-zinc-700"},Xx={key:0,class:"mt-3 flex flex-wrap gap-2"},e1=["onClick"],t1=["onClick"],s1={class:"hidden overflow-x-auto rounded-lg border border-[#ddd8ce] bg-farm-panel shadow-sm md:block"},n1={class:"w-full min-w-[980px] border-collapse"},o1={class:"bg-farm-green text-white"},l1={key:0,class:"px-4 py-3 text-right text-sm"},r1={key:0},a1=["colspan"],i1={class:"px-4 py-3 font-semibold"},u1={class:"px-4 py-3"},d1={class:"px-4 py-3"},c1={class:"inline-block rounded-full bg-farm-green px-3 py-1 text-xs font-bold text-white"},f1={class:"px-4 py-3"},p1={class:"px-4 py-3"},m1={class:"inline-block rounded-full bg-farm-green px-3 py-1 text-xs font-bold lowercase text-white"},g1={key:0,class:"px-4 py-3 text-right"},b1={class:"inline-flex flex-wrap justify-end gap-2"},h1=["onClick"],v1=["onClick"],x1={class:"mt-3 flex flex-wrap items-center justify-end gap-2"},y1=["disabled"],_1={class:"text-sm text-[#6f6758]"},w1=["disabled"],$1={class:"grid gap-1"},k1={class:"grid gap-1"},C1={class:"grid gap-1"},S1={class:"grid gap-1"},A1={class:"grid gap-1"},E1={class:"grid gap-1"},R1={class:"text-sm font-semibold text-zinc-700"},P1=["required","type","placeholder"],I1={class:"grid gap-1"},T1={class:"inline-flex items-center gap-2 rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3 text-sm text-zinc-700"},D1={class:"md:col-span-2 space-y-3"},M1={key:0,class:"rounded-lg border border-farm-red/30 bg-[#fff4f3] p-3"},N1={key:1,class:"font-semibold text-farm-red"},O1={class:"flex flex-wrap items-center gap-3"},V1=["disabled"],U1=["disabled"],F1="rounded-lg p-4 md:p-5 shadow-[0_4px_0_rgba(0,0,0,0.12)] overflow-hidden bg-[length:20px_20px] bg-[linear-gradient(135deg,rgba(255,255,255,0.04)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.04)_50%,rgba(255,255,255,0.04)_75%,transparent_75%,transparent)]",L1={__name:"UsersView",setup(e){const t=st(),s=P({totalStaff:0,activeUsers:0,managers:0,veterinarians:0}),n=P([]),l=P(!1),r=P("create"),a=P(!1),i=P(null),u=P(!1),c=P(""),d=P([]),m=P(!1),y=P(null),_=P(""),R=P(1),A=P(0),v=P(10),T=P({name:"",email:"",role:"worker",phone:"",password:"",status:"active"}),I=V=>({green:"bg-farm-green text-white",gold:"bg-farm-gold text-zinc-800",orange:"bg-farm-orange text-white",red:"bg-farm-red text-white"})[V]||"bg-farm-green text-white",U=re(()=>[{label:"Total Staff",value:s.value.totalStaff,tone:"green"},{label:"Active Users",value:s.value.activeUsers,tone:"gold"},{label:"Managers",value:s.value.managers,tone:"orange"},{label:"Veterinarians",value:s.value.veterinarians,tone:"red"}]),j=re(()=>Math.max(1,Math.ceil(A.value/v.value))),H=re(()=>{var V;return Tc(t.role||((V=t.user)==null?void 0:V.role)||"")});async function q(V=R.value){const[g,F]=await Promise.all([De("/api/users/stats"),De(`/api/users?q=${encodeURIComponent(_.value||"")}&page=${V}&pageSize=${v.value}`)]);s.value=g;const S=Array.isArray(F)?F:F.items||[],be=Number(F.total||S.length),Z=Number(F.page||V),Ie=Math.max(1,Math.ceil(be/v.value));if(Z>Ie&&Z!==1){await q(Ie);return}n.value=S,A.value=be,R.value=Z}async function ne(){const V={...T.value};V.phone=p(V.phone),await Qe("/api/users",V)}async function X(){const V={...T.value};V.phone=p(V.phone),V.password||delete V.password,await ns(`/api/users/${y.value}`,V)}function se(){T.value={name:"",email:"",role:"worker",phone:"",password:"",status:"active"},m.value=!1,d.value=[]}function ue(){se(),y.value=null,c.value="",r.value="create",l.value=!0}function xe(V){y.value=V.id,c.value="",r.value="edit",T.value={name:V.name,email:V.email,role:String(V.role||"").toLowerCase(),phone:V.phone,password:"",status:V.status},l.value=!0}function _e(){l.value=!1,m.value=!1,c.value="",d.value=[]}function oe(){const V=[];return T.value.name.trim()||V.push("Name is required."),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T.value.email)||V.push("Valid email is required."),String(T.value.phone||"").trim()&&!h(T.value.phone)&&V.push("Phone must be a valid Kenya number (e.g. +2547XXXXXXXX)."),["owner","manager","worker","veterinarian"].includes(T.value.role)||V.push("Invalid role."),["active","inactive"].includes(T.value.status)||V.push("Invalid status."),r.value==="create"&&String(T.value.password||"").length<6&&V.push("Password must be at least 6 characters."),r.value==="edit"&&T.value.password&&String(T.value.password).length<6&&V.push("New password must be at least 6 characters."),d.value=V,V.length===0}async function O(){if(oe()){c.value="",u.value=!0;try{r.value==="create"?await ne():await X(),await q(),_e()}catch(V){c.value=V.message||"Failed to save user"}finally{u.value=!1}}}async function z(V){i.value=V,a.value=!0}async function E(){if(i.value)try{await os(`/api/users/${i.value.id}`),a.value=!1,i.value=null,await q()}catch(V){c.value=V.message||"Failed to delete user"}}ut(()=>q(1));function h(V){const g=String(V||"").replace(/\s+/g,"");return g?/^(?:\+254|254|0)(7\d{8}|1\d{8})$/.test(g):!0}function p(V){const g=String(V||"").replace(/\s+/g,"");return g?g.startsWith("0")?`+254${g.slice(1)}`:g.startsWith("254")?`+${g}`:g:""}return(V,g)=>{var F;return w(),C("section",Lx,[o("header",zx,[g[13]||(g[13]=o("div",null,[o("h2",{class:"text-2xl font-bold text-zinc-800 md:text-3xl"},"User Management"),o("p",{class:"mt-2 text-base text-[#7a7467]"},"Manage farm staff and permissions")],-1)),H.value?(w(),C("button",{key:0,class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",onClick:ue}," + Add User ")):K("",!0)]),o("div",jx,[Y(o("input",{"onUpdate:modelValue":g[0]||(g[0]=S=>_.value=S),type:"text",placeholder:"Search name, email, role...",class:"w-full rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3",onKeyup:g[1]||(g[1]=Js(S=>q(1),["enter"]))},null,544),[[ie,_.value]]),o("button",{class:"rounded-lg border border-[#d1cbc0] bg-[#f2f0ea] px-4 py-3 text-zinc-800",onClick:g[2]||(g[2]=S=>q(1))},"Filter")]),o("div",Bx,[(w(!0),C(fe,null,ye(U.value,S=>(w(),C("article",{key:S.label,class:tt([F1,I(S.tone)])},[o("p",qx,x(S.label),1),o("h3",Hx,x(S.value),1)],2))),128))]),g[30]||(g[30]=o("h3",{class:"mb-3 mt-8 text-2xl font-bold text-zinc-800 md:text-3xl"},"Staff Directory",-1)),o("div",Kx,[n.value.length?K("",!0):(w(),C("article",Wx," No users yet. Add your first user. ")),(w(!0),C(fe,null,ye(n.value,S=>(w(),C("article",{key:`mobile-${S.id||S.email}`,class:"rounded-lg border border-[#ddd8ce] bg-farm-panel p-4 shadow-sm"},[o("div",Gx,[o("div",null,[o("h4",Jx,x(S.name),1),o("p",Zx,x(S.email),1)]),o("span",Qx,x(S.role),1)]),o("div",Yx,[o("p",null,[g[14]||(g[14]=o("span",{class:"font-semibold"},"Phone:",-1)),pe(" "+x(S.phone||"-"),1)]),o("p",null,[g[15]||(g[15]=o("span",{class:"font-semibold"},"Status:",-1)),pe(" "+x(S.status),1)])]),H.value?(w(),C("div",Xx,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:be=>xe(S)},"Edit",8,e1),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:be=>z(S)},"Delete",8,t1)])):K("",!0)]))),128))]),o("div",s1,[o("table",n1,[o("thead",o1,[o("tr",null,[g[16]||(g[16]=o("th",{class:"px-4 py-3 text-left text-sm"},"Name",-1)),g[17]||(g[17]=o("th",{class:"px-4 py-3 text-left text-sm"},"Email",-1)),g[18]||(g[18]=o("th",{class:"px-4 py-3 text-left text-sm"},"Role",-1)),g[19]||(g[19]=o("th",{class:"px-4 py-3 text-left text-sm"},"Phone",-1)),g[20]||(g[20]=o("th",{class:"px-4 py-3 text-left text-sm"},"Status",-1)),H.value?(w(),C("th",l1,"Actions")):K("",!0)])]),o("tbody",null,[n.value.length?K("",!0):(w(),C("tr",r1,[o("td",{colspan:H.value?6:5,class:"px-4 py-8 text-center text-[#7a7467]"},"No users yet. Add your first user.",8,a1)])),(w(!0),C(fe,null,ye(n.value,S=>(w(),C("tr",{key:S.id||S.email,class:"border-t border-[#ddd8ce]"},[o("td",i1,x(S.name),1),o("td",u1,x(S.email),1),o("td",d1,[o("span",c1,x(S.role),1)]),o("td",f1,x(S.phone||"-"),1),o("td",p1,[o("span",m1,x(S.status),1)]),H.value?(w(),C("td",g1,[o("div",b1,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm",onClick:be=>xe(S)},"Edit",8,h1),o("button",{class:"rounded-md border border-farm-red px-3 py-1 text-sm text-farm-red",onClick:be=>z(S)},"Delete",8,v1)])])):K("",!0)]))),128))])])]),o("div",x1,[o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm disabled:opacity-40",disabled:R.value<=1,onClick:g[3]||(g[3]=S=>q(R.value-1))},"Prev",8,y1),o("span",_1,"Page "+x(R.value)+" / "+x(j.value),1),o("button",{class:"rounded-md border border-[#cec7b8] px-3 py-1 text-sm disabled:opacity-40",disabled:R.value>=j.value,onClick:g[4]||(g[4]=S=>q(R.value+1))},"Next",8,w1)]),H.value?(w(),Le(Vt,{key:0,open:l.value,title:r.value==="create"?"Add User":"Edit User",onClose:_e},{default:Ve(()=>[o("form",{class:"grid gap-3 md:grid-cols-2",onSubmit:Ye(O,["prevent"])},[o("div",$1,[g[21]||(g[21]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Full Name",-1)),Y(o("input",{"onUpdate:modelValue":g[5]||(g[5]=S=>T.value.name=S),required:"",placeholder:"John Doe",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,T.value.name,void 0,{trim:!0}]])]),o("div",k1,[g[22]||(g[22]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Email",-1)),Y(o("input",{"onUpdate:modelValue":g[6]||(g[6]=S=>T.value.email=S),type:"email",required:"",placeholder:"john@example.com",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,T.value.email,void 0,{trim:!0}]])]),o("div",C1,[g[24]||(g[24]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Role",-1)),Y(o("select",{"onUpdate:modelValue":g[7]||(g[7]=S=>T.value.role=S),class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},[...g[23]||(g[23]=[o("option",{value:"worker"},"worker",-1),o("option",{value:"manager"},"manager",-1),o("option",{value:"veterinarian"},"veterinarian",-1),o("option",{value:"owner"},"owner",-1)])],512),[[It,T.value.role]])]),o("div",S1,[g[25]||(g[25]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Phone",-1)),Y(o("input",{"onUpdate:modelValue":g[8]||(g[8]=S=>T.value.phone=S),placeholder:"+1 ...",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,512),[[ie,T.value.phone,void 0,{trim:!0}]])]),o("div",A1,[g[27]||(g[27]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Status",-1)),Y(o("select",{"onUpdate:modelValue":g[9]||(g[9]=S=>T.value.status=S),class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},[...g[26]||(g[26]=[o("option",{value:"active"},"active",-1),o("option",{value:"inactive"},"inactive",-1)])],512),[[It,T.value.status]])]),o("div",E1,[o("label",R1,x(r.value==="create"?"Password":"New Password (optional)"),1),Y(o("input",{"onUpdate:modelValue":g[10]||(g[10]=S=>T.value.password=S),required:r.value==="create",type:m.value?"text":"password",minlength:"6",placeholder:r.value==="create"?"At least 6 characters":"Leave blank to keep current",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-3 py-3"},null,8,P1),[[vs,T.value.password]])]),o("div",I1,[g[29]||(g[29]=o("label",{class:"text-sm font-semibold text-zinc-700"},"Password Visibility",-1)),o("label",T1,[Y(o("input",{"onUpdate:modelValue":g[11]||(g[11]=S=>m.value=S),type:"checkbox",class:"h-4 w-4"},null,512),[[ss,m.value]]),g[28]||(g[28]=pe(" Show password ",-1))])]),o("div",D1,[d.value.length?(w(),C("ul",M1,[(w(!0),C(fe,null,ye(d.value,S=>(w(),C("li",{key:S,class:"ml-5 list-disc text-sm font-semibold text-farm-red"},x(S),1))),128))])):K("",!0),c.value?(w(),C("p",N1,x(c.value),1)):K("",!0),o("div",O1,[o("button",{type:"button",class:"rounded-lg border border-[#cec7b8] bg-[#f5f2eb] px-5 py-3 font-semibold text-zinc-800",disabled:u.value,onClick:_e},"Cancel",8,V1),o("button",{type:"submit",class:"rounded-lg bg-farm-green px-5 py-3 font-semibold text-white",disabled:u.value},x(u.value?"Saving...":r.value==="create"?"Create User":"Save Changes"),9,U1)])])],32)]),_:1},8,["open","title"])):K("",!0),ve(ls,{open:a.value,title:"Delete User",message:`Delete user ${((F=i.value)==null?void 0:F.name)||""}?`,"confirm-text":"Delete",onCancel:g[12]||(g[12]=S=>a.value=!1),onConfirm:E},null,8,["open","message"])])}}},z1={class:"grid min-h-screen place-content-center bg-[#f2efe6] bg-[linear-gradient(rgba(0,0,0,0.025)_1px,transparent_1px),linear-gradient(90deg,rgba(0,0,0,0.025)_1px,transparent_1px)] bg-[size:40px_40px] p-5"},j1={class:"relative"},B1={class:"relative"},q1=["type"],H1={class:"inline-flex items-center gap-2 text-sm text-[#7a7467]"},K1=["disabled"],W1={class:"text-center text-sm"},G1={class:"text-center text-[#7a7467]"},J1={key:0,class:"m-0 font-semibold text-farm-green"},Z1={key:1,class:"m-0 font-semibold text-farm-red"},Q1={__name:"LoginView",setup(e){const t=Nn(),s=Zs(),n=st(),l=P(""),r=P(t.query.registered?"Account created. Verify your email before signing in.":""),a=P(!1),i=ts({email:"",password:""});async function u(){l.value="";const c=String(i.email||"").trim().toLowerCase();if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)){l.value="Enter a valid email address";return}if(String(i.password||"").length<6){l.value="Password must be at least 6 characters";return}try{await n.login({email:c,password:i.password}),s.push("/")}catch(d){l.value=d.message||"Login failed"}}return(c,d)=>(w(),C("section",z1,[d[10]||(d[10]=o("div",{class:"mx-auto grid h-20 w-20 place-items-center rounded-2xl bg-farm-green"},[o("img",{src:ds,alt:"FarmPro",class:"h-12 w-12 rounded-lg"})],-1)),d[11]||(d[11]=o("h1",{class:"mt-3 text-center text-3xl font-bold text-zinc-800 md:text-4xl"},"Welcome to FarmPro",-1)),d[12]||(d[12]=o("p",{class:"mb-4 text-center text-base text-[#7a7467]"},"Sign in to manage your livestock",-1)),o("form",{class:"grid w-[min(460px,92vw)] gap-3 rounded-lg border border-[#ddd8ce] bg-[#f7f4ee] p-6 shadow",onSubmit:Ye(u,["prevent"])},[d[7]||(d[7]=o("label",{class:"font-bold"},"Email Address",-1)),o("div",j1,[ve(me(ka),{class:"pointer-events-none absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-[#847a67]"}),Y(o("input",{"onUpdate:modelValue":d[0]||(d[0]=m=>i.email=m),type:"email",autocomplete:"email",placeholder:"farmer@example.com",required:"",class:"w-full rounded-md border border-[#cdc6b7] bg-[#f1eee6] py-3 pl-11 pr-3"},null,512),[[ie,i.email]])]),d[8]||(d[8]=o("label",{class:"mt-2 font-bold"},"Password",-1)),o("div",B1,[ve(me($a),{class:"pointer-events-none absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-[#847a67]"}),Y(o("input",{"onUpdate:modelValue":d[1]||(d[1]=m=>i.password=m),type:a.value?"text":"password",autocomplete:"current-password",placeholder:"",required:"",minlength:"6",class:"w-full rounded-md border border-[#cdc6b7] bg-[#f1eee6] py-3 pl-11 pr-3"},null,8,q1),[[vs,i.password]])]),d[9]||(d[9]=o("small",{class:"text-sm text-[#7a7467]"},"Minimum 6 characters",-1)),o("label",H1,[Y(o("input",{"onUpdate:modelValue":d[2]||(d[2]=m=>a.value=m),type:"checkbox",class:"h-4 w-4"},null,512),[[ss,a.value]]),d[3]||(d[3]=pe(" Show password ",-1))]),o("button",{class:"mt-2 rounded-lg bg-farm-green px-4 py-3 font-semibold text-white disabled:opacity-60",type:"submit",disabled:me(n).loading},x(me(n).loading?"Signing In...":"Sign In"),9,K1),o("p",W1,[ve(me(dt),{to:"/forgot-password",class:"font-semibold text-farm-green"},{default:Ve(()=>[...d[4]||(d[4]=[pe("Forgot password?",-1)])]),_:1})]),o("p",G1,[d[6]||(d[6]=pe(" Don't have an account? ",-1)),ve(me(dt),{to:"/register",class:"font-bold text-farm-green"},{default:Ve(()=>[...d[5]||(d[5]=[pe("Register here",-1)])]),_:1})]),r.value?(w(),C("p",J1,x(r.value),1)):K("",!0),l.value?(w(),C("p",Z1,x(l.value),1)):K("",!0)],32)]))}},Y1={class:"grid min-h-screen place-content-center bg-[#f2efe6] bg-[linear-gradient(rgba(0,0,0,0.025)_1px,transparent_1px),linear-gradient(90deg,rgba(0,0,0,0.025)_1px,transparent_1px)] bg-[size:40px_40px] p-5"},X1={class:"relative"},ey={class:"relative"},ty={class:"relative"},sy=["type"],ny={class:"relative"},oy=["type"],ly={class:"inline-flex items-center gap-2 text-sm text-[#7a7467]"},ry=["disabled"],ay={class:"text-center text-[#7a7467]"},iy={key:0,class:"m-0 font-semibold text-farm-red"},uy={key:1,class:"m-0 font-semibold text-farm-green"},dy={__name:"RegisterView",setup(e){const t=Zs(),s=st(),n=P(""),l=P(""),r=P(!1),a=ts({name:"",email:"",password:"",confirmPassword:""});async function i(){n.value="";const u=String(a.name||"").trim(),c=String(a.email||"").trim().toLowerCase();if(u.length<2){n.value="Enter your full name";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)){n.value="Enter a valid email address";return}if(String(a.password||"").length<6){n.value="Password must be at least 6 characters";return}if(a.password!==a.confirmPassword){n.value="Passwords do not match";return}try{const d=await s.register({name:u,email:c,password:a.password});l.value=(d==null?void 0:d.notice)||"Account created. Check your email for verification.",setTimeout(()=>t.push("/login?registered=1"),900)}catch(d){n.value=d.message||"Registration failed"}}return(u,c)=>(w(),C("section",Y1,[c[12]||(c[12]=o("div",{class:"mx-auto grid h-20 w-20 place-items-center rounded-2xl bg-farm-green"},[o("img",{src:ds,alt:"FarmPro",class:"h-12 w-12 rounded-lg"})],-1)),c[13]||(c[13]=o("h1",{class:"mt-3 text-center text-3xl font-bold text-zinc-800 md:text-4xl"},"Join FarmPro",-1)),c[14]||(c[14]=o("p",{class:"mb-4 text-center text-base text-[#7a7467]"},"Create your account to get started",-1)),o("form",{class:"grid w-[min(460px,92vw)] gap-3 rounded-lg border border-[#ddd8ce] bg-[#f7f4ee] p-6 shadow",onSubmit:Ye(i,["prevent"])},[c[8]||(c[8]=o("label",{class:"font-bold"},"Full Name",-1)),o("div",X1,[ve(me(Ac),{class:"pointer-events-none absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-[#847a67]"}),Y(o("input",{"onUpdate:modelValue":c[0]||(c[0]=d=>a.name=d),type:"text",autocomplete:"name",placeholder:"John Doe",required:"",class:"w-full rounded-md border border-[#cdc6b7] bg-[#f1eee6] py-3 pl-11 pr-3"},null,512),[[ie,a.name]])]),c[9]||(c[9]=o("label",{class:"mt-2 font-bold"},"Email Address",-1)),o("div",ey,[ve(me(ka),{class:"pointer-events-none absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-[#847a67]"}),Y(o("input",{"onUpdate:modelValue":c[1]||(c[1]=d=>a.email=d),type:"email",autocomplete:"email",placeholder:"farmer@example.com",required:"",class:"w-full rounded-md border border-[#cdc6b7] bg-[#f1eee6] py-3 pl-11 pr-3"},null,512),[[ie,a.email]])]),c[10]||(c[10]=o("label",{class:"mt-2 font-bold"},"Password",-1)),o("div",ty,[ve(me($a),{class:"pointer-events-none absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-[#847a67]"}),Y(o("input",{"onUpdate:modelValue":c[2]||(c[2]=d=>a.password=d),type:r.value?"text":"password",autocomplete:"new-password",placeholder:"",required:"",minlength:"6",class:"w-full rounded-md border border-[#cdc6b7] bg-[#f1eee6] py-3 pl-11 pr-3"},null,8,sy),[[vs,a.password]])]),c[11]||(c[11]=o("label",{class:"mt-2 font-bold"},"Confirm Password",-1)),o("div",ny,[ve(me(Cc),{class:"pointer-events-none absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-[#847a67]"}),Y(o("input",{"onUpdate:modelValue":c[3]||(c[3]=d=>a.confirmPassword=d),type:r.value?"text":"password",autocomplete:"new-password",placeholder:"",required:"",minlength:"6",class:"w-full rounded-md border border-[#cdc6b7] bg-[#f1eee6] py-3 pl-11 pr-3"},null,8,oy),[[vs,a.confirmPassword]])]),o("label",ly,[Y(o("input",{"onUpdate:modelValue":c[4]||(c[4]=d=>r.value=d),type:"checkbox",class:"h-4 w-4"},null,512),[[ss,r.value]]),c[5]||(c[5]=pe(" Show passwords ",-1))]),o("button",{class:"mt-2 rounded-lg bg-farm-green px-4 py-3 font-semibold text-white disabled:opacity-60",type:"submit",disabled:me(s).loading},x(me(s).loading?"Creating...":"Create Account"),9,ry),o("p",ay,[c[7]||(c[7]=pe(" Already have an account? ",-1)),ve(me(dt),{to:"/login",class:"font-bold text-farm-green"},{default:Ve(()=>[...c[6]||(c[6]=[pe("Sign in here",-1)])]),_:1})]),n.value?(w(),C("p",iy,x(n.value),1)):K("",!0),l.value?(w(),C("p",uy,x(l.value),1)):K("",!0)],32)]))}},cy={class:"grid min-h-screen place-content-center bg-[#f2efe6] p-5"},fy={class:"grid w-[min(460px,92vw)] gap-4 rounded-lg border border-[#ddd8ce] bg-[#f7f4ee] p-6 shadow"},py={key:0,class:"text-center text-[#7a7467]"},my={key:1,class:"text-center font-semibold text-farm-green"},gy={key:2,class:"text-center font-semibold text-farm-red"},by={__name:"VerifyEmailView",setup(e){const t=Nn(),s=Zs(),n=st(),l=P(!0),r=P(!1),a=P("");return ut(async()=>{const i=String(t.query.token||"").trim();if(!i){l.value=!1,a.value="Missing verification token";return}try{await n.verifyEmail(i),r.value=!0,setTimeout(()=>s.push("/"),800)}catch(u){a.value=u.message||"Verification failed"}finally{l.value=!1}}),(i,u)=>(w(),C("section",cy,[o("div",fy,[u[1]||(u[1]=o("h1",{class:"text-center text-2xl font-bold text-zinc-800"},"Verify Email",-1)),l.value?(w(),C("p",py,"Verifying your account...")):K("",!0),r.value?(w(),C("p",my,"Email verified. Redirecting...")):K("",!0),a.value?(w(),C("p",gy,x(a.value),1)):K("",!0),ve(me(dt),{to:"/login",class:"text-center font-semibold text-farm-green"},{default:Ve(()=>[...u[0]||(u[0]=[pe("Back to Login",-1)])]),_:1})])]))}},hy={class:"grid min-h-screen place-content-center bg-[#f2efe6] p-5"},vy=["disabled"],xy={key:0,class:"m-0 text-center font-semibold text-farm-green"},yy={key:1,class:"m-0 text-center font-semibold text-farm-red"},_y={__name:"ForgotPasswordView",setup(e){const t=st(),s=P(""),n=P(""),l=P("");async function r(){n.value="",l.value="";try{const a=await t.forgotPassword(String(s.value||"").trim().toLowerCase());l.value=(a==null?void 0:a.message)||"If the email exists, reset instructions were sent."}catch(a){n.value=a.message||"Unable to process request"}}return(a,i)=>(w(),C("section",hy,[o("form",{class:"grid w-[min(460px,92vw)] gap-4 rounded-lg border border-[#ddd8ce] bg-[#f7f4ee] p-6 shadow",onSubmit:Ye(r,["prevent"])},[i[2]||(i[2]=o("h1",{class:"text-center text-2xl font-bold text-zinc-800"},"Forgot Password",-1)),i[3]||(i[3]=o("p",{class:"text-center text-[#7a7467]"},"Enter your email and we will send reset instructions.",-1)),Y(o("input",{"onUpdate:modelValue":i[0]||(i[0]=u=>s.value=u),type:"email",autocomplete:"email",required:"",placeholder:"you@example.com",class:"w-full rounded-md border border-[#cdc6b7] bg-[#f1eee6] px-3 py-3"},null,512),[[ie,s.value]]),o("button",{class:"rounded-lg bg-farm-green px-4 py-3 font-semibold text-white disabled:opacity-60",disabled:me(t).loading,type:"submit"},x(me(t).loading?"Sending...":"Send Reset Email"),9,vy),l.value?(w(),C("p",xy,x(l.value),1)):K("",!0),n.value?(w(),C("p",yy,x(n.value),1)):K("",!0),ve(me(dt),{to:"/login",class:"text-center font-semibold text-farm-green"},{default:Ve(()=>[...i[1]||(i[1]=[pe("Back to Login",-1)])]),_:1})],32)]))}},wy={class:"grid min-h-screen place-content-center bg-[#f2efe6] p-5"},$y=["type"],ky=["type"],Cy={class:"inline-flex items-center gap-2 text-sm text-[#7a7467]"},Sy=["disabled"],Ay={key:0,class:"m-0 text-center font-semibold text-farm-green"},Ey={key:1,class:"m-0 text-center font-semibold text-farm-red"},Ry={__name:"ResetPasswordView",setup(e){const t=Nn(),s=Zs(),n=st(),l=P(""),r=P(""),a=P(!1),i=P(""),u=P("");async function c(){i.value="",u.value="";const d=String(t.query.token||"").trim();if(!d){i.value="Missing reset token";return}if(String(l.value||"").length<6){i.value="Password must be at least 6 characters";return}if(l.value!==r.value){i.value="Passwords do not match";return}try{await n.resetPassword(d,l.value),u.value="Password updated. Redirecting to login...",setTimeout(()=>s.push("/login"),900)}catch(m){i.value=m.message||"Reset failed"}}return(d,m)=>(w(),C("section",wy,[o("form",{class:"grid w-[min(460px,92vw)] gap-4 rounded-lg border border-[#ddd8ce] bg-[#f7f4ee] p-6 shadow",onSubmit:Ye(c,["prevent"])},[m[5]||(m[5]=o("h1",{class:"text-center text-2xl font-bold text-zinc-800"},"Reset Password",-1)),Y(o("input",{"onUpdate:modelValue":m[0]||(m[0]=y=>l.value=y),type:a.value?"text":"password",autocomplete:"new-password",required:"",minlength:"6",placeholder:"New password",class:"w-full rounded-md border border-[#cdc6b7] bg-[#f1eee6] px-3 py-3"},null,8,$y),[[vs,l.value]]),Y(o("input",{"onUpdate:modelValue":m[1]||(m[1]=y=>r.value=y),type:a.value?"text":"password",autocomplete:"new-password",required:"",minlength:"6",placeholder:"Confirm password",class:"w-full rounded-md border border-[#cdc6b7] bg-[#f1eee6] px-3 py-3"},null,8,ky),[[vs,r.value]]),o("label",Cy,[Y(o("input",{"onUpdate:modelValue":m[2]||(m[2]=y=>a.value=y),type:"checkbox",class:"h-4 w-4"},null,512),[[ss,a.value]]),m[3]||(m[3]=pe(" Show passwords ",-1))]),o("button",{class:"rounded-lg bg-farm-green px-4 py-3 font-semibold text-white disabled:opacity-60",disabled:me(n).loading,type:"submit"},x(me(n).loading?"Resetting...":"Reset Password"),9,Sy),u.value?(w(),C("p",Ay,x(u.value),1)):K("",!0),i.value?(w(),C("p",Ey,x(i.value),1)):K("",!0),ve(me(dt),{to:"/login",class:"text-center font-semibold text-farm-green"},{default:Ve(()=>[...m[4]||(m[4]=[pe("Back to Login",-1)])]),_:1})],32)]))}},Sa=dc({history:qd(),routes:[{path:"/login",component:Q1,meta:{public:!0}},{path:"/register",component:dy,meta:{public:!0}},{path:"/verify-email",component:by,meta:{public:!0}},{path:"/forgot-password",component:_y,meta:{public:!0}},{path:"/reset-password",component:Ry,meta:{public:!0}},{path:"/",component:yf,meta:{routeKey:"dashboard"}},{path:"/animals",component:kp,meta:{routeKey:"animals"}},{path:"/health",component:ym,meta:{routeKey:"health"}},{path:"/breeding",component:wg,meta:{routeKey:"breeding"}},{path:"/production",component:Pb,meta:{routeKey:"production"}},{path:"/expenses",component:Ph,meta:{routeKey:"expenses"}},{path:"/sales",component:Fv,meta:{routeKey:"sales"}},{path:"/reports",component:Fx,meta:{routeKey:"reports"}},{path:"/users",component:L1,meta:{routeKey:"users"}}]});Sa.beforeEach(e=>{const t=localStorage.getItem("farmpro_token"),s=localStorage.getItem("farmpro_role")||"";return!e.meta.public&&!t?"/login":e.meta.public&&t||!e.meta.public&&e.meta.routeKey&&s&&!Ca(s,e.meta.routeKey)?"/":!0});Qu(uf).use(ed()).use(Sa).mount("#app");
